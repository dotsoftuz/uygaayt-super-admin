"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[205],{6790:(e,t,n)=>{n.d(t,{J1:()=>r,br:()=>i,eM:()=>a,lq:()=>s});const r=[{_id:"cash",name:"Naqd",trans_key:"cash"}],a=[{_id:"percent",name:"Foiz",trans_key:"percent"},{_id:"amount",name:"Miqdor",trans_key:"amount"}],i=[{name:"functionality",key:"functionality",role:"role"},{name:"discounts",key:"discountOrder",role:"role"},{name:"bonus",key:"bonusOrder",role:"role"},{name:"premium_discounts",key:"premiumDiscountOrder",role:"role"},{name:"main_address",key:"mainAddress",role:"role"},{name:"website_conditions",key:"websiteConditions",role:"role"}],s=[{rate:5},{rate:4},{rate:3},{rate:2},{rate:1}]},77205:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(5468),a=n(65043),i=n(53536),s=n(74117);var o=n(72473),d=n(13094),l=n(24858),m=n(89379),c=n(68903),u=n(61698),g=n(70579);const p=e=>{let{formStore:t,editingRatingId:n,resetForm:i,rate:o}=e;const{t:d}=(0,s.Bd)(),{control:l,handleSubmit:p,reset:x,watch:h,setValue:j}=t,{mutate:b,status:f}=(0,u.L2)(n?"rate-comment/update":"rate-comment/create",n?"put":"post"),{data:y,status:k}=(0,u.gf)("rate-comment/get-by-id/".concat(n),{},{enabled:!!n,suspense:!1});(0,a.useEffect)(()=>{"success"===f&&i()},[f]);return(0,a.useEffect)(()=>{"success"===k&&x({title:y.data.title,imageId:y.data.image})},[k,y]),(0,g.jsx)("div",{className:"custom-drawer",children:(0,g.jsx)("form",{id:"rating",onSubmit:p(e=>{var t;b((0,m.A)((0,m.A)({_id:n},e),{},{imageId:null===(t=e.imageId)||void 0===t?void 0:t._id,rate:o}))}),children:(0,g.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,g.jsx)(c.Ay,{item:!0,md:12,children:(0,g.jsx)(r.ks,{control:l,name:"title.uz",label:"Uz"})}),(0,g.jsx)(c.Ay,{item:!0,md:12,children:(0,g.jsx)(r.ks,{control:l,name:"title.ru",label:"Ru"})}),(0,g.jsx)(c.Ay,{item:!0,md:12,children:(0,g.jsx)(r.ks,{control:l,name:"title.en",label:"En"})}),(0,g.jsxs)(c.Ay,{item:!0,md:12,children:[(0,g.jsx)("label",{className:"py-2",htmlFor:"",children:d("general.recommendation_img")}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)(r.ME,{control:l,setValue:j,name:"imageId"})]})]})})})};var x,h=n(477),j=n(57528);const b=n(66253).default.div(x||(x=(0,j.A)(["\n  margin-top: 10px;\n  .ratings {\n    left: 20px;\n    padding: 10px 20px;\n    margin: auto !important;\n    .rating {\n      display: flex;\n      margin: auto !important;\n      align-items: center;\n      justify-content: center;\n      margin-right: 8px;\n      border-radius: 12px;\n      border: 1px solid #f3f3f8;\n      padding: 4px 12px;\n      width: 112px;\n      cursor: pointer;\n      &.active {\n        background: #EB5B00;\n        border: 1px solid #EB5B00;\n      }\n      svg {\n        margin: 0 1px;\n      }\n    }\n  }\n"])));var f=n(6790),y=n(58885),k=n(83501);const v=()=>{const[e,t]=(0,a.useState)(),[n,m]=(0,a.useState)(),c=(()=>{const{t:e}=(0,s.Bd)();return[{field:e("common.name"),renderCell(e){let{row:t}=e;return(0,i.get)(t,"title.uz","")}}]})(),{t:u}=(0,s.Bd)(),x=(0,o.j)(),j=(0,l.mN)(),[v,_]=(0,a.useState)(5),A=()=>{t(void 0),j.reset({title:{uz:"",ru:"",en:""},imageId:""})},C=(0,g.jsx)("div",{className:"w-full lg:w-[80%] ratings gap-2 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-5",children:f.lq.map(e=>(0,g.jsx)("div",{className:"rating  ".concat(v===e.rate&&"active"),onClick:()=>_(e.rate),children:Array.from({length:e.rate},(e,t)=>t+1).map(e=>(0,g.jsx)(y.Gg,{}))}))}),w=(0,k.L)(),B=(0,a.useMemo)(()=>({rate:v}),[v]);return(0,g.jsxs)(b,{children:[(0,g.jsx)(r.XI,{dataUrl:"rate-comment/paging",columns:c,headerChildren:C,exQueryParams:B,onAddButton:w("rateCommentCreate")?()=>x((0,d.GF)(!0)):void 0,onEditColumn:w("rateCommentUpdate")?e=>{t(e._id),x((0,d.GF)(!0))}:void 0,onDeleteColumn:w("rateCommentDelete")?e=>m(e._id):void 0}),(0,g.jsx)(h.A,{open:n,setOpen:m,url:"rate-comment/delete"}),(0,g.jsx)(r.wA,{FORM_ID:"rating",isEditing:!!e,customTitle:u("general.addBanner"),onClose:A,children:(0,g.jsx)(p,{formStore:j,resetForm:A,editingRatingId:e,rate:v})})]})}}}]);
//# sourceMappingURL=205.54db261c.chunk.js.map