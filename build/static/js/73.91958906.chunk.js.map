{"version":3,"file":"static/js/73.91958906.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/banner/components/BannerForm.tsx","pages/banner/index.tsx","pages/banner/container/Banner.tsx","pages/banner/container/banner.columns.tsx"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\nimport styled from \"styled-components\";\nimport { ITextEditorStyled } from \"./TextEditor.types\";\n\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n`;\n","import { FC } from \"react\";\nimport { TextEditorStyled } from \"./TextEditor.style\";\nimport { TextEditorPropsType } from \"./TextEditor.types\";\n\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\n  const { value, onChange, onImageUpload, isError, type } = props;\n\n  return (\n    <TextEditorStyled\n      controls={[\n        [\n          \"bold\",\n          \"italic\",\n          \"underline\",\n          \"strike\",\n          \"clean\",\n          \"unorderedList\",\n          \"orderedList\",\n          \"alignLeft\",\n          \"alignCenter\",\n          \"alignRight\",\n        ],\n      ]}\n      isError={!!isError}\n      value={value}\n      onChange={onChange}\n      onImageUpload={onImageUpload}\n      type={type}\n    ></TextEditorStyled>\n  );\n};\n\nexport default TextEditor;\n","import { FC, useEffect } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { AutoCompleteForm, ImageInput, TextInput } from \"components\";\nimport { Controller, UseFormReturn } from \"react-hook-form\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport { debounce } from \"lodash\";\n\ninterface IEmployeesForm {\n  formStore: UseFormReturn<any>;\n  editingBannerId: string;\n  resetForm: () => void;\n}\nconst BannerForm: FC<IEmployeesForm> = ({\n  formStore,\n  editingBannerId,\n  resetForm,\n}) => {\n  const { t } = useTranslation();\n  const { control, handleSubmit, reset, watch, setValue } = formStore;\n\n  const { mutate, status } = useApiMutation(\n    editingBannerId ? `/banner/update` : \"/banner/create\",\n    editingBannerId ? \"put\" : \"post\"\n  );\n\n  const { data: getByIdData, status: getByIdStatus } = useApi(\n    `banner/get-by-id/${editingBannerId}`,\n    {},\n    {\n      enabled: !!editingBannerId,\n      suspense: false,\n    }\n  );\n\n  useEffect(() => {\n    if (status === \"success\") {\n      resetForm();\n    }\n  }, [status]);\n\n  const submit = (data: any) => {\n    mutate({\n      _id: editingBannerId,\n      ...data,\n      imageId: data.imageId?._id,\n      productId: data.productId,\n    });\n  };\n\n  useEffect(() => {\n    if (getByIdStatus === \"success\") {\n      reset({\n        title: getByIdData.data.title,\n        imageId: getByIdData.data.image,\n        productId: getByIdData.data.productId,\n        description: getByIdData.data.description,\n      });\n    }\n  }, [getByIdStatus, getByIdData]);\n\n\n  return (\n    <div className=\"custom-drawer\">\n      <form id=\"banner\" onSubmit={handleSubmit(submit)}>\n        <Grid container spacing={2}>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"title\"\n              label={t(\"common.name\")}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <AutoCompleteForm\n              control={control}\n              name=\"productId\"\n              optionsUrl=\"product/choose\"\n              dataProp=\"data.data\"\n              label={t(\"common.product\")}\n              rules={{ required: false }}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <Controller\n              name=\"description\"\n              control={control}\n              render={({ field }) => (\n                <TextEditor\n                  value={field.value}\n                  onChange={(value) => {\n                    field.onChange(value);\n                  }}\n                />\n              )}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\n            <ImageInput control={control} setValue={setValue} name=\"imageId\" />\n            <div className=\"d-flex justify-content-between mt-3\">\n              <span>O'lcham</span>\n              <span>1080(px) - 250(px)</span>\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n};\n\nexport default BannerForm;\n","import Banner from \"./container/Banner\";\n\nexport default Banner;\n","import { FormDrawer, Table } from \"components\";\nimport { useMemo, useState } from \"react\";\nimport { useBannerColumns } from \"./banner.columns\";\nimport { useAppDispatch } from \"../../../store/storeHooks\";\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\nimport { useForm } from \"react-hook-form\";\nimport BannerForm from \"../components/BannerForm\";\nimport { useTranslation } from \"react-i18next\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\n\nconst Banner = () => {\n  const [editingBannerId, setEditingBannerId] = useState<any>();\n  const [bannerId, setBannerId] = useState<any>();\n  const columns = useBannerColumns();\n  const hasAccess = useRoleManager();\n  const { t } = useTranslation();\n  const dis = useAppDispatch();\n  const formStore = useForm<any>();\n\n  const resetForm = () => {\n    setEditingBannerId(undefined);\n    formStore.reset({\n      title: \"\",\n      imageId: \"\",\n      description: \"\",\n    });\n  };\n\n  const queryParams = useMemo(() => ({}), []);\n\n  return (\n    <>\n      <Table\n        dataUrl=\"banner/paging\"\n        columns={columns}\n        searchable\n        onAddButton={hasAccess(\"bannerCreate\")\n          ? () => dis(setOpenDrawer(true))\n          : undefined}\n        onEditColumn={hasAccess(\"bannerUpdate\") ? (row) => {\n          setEditingBannerId(row._id);\n          dis(setOpenDrawer(true));\n        } : undefined}\n        onDeleteColumn={hasAccess(\"bannerDelete\") ? (row) => setBannerId(row._id) : undefined}\n        exQueryParams={queryParams}\n      />\n      <WarningModal open={bannerId} setOpen={setBannerId} url=\"banner/delete\" />\n      <FormDrawer\n        FORM_ID=\"banner\"\n        isEditing={!!editingBannerId}\n        customTitle={editingBannerId ? t(\"general.editBanner\") : t(\"general.addBanner\")}\n        onClose={resetForm}\n      >\n        <BannerForm\n          formStore={formStore}\n          resetForm={resetForm}\n          editingBannerId={editingBannerId}\n        />\n      </FormDrawer>\n\n    </>\n  );\n};\n\nexport default Banner;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { Tooltip } from \"antd\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const useBannerColumns = (): GridColumns => {\n  const { t } = useTranslation();\n\n  return [\n \n    {\n      field: t(\"common.name\"),\n      renderCell({ row }) {\n        const title = row?.title;\n        const truncatedTitle = title?.length > 50 ? `${title.substring(0, 50)}...` : title;\n    \n        return (\n          <Tooltip title={title} arrow>\n            <span>{truncatedTitle}</span>\n          </Tooltip>\n        );\n      },\n    }\n    // {\n    //   field: t(\"common.store\"),\n    //   renderCell({ row }) {\n    //     return get(row, \"store.name\", \"-\");\n    //   },\n    // },\n  ];\n};\n"],"names":["TextEditorStyled","styled","RichTextEditor","props","value","onChange","onImageUpload","isError","type","controls","formStore","editingBannerId","resetForm","t","useTranslation","control","handleSubmit","reset","setValue","watch","useApiMutation","mutate","status","useApi","enabled","suspense","getByIdData","data","getByIdStatus","useEffect","title","imageId","image","productId","description","className","id","onSubmit","_id","Grid","container","spacing","item","md","name","label","optionsUrl","dataProp","rules","required","render","field","TextEditor","htmlFor","useState","setEditingBannerId","bannerId","setBannerId","columns","renderCell","row","truncatedTitle","length","substring","arrow","hasAccess","useRoleManager","dis","useAppDispatch","useForm","undefined","queryParams","useMemo","dataUrl","searchable","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","url","FORM_ID","isEditing","customTitle","onClose"],"sourceRoot":""}