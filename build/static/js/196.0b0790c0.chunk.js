"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[196],{79196:function(e,o,r){r.r(o),r.d(o,{default:function(){return re}});var t=r(29439),n=r(71796),a=r(72791),l=r(61134),i=r(79405),s=r(1413),d=r(84506),c=r(4942),u=r(87462),p=r(63366),m=r(59278),b=r(94419),f=r(66934),h=r(98357),x=r(56125),v=r(35527);var g=a.createContext({}),Z=r(98278),y=r(18833),R=r(75878),C=r(21217);function w(e){return(0,C.ZP)("MuiAccordion",e)}var j=(0,R.Z)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),P=r(80184),S=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],A=(0,f.ZP)(v.Z,{name:"MuiAccordion",slot:"Root",overridesResolver:function(e,o){var r=e.ownerState;return[(0,c.Z)({},"& .".concat(j.region),o.region),o.root,!r.square&&o.rounded,!r.disableGutters&&o.gutters]}})((function(e){var o,r=e.theme,t={duration:r.transitions.duration.shortest};return o={position:"relative",transition:r.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(r.vars||r).palette.divider,transition:r.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}}},(0,c.Z)(o,"&.".concat(j.expanded),{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}}),(0,c.Z)(o,"&.".concat(j.disabled),{backgroundColor:(r.vars||r).palette.action.disabledBackground}),o}),(function(e){var o=e.theme;return{variants:[{props:function(e){return!e.square},style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(o.vars||o).shape.borderRadius,borderBottomRightRadius:(o.vars||o).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:function(e){return!e.disableGutters},style:(0,c.Z)({},"&.".concat(j.expanded),{margin:"16px 0"})}]}})),M=a.forwardRef((function(e,o){var r=(0,h.i)({props:e,name:"MuiAccordion"}),n=r.children,l=r.className,i=r.defaultExpanded,s=void 0!==i&&i,c=r.disabled,f=void 0!==c&&c,v=r.disableGutters,R=void 0!==v&&v,C=r.expanded,j=r.onChange,M=r.square,N=void 0!==M&&M,k=r.slots,G=void 0===k?{}:k,D=r.slotProps,U=void 0===D?{}:D,I=r.TransitionComponent,V=r.TransitionProps,E=(0,p.Z)(r,S),T=(0,Z.Z)({controlled:C,default:s,name:"Accordion",state:"expanded"}),F=(0,t.Z)(T,2),_=F[0],W=F[1],q=a.useCallback((function(e){W(!_),j&&j(e,!_)}),[_,j,W]),B=a.Children.toArray(n),O=(0,d.Z)(B),$=O[0],L=O.slice(1),X=a.useMemo((function(){return{expanded:_,disabled:f,disableGutters:R,toggle:q}}),[_,f,R,q]),H=(0,u.Z)({},r,{square:N,disabled:f,disableGutters:R,expanded:_}),Q=function(e){var o=e.classes,r={root:["root",!e.square&&"rounded",e.expanded&&"expanded",e.disabled&&"disabled",!e.disableGutters&&"gutters"],region:["region"]};return(0,b.Z)(r,w,o)}(H),z=(0,u.Z)({transition:I},G),J=(0,u.Z)({transition:V},U),K=(0,y.Z)("transition",{elementType:x.Z,externalForwardedProps:{slots:z,slotProps:J},ownerState:H}),Y=(0,t.Z)(K,2),ee=Y[0],oe=Y[1];return(0,P.jsxs)(A,(0,u.Z)({className:(0,m.Z)(Q.root,l),ref:o,ownerState:H,square:N},E,{children:[(0,P.jsx)(g.Provider,{value:X,children:$}),(0,P.jsx)(ee,(0,u.Z)({in:_,timeout:"auto"},oe,{children:(0,P.jsx)("div",{"aria-labelledby":$.props.id,id:$.props["aria-controls"],role:"region",className:Q.region,children:L})}))]}))})),N=r(95080);function k(e){return(0,C.ZP)("MuiAccordionSummary",e)}var G=(0,R.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),D=["children","className","expandIcon","focusVisibleClassName","onClick"],U=(0,f.ZP)(N.Z,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:function(e,o){return o.root}})((function(e){var o,r=e.theme,t={duration:r.transitions.duration.shortest};return o={display:"flex",minHeight:48,padding:r.spacing(0,2),transition:r.transitions.create(["min-height","background-color"],t)},(0,c.Z)(o,"&.".concat(G.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),(0,c.Z)(o,"&.".concat(G.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity}),(0,c.Z)(o,"&:hover:not(.".concat(G.disabled,")"),{cursor:"pointer"}),(0,c.Z)(o,"variants",[{props:function(e){return!e.disableGutters},style:(0,c.Z)({},"&.".concat(G.expanded),{minHeight:64})}]),o})),I=(0,f.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:function(e,o){return o.content}})((function(e){var o=e.theme;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:function(e){return!e.disableGutters},style:(0,c.Z)({transition:o.transitions.create(["margin"],{duration:o.transitions.duration.shortest})},"&.".concat(G.expanded),{margin:"20px 0"})}]}})),V=(0,f.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:function(e,o){return o.expandIconWrapper}})((function(e){var o=e.theme;return(0,c.Z)({display:"flex",color:(o.vars||o).palette.action.active,transform:"rotate(0deg)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shortest})},"&.".concat(G.expanded),{transform:"rotate(180deg)"})})),E=a.forwardRef((function(e,o){var r=(0,h.i)({props:e,name:"MuiAccordionSummary"}),t=r.children,n=r.className,l=r.expandIcon,i=r.focusVisibleClassName,s=r.onClick,d=(0,p.Z)(r,D),c=a.useContext(g),f=c.disabled,x=void 0!==f&&f,v=c.disableGutters,Z=c.expanded,y=c.toggle,R=(0,u.Z)({},r,{expanded:Z,disabled:x,disableGutters:v}),C=function(e){var o=e.classes,r=e.expanded,t=e.disabled,n=e.disableGutters,a={root:["root",r&&"expanded",t&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]};return(0,b.Z)(a,k,o)}(R);return(0,P.jsxs)(U,(0,u.Z)({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":Z,className:(0,m.Z)(C.root,n),focusVisibleClassName:(0,m.Z)(C.focusVisible,i),onClick:function(e){y&&y(e),s&&s(e)},ref:o,ownerState:R},d,{children:[(0,P.jsx)(I,{className:C.content,ownerState:R,children:t}),l&&(0,P.jsx)(V,{className:C.expandIconWrapper,ownerState:R,children:l})]}))}));function T(e){return(0,C.ZP)("MuiAccordionDetails",e)}(0,R.Z)("MuiAccordionDetails",["root"]);var F,_=["className"],W=(0,f.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:function(e,o){return o.root}})((function(e){return{padding:e.theme.spacing(1,2,2)}})),q=a.forwardRef((function(e,o){var r=(0,h.i)({props:e,name:"MuiAccordionDetails"}),t=r.className,n=(0,p.Z)(r,_),a=r,l=function(e){var o=e.classes;return(0,b.Z)({root:["root"]},T,o)}(a);return(0,P.jsx)(W,(0,u.Z)({className:(0,m.Z)(l.root,t),ref:o,ownerState:a},n))})),B=r(81131),O=r(61889),$=r(32188),L=r(30168),X=r(17939).default.div(F||(F=(0,L.Z)(["\n  .role-checkbox {\n    padding: 0;\n    background-color: transparent !important;\n  }\n  .MuiAccordion-root,\n  .MuiAccordionSummary-content {\n    margin: 0 !important;\n  }\n  .MuiAccordionSummary-root {\n    padding: 0;\n    border: none !important;\n    margin-bottom: 5px;\n  }\n  .MuiPaper-root {\n    box-shadow: none;\n    &::before {\n      display: none;\n    }\n  }\n  .MuiAccordionDetails-root {\n    padding: 0;\n  }\n  .MuiCheckbox-root {\n    padding: 6px;\n  }\n"]))),H=[{role:"order",label:"order",childRoles:[{role:"orderCreate",label:"create"},{role:"orderUpdate",label:"update"},{role:"orderCancel",label:"delete"}]},{role:"customer",label:"customer",childRoles:[{role:"customerCreate",label:"create"},{role:"customerUpdate",label:"update"},{role:"customerDelete",label:"delete"}]},{role:"product",label:"product",childRoles:[{role:"productCreate",label:"create"},{role:"productUpdate",label:"update"},{role:"productDelete",label:"delete"}]},{role:"category",label:"category",childRoles:[{role:"categoryCreate",label:"create"},{role:"categoryUpdate",label:"update"},{role:"categoryDelete",label:"delete"}]},{role:"employee",label:"employee",childRoles:[{role:"employeeCreate",label:"create"},{role:"employeeUpdate",label:"update"},{role:"employeeDelete",label:"delete"}]},{role:"role",label:"role",childRoles:[{role:"roleCreate",label:"create"},{role:"roleUpdate",label:"update"},{role:"roleDelete",label:"delete"}]},{role:"courier",label:"courier",childRoles:[{role:"courierCreate",label:"create"},{role:"courierUpdate",label:"update"},{role:"courierDelete",label:"delete"}]},{role:"banner",label:"banner",childRoles:[{role:"bannerCreate",label:"create"},{role:"bannerUpdate",label:"update"},{role:"bannerDelete",label:"delete"}]},{role:"news",label:"news",childRoles:[{role:"newsCreate",label:"create"},{role:"newsUpdate",label:"update"},{role:"newsDelete",label:"delete"}]},{role:"rateComment",label:"rateComment",childRoles:[{role:"rateCommentCreate",label:"create"},{role:"rateCommentUpdate",label:"update"},{role:"rateCommentDelete",label:"delete"}]},{role:"store",label:"store",childRoles:[{role:"storeUpdate",label:"update"},{role:"storeDelete",label:"delete"}]},{role:"integration",label:"integration",childRoles:[{role:"integrationUpdate",label:"update"}]},{role:"stateMap",label:"stateMap"},{role:"transaction",label:"transaction",childRoles:[{role:"transactionCreate",label:"create"}]},{role:"settings",label:"settings",childRoles:[{role:"settingsUpdate",label:"update"}]},{role:"report",label:"report"},{role:"discount",label:"discount",childRoles:[{role:"discountUpdate",label:"update"}]}],Q=r(39230),z=function(e){var o,r=e.control,t=e.checkbox,a=e.setValue,l=(0,Q.$G)().t;return(0,P.jsxs)(M,{children:[(0,P.jsx)(E,{expandIcon:(0,P.jsx)(B.Z,{}),children:(0,P.jsx)(n.XZ,{label:l("role.".concat(t.label)),name:t.role,control:r,onChange:function(e,o){return function(e,o){var r=H.find((function(e){return e.role===o}));a(null===r||void 0===r?void 0:r.role,e),null!==r&&void 0!==r&&r.childRoles&&r.childRoles.map((function(o){return a(o.role,e)}))}(e,o.target.name)},isFullWidth:!0,className:"role-checkbox"})}),(0,P.jsx)(q,{children:(0,P.jsx)(O.ZP,{container:!0,display:"flex",justifyContent:"flex-end",spacing:1,className:"mb-2",children:null===t||void 0===t||null===(o=t.childRoles)||void 0===o?void 0:o.map((function(e,o){return(0,P.jsx)(O.ZP,{item:!0,md:11,children:(0,P.jsx)(n.XZ,{control:r,name:e.role,label:l("role.".concat(e.label)),isFullWidth:!0,className:"role-checkbox"})},e.role)}))})})]})},J=function(e){var o=e.formStore,r=e.editingRoleId,t=e.resetForm,l=o.control,i=o.handleSubmit,d=o.setValue,c=o.reset,u=(0,Q.$G)().t,p=(0,$.uC)(r?"role/update":"role/create",r?"put":"post",{}),m=p.mutate,b=p.status,f=(0,$.h_)("role/get-by-id/".concat(r),{},{enabled:!!r,suspense:!1}),h=f.data,x=f.status;(0,a.useEffect)((function(){"success"===b&&t()}),[b]),(0,a.useEffect)((function(){"success"===x&&c((0,s.Z)({},h.data))}),[x,h]);return(0,P.jsx)(X,{className:"custom-drawer",children:(0,P.jsx)("form",{id:"role",onSubmit:i((function(e){m(e)})),children:(0,P.jsxs)(O.ZP,{container:!0,spacing:3,children:[(0,P.jsx)(O.ZP,{item:!0,md:12,children:(0,P.jsx)(n.oi,{control:l,name:"name",label:u("common.name")})}),(0,P.jsxs)(O.ZP,{item:!0,md:12,children:[(0,P.jsx)(n.XZ,{control:l,label:u("common.all"),onChange:function(e){return function(e){H&&Array.isArray(H)&&H.forEach((function(o){o&&"undefined"!==typeof o.role?(d(o.role,e),Array.isArray(o.childRoles)&&o.childRoles.forEach((function(o){o&&"undefined"!==typeof o.role?d(o.role,e):console.warn("Noto'g'ri child role:",o)}))):console.warn("Noto'g'ri role:",o)}))}(e)},name:"_select_all"}),(0,P.jsx)("br",{}),H.map((function(e){return(0,P.jsx)(z,{control:l,checkbox:e,setValue:d})}))]})]})})})},K=r(36978),Y=r(84544),ee=r(29001),oe=function(){var e=(0,l.cI)(),o=[{field:(0,(0,Q.$G)().t)("common.name"),renderCell:function(e){return e.row.name}}],r=(0,a.useState)(),s=(0,t.Z)(r,2),d=s[0],c=s[1],u=(0,i.T)(),p=(0,Q.$G)().t,m=(0,a.useState)(),b=(0,t.Z)(m,2),f=b[0],h=b[1],x=(0,ee.w)(),v=function(){c(null),e.reset({name:"",_select_all:!1}),H.forEach((function(o){var r;e.setValue(o.role,!1),null===o||void 0===o||null===(r=o.childRoles)||void 0===r||r.forEach((function(o){return e.setValue(o.role,!1)}))}))},g=(0,a.useMemo)((function(){return{}}),[]);return(0,P.jsxs)("div",{children:[(0,P.jsx)(n.iA,{columns:o,dataUrl:"role/paging",onAddButton:x("roleCreate")?function(){return u((0,K.dl)(!0))}:void 0,onEditColumn:x("roleUpdate")?function(e){c(e._id),u((0,K.dl)(!0))}:void 0,onDeleteColumn:x("roleDelete")?function(e){return h(e._id)}:void 0,searchable:!0,exQueryParams:g}),(0,P.jsx)(Y.Z,{open:f,setOpen:h,url:"role/delete"}),(0,P.jsx)(n._8,{onClose:v,customTitle:p("general.addRole"),FORM_ID:"role",isEditing:!!d,children:(0,P.jsx)(J,{formStore:e,editingRoleId:d,resetForm:v})})]})},re=oe},18833:function(e,o,r){r.d(o,{Z:function(){return m}});var t=r(4942),n=r(87462),a=r(63366),l=r(6117),i=r(95219),s=r(70472),d=r(18659),c=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],u=["component","slots","slotProps"],p=["component"];function m(e,o){var r=o.className,m=o.elementType,b=o.ownerState,f=o.externalForwardedProps,h=o.getSlotOwnerState,x=o.internalForwardedProps,v=(0,a.Z)(o,c),g=f.component,Z=f.slots,y=void 0===Z?(0,t.Z)({},e,void 0):Z,R=f.slotProps,C=void 0===R?(0,t.Z)({},e,void 0):R,w=(0,a.Z)(f,u),j=y[e]||m,P=(0,s.Z)(C[e],b),S=(0,d.Z)((0,n.Z)({className:r},v,{externalForwardedProps:"root"===e?w:void 0,externalSlotProps:P})),A=S.props.component,M=S.internalRef,N=(0,a.Z)(S.props,p),k=(0,l.Z)(M,null==P?void 0:P.ref,o.ref),G=h?h(N):{},D=(0,n.Z)({},b,G),U="root"===e?A||g:A,I=(0,i.Z)(j,(0,n.Z)({},"root"===e&&!g&&!y[e]&&x,"root"!==e&&!y[e]&&x,N,U&&{as:U},{ref:k}),D);return Object.keys(G).forEach((function(e){delete I[e]})),[j,I]}}}]);
//# sourceMappingURL=196.0b0790c0.chunk.js.map