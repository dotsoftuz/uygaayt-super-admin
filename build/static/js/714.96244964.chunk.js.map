{"version":3,"file":"static/js/714.96244964.chunk.js","mappings":"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","sources":["pages/measure/components/MeasureForm.tsx","pages/measure/index.tsx","pages/measure/container/Measure.tsx","pages/measure/container/measure.columns.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\r\nimport { Grid } from \"@mui/material\";\r\nimport { ImageInput, TextInput } from \"components\";\r\nimport { UseFormReturn } from \"react-hook-form\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface IMeasureForm {\r\n  formStore: UseFormReturn<any>;\r\n  editingMeasureId: string;\r\n  resetForm: () => void;\r\n}\r\n\r\nconst MeasureForm: FC<IMeasureForm> = ({\r\n  formStore,\r\n  editingMeasureId,\r\n  resetForm,\r\n}) => {\r\n  const { control, handleSubmit, reset } = formStore;\r\n  const { t } = useTranslation()\r\n\r\n  const { mutate, status } = useApiMutation(\r\n    editingMeasureId ? `measure/${editingMeasureId}` : \"measure\",\r\n    editingMeasureId ? \"put\" : \"post\"\r\n  );\r\n\r\n  const { data: getByIdData, status: getByIdStatus } = useApi(`measure/${editingMeasureId}`, {}, {\r\n    enabled: !!editingMeasureId,\r\n    suspense: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      resetForm();\r\n    }\r\n  }, [status]);\r\n\r\n  const submit = (data: any) => {\r\n    mutate({\r\n      _id: editingMeasureId,\r\n      ...data,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getByIdStatus === 'success') {\r\n      reset(getByIdData.data);\r\n    }\r\n  }, [getByIdStatus, getByIdData]);\r\n\r\n  return (\r\n    <div className=\"custom-drawer\">\r\n      <form id=\"rating\" onSubmit={handleSubmit(submit)}>\r\n        <Grid container spacing={2}>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"name\"\r\n              label={t('common.name')}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"symbol\"\r\n              label={t('common.symbol')}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeasureForm;\r\n","import Measure from \"./container/Measure\";\r\n\r\nexport default Measure;\r\n","import { FormDrawer, Table } from \"components\";\r\nimport { useState } from \"react\";\r\nimport { useRatingColumns } from \"./measure.columns\";\r\nimport { useAppDispatch } from \"../../../store/storeHooks\";\r\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\r\nimport MeasureForm from \"../components/MeasureForm\";\r\n\r\nconst Measure = () => {\r\n  const [editingMeasureId, setEditingMeasureId] = useState<any>();\r\n  const [ratingId, setMeasureId] = useState<any>();\r\n  const columns = useRatingColumns();\r\n  const { t } = useTranslation();\r\n  const dis = useAppDispatch();\r\n  const formStore = useForm<any>();\r\n\r\n  const resetForm = () => {\r\n    setEditingMeasureId(undefined);\r\n    formStore.reset({\r\n      name: \"\",\r\n      symbol: \"\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        dataUrl=\"measure\"\r\n        columns={columns}\r\n        onAddButton={() => dis(setOpenDrawer(true))}\r\n        onEditColumn={(row) => {\r\n          setEditingMeasureId(row._id);\r\n          dis(setOpenDrawer(true));\r\n        }}\r\n        onDeleteColumn={(row) => setMeasureId(row._id)}\r\n      />\r\n      <WarningModal open={ratingId} setOpen={setMeasureId} url=\"measure\" />\r\n      <FormDrawer\r\n        FORM_ID=\"rating\"\r\n        isEditing={!!editingMeasureId}\r\n        customTitle={t(\"general.addBanner\")}\r\n        onClose={resetForm}\r\n      >\r\n        <MeasureForm\r\n          formStore={formStore}\r\n          resetForm={resetForm}\r\n          editingMeasureId={editingMeasureId}\r\n        />\r\n      </FormDrawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Measure;\r\n","import { GridColumns } from \"@mui/x-data-grid\";\r\nimport { get } from \"lodash\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const useRatingColumns = (): GridColumns => {\r\n  const { t } = useTranslation();\r\n\r\n  return [\r\n    {\r\n      field: t(\"common.name\"),\r\n      renderCell({ row }) {\r\n        return get(row, 'name', '')\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.symbol\"),\r\n      renderCell({ row }) {\r\n        return get(row, 'symbol', '')\r\n      },\r\n    },\r\n  ];\r\n};\r\n"],"names":["_ref","formStore","editingMeasureId","resetForm","control","handleSubmit","reset","t","useTranslation","mutate","status","useApiMutation","concat","data","getByIdData","getByIdStatus","useApi","enabled","suspense","useEffect","_jsx","className","children","id","onSubmit","_objectSpread","_id","_jsxs","Grid","container","spacing","item","md","TextInput","name","label","Measure","setEditingMeasureId","useState","ratingId","setMeasureId","columns","useRatingColumns","field","renderCell","row","get","_ref2","dis","useAppDispatch","useForm","undefined","symbol","_Fragment","Table","dataUrl","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","WarningModal","open","setOpen","url","FormDrawer","FORM_ID","isEditing","customTitle","onClose","MeasureForm"],"sourceRoot":""}