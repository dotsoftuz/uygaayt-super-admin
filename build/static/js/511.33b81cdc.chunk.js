"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[511],{88892:function(e,n,r){var t=r(29439),o=r(72791),i=r(73405),a=r(80184);n.Z=function(e){var n=e.getCoordinate,r=e.center,s=e.height,l=(0,o.useState)(r),d=(0,t.Z)(l,2),u=d[0],c=d[1],m=(0,o.useRef)(null);(0,o.useEffect)((function(){r&&(c(r),m.current&&m.current.setCenter([r.latitude,r.longitude]))}),[r]);return(0,a.jsx)(i.Yy,{children:(0,a.jsxs)(i.D5,{width:"100%",height:s||"500px",defaultState:{center:null!==r&&void 0!==r&&r.latitude?[null===r||void 0===r?void 0:r.latitude,null===r||void 0===r?void 0:r.longitude]:[41.315163390767026,69.27958692367339],zoom:14,behaviors:["default","scrollZoom"]},instanceRef:function(e){m.current=e},onClick:function(e){var r={latitude:e.get("coords")[0],longitude:e.get("coords")[1]};c(r),n(r)},children:[(0,a.jsx)(i.ah,{geometry:[null===u||void 0===u?void 0:u.latitude,null===u||void 0===u?void 0:u.longitude]}),(0,a.jsx)(i.ot,{}),(0,a.jsx)(i.Bo,{options:{float:"left"},onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var r={latitude:e.coords.latitude,longitude:e.coords.longitude};c(r),n(r),m.current&&m.current.setCenter([r.latitude,r.longitude],14)}),(function(e){console.error("Geolocation error:",e)})):console.error("Geolocation is not supported by this browser.")}}),(0,a.jsx)(i.Sj,{options:{float:"right"}}),(0,a.jsx)(i.Ly,{options:{float:"right"}})]})})}},1903:function(e,n,r){r.d(n,{Z:function(){return l}});var t,o=r(30168),i=r(47191),a=(0,r(17939).default)(i.LD)(t||(t=(0,o.Z)(["\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n"]))),s=r(80184),l=function(e){var n=e.value,r=e.onChange,t=e.onImageUpload,o=e.isError,i=e.type;return(0,s.jsx)(a,{controls:[["bold","italic","underline","strike","clean","unorderedList","orderedList","alignLeft","alignCenter","alignRight"]],isError:!!o,value:n,onChange:r,onImageUpload:t,type:i})}},95894:function(e,n,r){r.d(n,{Z:function(){return f}});var t,o,i=r(72791),a=r(61134),s=r(30168),l=r(17939),d=((0,l.default)("div")(t||(t=(0,s.Z)(['\n  border: 1px solid;\n  border-color: "grey" !important;\n  outline: none;\n']))),(0,l.default)("div")(o||(o=(0,s.Z)(["\n  .react-time-picker {\n    width: 100%;\n    .react-time-picker__wrapper {\n      width: 100%;\n      border-radius: 8px;\n      border: 1px solid #d9d9d9;\n      box-sizing: border-box;\n      color: #333333 !important;\n      padding: 9px 16px;\n      font-size: 16px;\n      line-height: 20px;\n      letter-spacing: -0.02em;\n      outline: none;\n      font-weight: 500;\n      transition: all 0.1s ease-out;\n      font-weight: 500;\n      transition: 0.2s ease all;\n      .react-time-picker__inputGroup {\n        input {\n          outline-color: #949494;\n        }\n      }\n    }\n    .react-time-picker__clock {\n      display: none;\n    }\n  }\n"])))),u=r(64717),c=r(39230),m=r(80184),p=function(e){var n=e.control,r=e.name,t=e.errors,o=e.rules,i=e.label,s=(0,c.$G)().t;return(0,m.jsxs)(d,{children:[i&&(0,m.jsx)("label",{className:"custom-label",children:i}),(0,m.jsx)(a.Qr,{control:n,name:r,rules:o,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,m.jsx)(u.Z,{clockIcon:null,className:"time-picker",onChange:r,value:t,format:"HH:mm",hourPlaceholder:"HH",minutePlaceholder:"mm",locale:"uz-UZ"})}}),!!t[r]&&(0,m.jsx)("h6",{className:"text-error mt-1",children:s("general.required")})]})},f=(0,i.memo)(p)},87910:function(e,n,r){var t=r(74165),o=r(15861),i=r(29439),a=r(72791),s=r(75985);n.Z=function(){var e=(0,a.useState)(null),n=(0,i.Z)(e,2),r=n[0],l=n[1],d=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=navigator)&&void 0!==r&&r.clipboard){e.next=3;break}return console.warn("Clipboard not supported"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,navigator.clipboard.writeText(n);case 6:return l(n),s.Am.success("Nusxa olindi!"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),console.warn("Copy failed",e.t0),l(null),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return[r,d]}},89232:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t,o=r(1413),i=r(29439),a=r(61889),s=r(30168),l=r(17939).default.div(t||(t=(0,s.Z)(["\n  padding: 20px;\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  .working-time {\n    > div {\n      width: 48%;\n    }\n  }\n  .address-options {\n    position: absolute;\n    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n    padding: 10px 0;\n    border-radius: 10px;\n    background-color: #fff;\n    max-height: 300px;\n    overflow: auto;\n    z-index: 10;\n    .option {\n      padding: 8px 15px;\n      cursor: pointer;\n      &:hover {\n        background-color: #f5f5f5;\n      }\n    }\n  }\n  .save-btn {\n    text-align: right;\n  }\n\n  .copyBtn {\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n    background-color: #f5f5f5;\n\n    svg {\n      path {\n        fill: blue;\n      }\n    }\n  }\n"]))),d=r(45489),u=r(61134),c=r(39230),m=r(1903),p=r(95894),f=r(62750),x=r(72791),v=r(88892),g=r(71257),h=r(87910),b=r(80184),j=function(){var e,n=(0,x.useState)(!1),r=(0,i.Z)(n,2),t=r[0],s=r[1],j=(0,x.useState)(),w=(0,i.Z)(j,2),y=w[0],k=w[1],Z=(0,x.useState)(""),N=(0,i.Z)(Z,2),T=N[0],C=N[1],P=((0,g.Z)(T,1e3).debouncedValue,(0,h.Z)()),q=(0,i.Z)(P,2),S=(q[0],q[1],(0,u.cI)()),L=S.control,_=S.setValue,z=S.handleSubmit,E=S.formState,F=S.reset,G=S.watch,H=(0,c.$G)().t,I=(0,f.h_)("store/get",{},{suspense:!1}),R=I.data,U=I.status,B=(0,f.uC)("address/by-name","post",{onSuccess:function(){s(!0)}}),D=B.mutate,V=B.data;(0,x.useEffect)((function(){"string"===typeof T&&T.trim()&&D({name:T})}),[T]);var X=(0,f.uC)("store/update","put").mutate,$=(0,f.uC)("address/by-point","post",{onSuccess:function(e){var n=e.data;_("addressName",null===n||void 0===n?void 0:n.name)}}),A=$.mutate;(0,x.useEffect)((function(){null!==y&&void 0!==y&&y.latitude&&null!==y&&void 0!==y&&y.longitude?A({latitude:y.latitude,longitude:y.longitude}):console.error("Coordinates are missing")}),[A,y]),(0,x.useEffect)((function(){if("success"===U){var e,n,r,t,i=null===R||void 0===R?void 0:R.data;F((0,o.Z)((0,o.Z)({},i),{},{startTime:11===(null===(e=i.workTime)||void 0===e?void 0:e.length)?null===(n=i.workTime)||void 0===n?void 0:n.slice(0,5):"",endTime:11===(null===(r=i.workTime)||void 0===r?void 0:r.length)?null===(t=i.workTime)||void 0===t?void 0:t.slice(-5):"",addressLocation:i.addressLocation,deliveryPrice:i.deliveryPrice,itemPrepTimeFrom:i.itemPrepTimeFrom,itemPrepTimeTo:i.itemPrepTimeTo}))}}),[U,R]);return(0,b.jsx)(l,{children:(0,b.jsxs)("form",{onSubmit:z((function(e){var n={name:e.name,description:e.description,workTime:e.startTime?"".concat(e.startTime,"-").concat(e.endTime):void 0,phoneNumber:e.phoneNumber,addressName:e.addressName,addressLocation:y,deliveryPrice:+e.deliveryPrice,itemPrepTimeFrom:e.itemPrepTimeFrom,itemPrepTimeTo:e.itemPrepTimeTo};X(n)})),children:[(0,b.jsx)(a.ZP,{className:"w-full",children:(0,b.jsx)("div",{className:"save-btn",children:(0,b.jsx)(d.c7,{title:H("general.save"),variant:"contained",type:"submit"})})}),(0,b.jsxs)(a.ZP,{className:"block lg:flex",children:[(0,b.jsxs)(a.ZP,{className:"lg:w-[50%] pr-3 py-3",children:[(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)(d.oi,{control:L,name:"name",label:H("common.companyName")})}),(0,b.jsxs)("div",{className:"mb-3 sm:flex md:gap-0 gap-y-2 justify-between items-end working-time",children:[(0,b.jsx)(p.Z,{control:L,name:"startTime",errors:E.errors,label:H("common.workTime"),rules:{required:!0}}),(0,b.jsx)(p.Z,{control:L,name:"endTime",errors:E.errors,rules:{required:!0}})]}),(0,b.jsxs)("div",{className:"mb-3 sm:flex md:gap-0 gap-y-2 justify-between items-end working-time",children:[(0,b.jsx)(d.oi,{control:L,name:"itemPrepTimeFrom",type:"number",label:H("settings.delivery_time")}),(0,b.jsx)(d.oi,{control:L,name:"itemPrepTimeTo",type:"number"})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)(d.oi,{control:L,name:"deliveryPrice",type:"number",label:H("order.deliveryPrice"),rules:{required:!1}})}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(d.oi,{control:L,name:"addressName",label:H("common.address"),rules:{required:!1},onCustomChange:function(e){return C(e)}}),(0,b.jsx)("div",{className:"address-options",children:t&&(null===V||void 0===V||null===(e=V.data)||void 0===e?void 0:e.map((function(e){return(0,b.jsx)("div",{className:"option",onClick:function(){_("addressName",e.name),_("addressLocation",{latitude:e.latitude,longitude:e.longitude}),s(!1)},children:e.name})})))})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)(d.sb,{control:L,name:"phoneNumber",label:H("common.phoneNumber"),rules:{required:!1}})}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"custom-label",children:H("common.description")}),(0,b.jsx)(m.Z,{value:G("description"),onChange:function(e){return _("description",e)}})]})]}),(0,b.jsx)(a.ZP,{className:"lg:w-[50%]",children:(0,b.jsxs)("div",{className:"mt-5",children:[(0,b.jsx)("br",{}),(0,b.jsx)(v.Z,{getCoordinate:k,center:G("addressLocation"),height:"70vh"})]})})]})]})})},w=j}}]);
//# sourceMappingURL=511.33b81cdc.chunk.js.map