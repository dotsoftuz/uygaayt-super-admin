"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[704],{5704:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var a=t(29439),s=t(71796),o=t(72791),r=t(50131),i=t(39230),l=t(80184),d=t(79405),m=t(36978),u=t(61134),c=t(29001),h=t(84544),f=t(1413),p=t(61889),x=t(32188),j=function(e){var n=e.formStore,t=e.editingPaymentMethodId,a=e.resetForm,r=(0,i.$G)().t,d=n.control,m=n.handleSubmit,u=n.reset,c=(n.watch,n.setValue),h=(0,x.uC)(t?"/payment-method/update":"/payment-method/create",t?"put":"post"),j=h.mutate,b=h.status,y=(0,x.h_)("payment-method/get-by-id/".concat(t),{},{enabled:!!t,suspense:!1}),g=y.data,k=y.status;(0,o.useEffect)((function(){"success"===b&&a()}),[b]);return(0,o.useEffect)((function(){"success"===k&&u({name:g.data.name,link:g.data.link})}),[k,g]),(0,o.useEffect)((function(){t||u({name:"",link:""})}),[t,u]),(0,l.jsx)("div",{className:"custom-drawer",children:(0,l.jsx)("form",{id:"payment-method",onSubmit:m((function(e){j((0,f.Z)((0,f.Z)({_id:t},e),{},{link:e.link.url}))})),children:(0,l.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(p.ZP,{item:!0,md:12,children:(0,l.jsx)(s.oi,{control:d,name:"name",label:r("common.title")})}),(0,l.jsxs)(p.ZP,{item:!0,md:12,children:[(0,l.jsx)("label",{className:"py-2",htmlFor:"",children:"QR code"}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(s.aG,{rules:{required:!1},control:d,setValue:c,name:"link"}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{className:"py-2",htmlFor:"",children:r("general.recommendation_img")})]})]})})})},b=function(){var e=(0,o.useState)(),n=(0,a.Z)(e,2),t=n[0],f=n[1],p=(0,o.useState)(),x=(0,a.Z)(p,2),b=x[0],y=x[1],g=[{field:(0,(0,i.$G)().t)("common.name"),renderCell:function(e){var n=e.row,t=null===n||void 0===n?void 0:n.name,a=(null===t||void 0===t?void 0:t.length)>50?"".concat(t.substring(0,50),"..."):t;return(0,l.jsx)(r.Z,{title:t,arrow:!0,children:(0,l.jsx)("span",{children:a})})}}],k=((0,c.w)(),(0,i.$G)().t),v=(0,d.T)(),_=(0,u.cI)(),Z=function(){f(void 0),_.reset({name:""})},w=(0,o.useMemo)((function(){return{}}),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.iA,{dataUrl:"payment-method/paging",columns:g,searchable:!0,onAddButton:function(){v((0,m.dl)(!0))},onEditColumn:function(e){f(e._id),v((0,m.dl)(!0))},onDeleteColumn:function(e){return y(e._id)},exQueryParams:w}),(0,l.jsx)(h.Z,{open:b,setOpen:y,url:"payment-method/delete"}),(0,l.jsx)(s._8,{FORM_ID:"payment-method",isEditing:!!t,customTitle:k("general.payment_method"),onClose:Z,children:(0,l.jsx)(j,{formStore:_,resetForm:Z,editingPaymentMethodId:t})})]})}}}]);
//# sourceMappingURL=704.bc81a799.chunk.js.map