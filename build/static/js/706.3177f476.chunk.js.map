{"version":3,"file":"static/js/706.3177f476.chunk.js","mappings":"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","sources":["pages/order/components/SwitchView/SwitchView.styled.ts","pages/order/components/SwitchView/SwitchView.tsx","pages/order/container/orderTable/orderTable.columns.tsx","components/common/AutocompleteFilterGet/AutoCompleteFilter.tsx","pages/order/container/orderTable/OrderTable.tsx","pages/order/container/orderBoard/components/LaneHeader.tsx","pages/order/container/orderBoard/OrderBoard.styled.ts","pages/order/container/orderBoard/OrderBoard.tsx","pages/order/container/orderBoard/OrderBoard.constants.ts","pages/order/container/addOrder/container/AddOrder.styled.ts","pages/order/container/addOrder/components/Basket/Basket.styled.ts","pages/order/container/addOrder/components/Basket/Pagination.tsx","pages/order/container/addOrder/components/Basket/Basket.tsx","pages/order/container/addOrder/components/AddOrderForm/AddOrderForm.styled.ts","components/common/YandexMapForOrder/YandexMapForOrder.tsx","components/form/SelectPost/SelectForm.style.ts","components/form/SelectPost/SelectFormPost.tsx","pages/order/container/addOrder/components/AddOrderForm/AddOrderForm.tsx","pages/order/container/addOrder/container/AddOrder.tsx","pages/order/container/orderDetails/container/OrderDetails.styled.ts","pages/order/container/orderDetails/components/OrderProducts/OrderProducts.styled.ts","pages/order/container/orderDetails/components/OrderProducts/OrderProducts.tsx","pages/order/container/orderDetails/components/OrderInfo/OrderInfo.styled.ts","pages/order/container/orderDetails/components/OrderInfo/OrderInfo.tsx","pages/order/container/orderDetails/container/OrderDetails.tsx","pages/order/index.tsx","types/enums.ts","utils/numberFormat.ts"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const SwitchViewStyled = styled.div<any>`\n  .MuiToggleButton-root {\n    border-radius: 12px;\n    background-color: #f5f5f5 !important;\n    z-index: 2;\n    transition: all 0.3s ease;\n    &.active {\n      background-color: #EB5B00 !important;\n    }\n  }\n`;\n","import { ToggleButton, ToggleButtonGroup } from \"@mui/material\";\nimport { HorizontalIcon, VerticalIcon } from \"assets/svgs\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { getLastUrl } from \"utils\";\nimport { SwitchViewStyled } from \"./SwitchView.styled\";\n\nexport type TOrderView = \"table\" | \"board\";\n\nconst SwitchView: React.FC = () => {\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n\n  const handleChange = (\n    event: React.MouseEvent<HTMLElement>,\n    newAlignment: TOrderView\n  ) => {\n    if (newAlignment) {\n      navigate(`/order/${newAlignment}`);\n    }\n  };\n\n  return (\n    <SwitchViewStyled path={getLastUrl(pathname)}>\n      <ToggleButtonGroup\n        color=\"primary\"\n        value={getLastUrl(pathname)}\n        exclusive\n        onChange={handleChange}\n        aria-label=\"Platform\"\n      >\n        <ToggleButton\n          value=\"table\"\n          className={getLastUrl(pathname) === \"table\" ? \"active\" : \"\"}\n        >\n          <HorizontalIcon />\n        </ToggleButton>\n        <ToggleButton\n          value=\"board\"\n          className={getLastUrl(pathname) === \"board\" ? \"active\" : \"\"}\n        >\n          <VerticalIcon />\n        </ToggleButton>\n      </ToggleButtonGroup>\n    </SwitchViewStyled>\n  );\n};\nexport default SwitchView;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { Tooltip } from \"antd\";\nimport { Select } from \"components\";\nimport dayjs from \"dayjs\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { numberFormat } from \"utils/numberFormat\";\n\nconst StateSelectStyled = styled.div<{ stateColor: string; luma: any }>`\n  margin-bottom: 5px;\n  .MuiInputBase-root {\n    background-color: ${({ stateColor }) => stateColor};\n    color: ${({ luma }) => (luma > 60 ? \"#232323\" : \"#ffffff\")} !important;\n  }\n  & .MuiSelect-select.Mui-disabled {\n    color: ${({ luma }) => (luma > 60 ? \"#232323\" : \"#ffffff\")} !important;\n    -webkit-text-fill-color: ${({ luma }) =>\n      luma > 60 ? \"#232323\" : \"#ffffff\"} !important;\n  }\n\n  & svg {\n    path {\n      fill: ${({ luma }) => (luma > 60 ? \"#232323\" : \"#ffffff\")} !important;\n    }\n  }\n`;\n\nexport const useOrderTableColumns = (\n  setStateUpdateData: any,\n  orderStates: any[]\n): GridColumns => {\n  const { t } = useTranslation();\n\n  return [\n    {\n      field: t(\"common.number\"),\n      renderCell({ row }) {\n        return row.number;\n      },\n      flex: 0.6,\n    },\n    {\n      field: t(\"common.price\"),\n      renderCell({ row }) {\n        return numberFormat(row.totalPrice);\n      },\n      flex: 0.6,\n    },\n    // {\n    //   field: t(\"common.customer\"),\n    //   renderCell({ row }) {\n    //     return (\n    //       get(row, \"customer.firstName\", \"\") +\n    //       \" \" +\n    //       get(row, \"customer.lastName\", \"\")\n    //     );\n    //   },\n    // },\n    {\n      field: t(\"order.receiver\"),\n      renderCell({ row }) {\n        const firstName = row?.customer?.firstName;\n        const shortFirst =\n          firstName?.length > 10\n            ? `${firstName.substring(0, 10)}...`\n            : firstName;\n\n        const lastName = row?.customer?.lastName;\n        const shortLast =\n          lastName?.length > 10 ? `${lastName.substring(0, 10)}...` : lastName;\n\n        const fullName = `${shortFirst}${lastName ? ` ${shortLast}` : \"\"}`;\n        const tooltipText = `${firstName}${lastName ? ` ${lastName}` : \"\"}`;\n\n        return (\n          <Tooltip title={tooltipText} arrow>\n            <span>{fullName}</span>\n          </Tooltip>\n        );\n      },\n    },\n    {\n      field: t(\"common.phoneNumber\"),\n      renderCell({ row }) {\n        return row.customer?.phoneNumber;\n      },\n    },\n    {\n      field: t(\"common.receiverPhoneNumber\"),\n      renderCell({ row }) {\n        return row.receiverCustomer?.phoneNumber;\n      },\n    },\n    {\n      field: t(\"common.paymentType\"),\n      renderCell({ row }) {\n        return t(`enum.${row.paymentType}`);\n      },\n      flex: 0.6,\n    },\n    {\n      field: \"store\",\n      headerName: \"Do'kon\",\n      renderCell({ row }) {\n        // Agar store name mavjud bo'lsa (to'g'ri populate qilingan)\n        if (row?.store?.name) {\n          return row.store.name;\n        }\n\n        // Agar storeId string bo'lsa (masalan \"uygaayt\")\n        if (typeof row?.storeId === \"string\") {\n          if (row.storeId.toLowerCase() === \"uygaayt\") {\n            return \"Uygaayt\";\n          }\n          // Boshqa string holatlar\n          return row.storeId;\n        }\n\n        // Agar storeId ObjectId bo'lsa lekin store populate qilinmagan\n        // Bu storeRestaurants buyurtmasi bo'lishi mumkin\n        // Hozircha ID ni ko'rsatamiz, lekin backend to'g'ri populate qilishi kerak\n        if (row?.storeId && typeof row.storeId === \"object\") {\n          // ObjectId ni string ga o'tkazish\n          return row.storeId.toString();\n        }\n\n        return row?.storeId || \"-\";\n      },\n      flex: 0.8,\n    },\n    {\n      field: t(\"common.time\"),\n      renderCell({ row }) {\n        return dayjs(row.createdAt).format(\"DD.MM.YYYY HH:mm\");\n      },\n    },\n    {\n      field: t(\"common.status\"),\n      renderCell({ row }) {\n        const c: any = row?.state?.color?.substring(1);\n        const rgb = parseInt(c, 16);\n        const r = (rgb >> 16) & 0xff;\n        const g = (rgb >> 8) & 0xff;\n        const b = rgb & 0xff;\n        const luma = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n        return (\n          <StateSelectStyled\n            stateColor={row?.state?.color}\n            luma={luma}\n            onClick={(event) => event.stopPropagation()}\n          >\n            <Select\n              onChange={(id) =>\n                setStateUpdateData({\n                  stateId: id,\n                  orderId: row._id,\n                })\n              }\n              customValue={row.stateId}\n              options={orderStates} // API emas, options prop\n              disabled={\n                row.state?.state === \"completed\" ||\n                row.state?.state === \"cancelled\"\n              }\n            />\n          </StateSelectStyled>\n        );\n      },\n    },\n  ];\n};\n","import Autocomplete from \"@mui/lab/Autocomplete\";\nimport { TextField } from \"@mui/material\";\nimport { AutoCompleteStyled } from \"components/form/AutoCompleteForm/AutoCompleteForm.style\";\nimport { getValueFromOptions } from \"components/form/AutoCompleteForm/utils/AutoComplete.utils\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport useDebounce from \"hooks/useDebounce\";\nimport useAllQueryParams from \"hooks/useGetAllQueryParams/useAllQueryParams\";\nimport { get } from \"lodash\";\nimport { useEffect, useState } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { IOption } from \"types/form.types\";\n\ninterface IAutocompleteFilter {\n  filterName: string;\n  options?: IOption[];\n  optionsUrl?: string;\n  returnOnlyId?: boolean;\n  label?: any;\n  placeholder?: any;\n  disabled?: boolean;\n  nameProp?: string;\n  exQueryParams?: object;\n  dataProp?: string;\n  mapData?: (options: IOption[]) => IOption[];\n  onChange?: (options: IOption | null | undefined) => void;\n}\n\nfunction AutoCompleteFilter({\n  options = [],\n  optionsUrl = \"\", // \n  returnOnlyId = true,\n  label,\n  disabled,\n  placeholder,\n  filterName,\n  nameProp = \"name\",\n  exQueryParams = {},\n  dataProp = \"data.data\" as const, //\n  mapData,\n  onChange,\n}: IAutocompleteFilter) {\n  const [queryParams, setQueryParams] = useState<{ search?: string }>();\n  const [search, setSearch] = useState<string>();\n  const { debouncedValue: debVal, isDebouncing } = useDebounce(search, 600);\n  const [value, setValue] = useState<string | undefined | null>(null);\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\n  useEffect(() => {\n    setQueryParams({\n      search,\n    });\n  }, [debVal]);\n\n  const { data: OptionsData, isFetching } = useApi<IOption[]>(\n    optionsUrl,\n    {\n      ...queryParams,\n      ...exQueryParams,\n    },\n    {\n      enabled: !!optionsUrl,\n      suspense: false,\n    }\n  );\n\n  const getLabel = (option: IOption) =>\n    option?.firstName\n      ? `${option?.firstName} ${option?.lastName}`\n      : (option?.[nameProp] as string);\n  // @ts-ignore\n  const OPTIONS = ((get(OptionsData, dataProp) as IOption[]) || options).map(\n    (option) => ({\n      ...option,\n      name: getLabel(option),\n    })\n  );\n  const [searchParams, setSearchParams] = useSearchParams();\n  const allParams = useAllQueryParams();\n\n  const { t } = useTranslation();\n\n  return (\n    <AutoCompleteStyled>\n      {label && <label>{label}</label>}\n      <Autocomplete\n        options={mapData ? mapData(OPTIONS) : OPTIONS}\n        // @ts-ignore\n        getOptionLabel={(option) => option?.name?.[currentLang] || \"\"}\n        onChange={(e, data) => {\n          // @ts-ignore\n          onChange?.(data);\n          // @ts-ignore\n          setValue(returnOnlyId ? data?._id! : data);\n          // @ts-ignore\n          if (filterName) {\n            if (data) {\n              setSearchParams({\n                ...allParams,\n                // @ts-ignore\n                [filterName]: data?._id,\n              });\n            } else {\n              delete allParams[filterName];\n              setSearchParams({\n                ...allParams,\n              });\n            }\n          }\n        }}\n        loading={isFetching || isDebouncing}\n        disabled={disabled}\n        sx={{\n          \"& fieldset\": { border: \"none\" },\n        }}\n        loadingText=\"izlamoqda...\"\n        noOptionsText={!isDebouncing && \"malumot topilmadi\"}\n        // @ts-ignore\n        value={returnOnlyId ? getValueFromOptions(OPTIONS, value) : value}\n        renderInput={(params) => (\n          <>\n            <TextField\n              {...params}\n              inputProps={{\n                ...params.inputProps,\n                onChange: (e) => {\n                  // @ts-ignore\n                  params?.inputProps?.onChange?.(e);\n                  // @ts-ignore\n                  setSearch(e.target.value || \"\");\n                },\n              }}\n              onBlur={() => setSearch(undefined)}\n              variant=\"outlined\"\n              fullWidth\n              // @ts-ignore\n              placeholder={placeholder || t(\"LABELS.ROLE_ALL.TITLE\")}\n            />\n          </>\n        )}\n      />\n    </AutoCompleteStyled>\n  );\n}\n\nexport default AutoCompleteFilter;","import { Grid } from \"@mui/material\";\nimport { reRenderTable } from \"components/elements/Table/reducer/table.slice\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport SwitchView from \"pages/order/components/SwitchView/SwitchView\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport { useAppDispatch, useAppSelector } from \"store/storeHooks\";\nimport { useOrderTableColumns } from \"./orderTable.columns\";\nimport AutoCompleteFilter from \"components/common/AutocompleteFilterGet/AutoCompleteFilter\";\nimport { RangeDatePicker, Table } from \"components\";\nimport { socketReRender } from \"store/reducers/SocketSlice\";\nimport useAllQueryParams from \"hooks/useGetAllQueryParams/useAllQueryParams\";\n\nconst OrderTable = () => {\n  const [stateUpdateData, setStateUpdateData] = useState<any>();\n  const dis = useAppDispatch();\n  const hasAccess = useRoleManager();\n  const socketRender = useAppSelector((store) => store.SocketState.render);\n  const allParams = useAllQueryParams();\n  const [orderStates, setOrderStates] = useState([]);\n\n  const { mutate, reset } = useApiMutation(\n    `order/state/${stateUpdateData?.orderId}`,\n    \"put\",\n    {\n      onSuccess() {\n        setStateUpdateData(undefined);\n        dis(reRenderTable(true));\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (stateUpdateData) {\n      mutate({\n        stateId: stateUpdateData.stateId,\n        _id: stateUpdateData.orderId,\n        position: 1,\n      });\n    }\n  }, [stateUpdateData]);\n\n  const columns = useOrderTableColumns(setStateUpdateData, orderStates);\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (socketRender) {\n      reset();\n      dis(socketReRender(false));\n    }\n  }, [socketRender]);\n\n  const renderHeader = (\n    <>\n      <Grid className=\"lg:w-[60%] w-full gap-y-2 sm:gap-y-0 grid sm:grid-cols-3 items-center gap-x-2\">\n        <Grid item className=\"\">\n          <AutoCompleteFilter\n            optionsUrl=\"order-state/get-all\"\n            filterName=\"stateId\"\n            placeholder={t(\"common.status\")}\n            dataProp=\"data\"\n          />\n        </Grid>\n        <Grid item className=\"\">\n          <RangeDatePicker />\n        </Grid>\n        <Grid item className=\" flex justify-end\">\n          <SwitchView />\n        </Grid>\n      </Grid>\n    </>\n  );\n\n  const {\n    data: columnState,\n    status: columnStateStatus,\n    refetch,\n  } = useApi(\n    \"order-state/get-all\",\n    {},\n    {\n      onSuccess({ data }) {\n        setOrderStates(data || []);\n      },\n    }\n  );\n\n  return (\n    <>\n      <Table\n        dataUrl=\"/order/paging\"\n        columns={columns}\n        headerChildren={renderHeader}\n        searchable\n        // onAddButton={\n        //   hasAccess(\"orderCreate\") ? () => navigate(\"/order/add\") : undefined\n        // }\n        onAddButton={() => navigate(`/order/add`)}\n        // onRowClick={\n        //   hasAccess(\"orderUpdate\")\n        //     ? (row) => navigate(`/order/${row._id}`)\n        //     : undefined\n        // }\n        onRowClick={(row) => navigate(`/order/${row._id}`)}\n        exQueryParams={{\n          // Only include stateId if it's a non-empty string\n          ...(allParams?.stateId && allParams.stateId.trim() !== \"\"\n            ? { stateId: allParams.stateId }\n            : {}),\n        }}\n      />\n    </>\n  );\n};\n\nexport default OrderTable;\n","import Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport React from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nconst LaneHeader = (lane: any, laneDelete: any) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <div className=\"d-flex justify-content-between align-items-center lane_title\">\n      <h3>{lane.title}</h3>\n      <div>\n        {lane.cards?.length === 0 ? (\n          <>\n            <IconButton\n              aria-owns={anchorEl ? \"simple-menu\" : undefined}\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n            >\n              {/* <DeleteIcon style={{ color: \"red\" }} /> */}\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <MenuItem\n                onClick={() => {\n                  laneDelete({\n                    ids: [lane?.id],\n                  });\n                  lane.onDelete(lane?.id);\n                  handleClose();\n                }}\n              >\n                Statusni o'chirish\n              </MenuItem>\n            </Menu>\n          </>\n        ) : (\n          \" \"\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LaneHeader;\n","import styled from \"styled-components\";\n\nexport const OrderBoardStyled = styled.div`\n  position: relative;\n  overflow-y: hidden !important;\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  .header {\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    margin-bottom: 10px;\n  }\n  .react-trello-board {\n    background-color: transparent;\n    height: 75vh !important;\n    padding: 0;\n    .react-trello-lane {\n      position: relative;\n      border-radius: 12px;\n      border: 1px solid #d9d9d9;\n      background-color: #ffffff;\n      width: 260px;\n      max-height: 70vh;\n      & {\n        width: 200px;\n      }\n      div:nth-child(2):not(div.smooth-dnd-draggable-wrapper) {\n        margin-top: 45px;\n        &::-webkit-scrollbar {\n          width: 10px;\n        }\n        &::-webkit-scrollbar-track {\n          background-color: #f6f6f6;\n          border-radius: 3px;\n        }\n        &::-webkit-scrollbar-thumb {\n          background-color: #d9d9d9;\n          border-radius: 3px;\n\n          &:hover {\n            background-color: #999;\n          }\n        }\n      }\n      width: 12px;\n      header {\n        padding-bottom: 3px;\n        margin-bottom: 5px;\n        button {\n          display: none;\n        }\n      }\n      .lane_title {\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 48px;\n        width: 100%;\n        border-radius: 8px 8px 0 0;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 0 12px;\n        border-bottom: 1px solid #d9d9d9;\n      }\n    }\n    .react-trello-card {\n      border-radius: 8px;\n      border: 1px solid #d9d9d9;\n      background-color: #f8f8f8;\n      min-height: 70px;\n      textarea {\n        pointer-events: none !important;\n        font-size: 14px;\n        font-weight: 600;\n        color: #006ffd;\n      }\n      span:nth-child(2) textarea {\n        color: #000;\n        text-align: left;\n      }\n      div {\n        textarea {\n          color: #888888;\n          font-size: 14px;\n          font-weight: 500;\n        }\n      }\n    }\n    .smooth-dnd-draggable-wrapper,\n    .smooth-dnd-container {\n      article {\n        header {\n          display: flex;\n          flex-direction: column;\n          span {\n            width: 100%;\n          }\n          textarea {\n          }\n        }\n        div {\n          margin: 0 !important ;\n          padding: 0 !important;\n        }\n      }\n    }\n  }\n  .add-lane-form {\n    border-radius: 12px;\n    padding: 10px;\n    width: 300px;\n    background-color: #d9d9d9;\n    .MuiInputBase-input {\n      border: 1px solid #999;\n      background-color: white;\n    }\n  }\n  .filters {\n    .MuiAutocomplete-root {\n      position: relative;\n    }\n    margin-bottom: 1rem;\n    label {\n      position: absolute;\n      top: -15px;\n    }\n  }\n  .load-more {\n    width: 100%;\n    background-color: transparent !important;\n    height: 30px;\n  }\n`;\n\nexport const OrderChangedStyled = styled.div`\n  background-color: #f5f5f5;\n  border: 1px solid #f5f5f5;\n  border-radius: 12px;\n  margin-right: 18px;\n  .MuiToggleButton-root {\n    border-radius: 12px;\n    &:last-child {\n      background-color: #0f6fdf;\n      border-radius: 12px !important;\n      z-index: 2;\n      transition: all 0.3s ease !important;\n\n      &:hover {\n        background-color: #0f6fdf;\n      }\n    }\n    &:first-child {\n      border: none;\n      border-radius: 12px !important;\n      transition: all 0.3s ease !important;\n\n      &:hover {\n        background-color: #0f6fdf;\n      }\n    }\n  }\n`;\n","import React, { useEffect, useMemo, useState } from \"react\";\n// @ts-ignore\nimport Board, { createTranslate } from \"react-trello\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { MainButton, Loading } from \"components\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport useAllQueryParams from \"hooks/useGetAllQueryParams/useAllQueryParams\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport SwitchView from \"pages/order/components/SwitchView/SwitchView\";\nimport LaneHeader from \"./components/LaneHeader\";\nimport { OrderBoardStyled } from \"./OrderBoard.styled\";\nimport {\n  Card,\n  IOrderByStatus,\n  Lane,\n  mapBoardLanes,\n  translateUz,\n} from \"./OrderBoard.constants\";\nimport { useAppDispatch, useAppSelector } from \"store/storeHooks\";\nimport { socketReRender } from \"store/reducers/SocketSlice\";\nimport { reRenderTable } from \"components/elements/Table/reducer/table.slice\";\nimport { socket } from \"socket\";\n\n// @ts-ignore\nimport audio from \"../../../../assets/order-voice.mp3\";\n\nconst customTranslation = createTranslate(translateUz);\n\nconst OrderBoard = () => {\n  const allParams = useAllQueryParams();\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [boardData, setBoardData] = useState<any>();\n  const [getBoardDataFinished, setGetBoardDataFinished] = useState(false);\n  const [orderId, setOrderId] = useState(\"\");\n  const [loadingStates, setLoadingStates] = useState<Record<string, boolean>>({});\n  const [pagesMap, setPagesMap] = useState<Record<string, number>>({});\n  const hasAccess = useRoleManager();\n  const socketRender = useAppSelector((store) => store.SocketState.render);\n  const dis = useAppDispatch();\n  const [stateUpdateData, setStateUpdateData] = useState<any>();\n\n  const { data: statesData, status: statesStatus, refetch } = useApi<IOrderByStatus[]>(\n    \"order-state/get-all\",\n    {\n      ...allParams,\n    },\n    { suspense: false }\n  );\n\n  const { mutate, reset: resetUpdatedCard } = useApiMutation(\n    `order/state/${stateUpdateData?.orderId}`,\n    \"put\",\n    {\n      onSuccess() {\n        setStateUpdateData(undefined);\n        dis(reRenderTable(true));\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (stateUpdateData) {\n      mutate({\n        stateId: stateUpdateData.stateId,\n        _id: stateUpdateData.orderId,\n        position: 1,\n      });\n    }\n  }, [stateUpdateData]);\n\n  const { mutate: fetchOrders, reset } = useApiMutation(\n    \"order/paging\",\n    \"post\",\n    {\n      onSuccess({ data }, variables) {\n        const { stateId } = variables;\n        setBoardData((prev: any) => {\n          if (!prev) return prev;\n          return prev.map((item: any) => {\n            if (item._id === stateId) {\n              const oldOrders = pagesMap[stateId] === 1 ? [] : (item.orders || []);\n              const existingOrderIds = new Set(oldOrders.map((order: any) => order._id));\n\n              const newOrders = data?.data\n                ?.filter((order: any) => !existingOrderIds.has(order._id))\n                ?.map((order: any) => ({\n                  number: order.number,\n                  totalPrice: order.totalPrice,\n                  addressName: order.addressName,\n                  createdAt: order.createdAt,\n                  state: order.state?.state,\n                  _id: order._id,\n                  uniqueId: `${order._id}-${order.createdAt}`\n                }));\n\n              return {\n                ...item,\n                orders: [...oldOrders, ...(newOrders || [])]\n              };\n            }\n            return item;\n          });\n        });\n\n        setLoadingStates(prev => ({\n          ...prev,\n          [stateId]: false\n        }));\n      },\n      onError(error, variables) {\n        const { stateId } = variables;\n        setLoadingStates(prev => ({\n          ...prev,\n          [stateId]: false\n        }));\n      }\n    }\n  );\n\n  useEffect(() => {\n    if (socketRender) {\n      resetUpdatedCard()\n      reset();\n      refetch()\n      dis(socketReRender(false));\n    }\n  }, [socketRender]);\n\n  const makeNoice = () => {\n    try {\n      new Audio(audio).play();\n    } catch (error) {\n      // console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const handleUpdateOrder = (data: { data: any }) => {\n      if (!!data.data.state?.isSoundable) makeNoice();\n      setBoardData((prev: any) => {\n        if (!prev) return prev;\n\n        return prev.map((item: any) => {\n          if (item._id === data.data.stateId) {\n            const newOrder = {\n              number: data.data.number,\n              totalPrice: data.data.totalPrice,\n              addressName: data.data.addressName,\n              createdAt: data.data.createdAt,\n              state: data.data.state?.state,\n              _id: data.data._id,\n              uniqueId: `${data.data._id}-${data.data.createdAt}`\n            };\n\n            const existingOrderIds = new Set((item.orders || []).map((order: any) => order._id));\n            if (existingOrderIds.has(newOrder._id)) {\n              return item; // Agar buyurtma mavjud bo'lsa, qo'shmang\n            }\n\n            return {\n              ...item,\n              orders: [...(item.orders || []), newOrder],\n            };\n          }\n          return item;\n        });\n      });\n    };\n\n    socket.on('orderCreated', handleUpdateOrder);\n\n    return () => {\n      socket.off('orderCreated', handleUpdateOrder);\n    };\n  }, []);\n\n\n  // Initialize board data and fetch initial orders\n  useEffect(() => {\n    if (statesStatus === \"success\" && statesData?.data) {\n      setBoardData(statesData.data);\n\n      // Initialize pages map\n      const initialPagesMap = statesData.data.reduce((acc, state) => ({\n        ...acc,\n        [state._id]: 1\n      }), {});\n      setPagesMap(initialPagesMap);\n\n      // Fetch initial orders for each state\n      statesData.data.forEach(state => {\n        setLoadingStates(prev => ({\n          ...prev,\n          [state._id]: true\n        }));\n\n        fetchOrders({\n          page: 1,\n          limit: 10,\n          stateId: state._id,\n        });\n      });\n    }\n  }, [statesStatus, statesData?.data]);\n\n  // Set board data as finished when all initial loads are complete\n  useEffect(() => {\n    if (boardData && Object.values(loadingStates).every(state => !state)) {\n      setGetBoardDataFinished(true);\n    }\n  }, [boardData, loadingStates]);\n\n  const handleLoadMore = (laneId: string) => {\n    if (loadingStates[laneId]) return;\n\n    setLoadingStates(prev => ({\n      ...prev,\n      [laneId]: true\n    }));\n\n    const nextPage = (pagesMap[laneId] || 1) + 1;\n    setPagesMap(prev => ({\n      ...prev,\n      [laneId]: nextPage\n    }));\n\n    fetchOrders({\n      page: nextPage,\n      limit: 10,\n      stateId: laneId,\n    });\n  };\n\n  const { mutate: cardUpdate } = useApiMutation<{\n    stateId: string;\n    position: number;\n    _id?: string;\n  }>(`order/state/${orderId}`, \"put\", {\n    onSuccess() {\n      setOrderId(\"\");\n    },\n  });\n\n  const { mutate: laneUpdate } = useApiMutation<{\n    position: number;\n    _id: string;\n  }>(\"status\", \"put\");\n\n  const { mutate: laneDelete } = useApiMutation<{\n    ids: string[];\n  }>(\"status\", \"delete\");\n\n  const onCardDragEnd = (\n    cardId: Card[\"id\"],\n    sourceLandId: Lane[\"id\"],\n    targetLaneId: Lane[\"id\"],\n    position: number,\n    card: Card\n  ) => {\n    setOrderId(card.metadata?.originalId || card.id);\n    setTimeout(\n      () =>\n        cardUpdate({\n          position,\n          stateId: targetLaneId,\n          _id: card?.metadata?.originalId\n        }),\n      0\n    );\n  };\n\n  const onLaneDragEnd = (\n    removedIndex: string,\n    addedIndex: string,\n    payload: Lane\n  ) => {\n    laneUpdate({\n      _id: payload.id,\n      position: +addedIndex + 1,\n    });\n  };\n\n  const handleCardClick = (cardId: string, metadata?: { originalId?: string }) => {\n    const originalId = metadata?.originalId;\n    if (originalId) {\n      navigate(`/order/${originalId}`);\n    }\n  };\n\n\n\n\n\n  const readyBoardData = useMemo(() => {\n    if (getBoardDataFinished) {\n      return mapBoardLanes(boardData || []);\n    }\n    return { lanes: [] };\n  }, [boardData, getBoardDataFinished]);\n\n  return (\n    <OrderBoardStyled>\n      <div className=\"header\">\n        <SwitchView />\n      </div>\n      {!getBoardDataFinished ? (\n        <Loading />\n      ) : (\n        <Board\n          data={readyBoardData}\n          editable={true}\n          handleDragEnd={onCardDragEnd}\n          handleLaneDragEnd={onLaneDragEnd}\n          editLaneTitle={false}\n          canAddLanes={false}\n          hideCardDeleteIcon\n          onCardClick={handleCardClick}\n          components={{\n            LaneHeader: (lane: any) => LaneHeader(lane, laneDelete),\n            AddCardLink: ({ laneId }: { laneId: string }) => (\n              <MainButton\n                title={loadingStates[laneId] ? t(\"general.loading\") : t(\"general.loadMore\")}\n                className=\"load-more\"\n                disabled={loadingStates[laneId]}\n                onClick={() => handleLoadMore(laneId)}\n              />\n            ),\n          }}\n          lang=\"ru\"\n          t={customTranslation}\n        />\n      )}\n    </OrderBoardStyled>\n  );\n};\n\nexport default OrderBoard;","import { CSSProperties } from \"react\";\n\nexport const translateUz = {\n  \"Add another lane\": \"+Status qo'shish\",\n  \"Click to add card\": \"Buyurtma qo'shish\",\n  \"Delete lane\": \"Statusni o'chirish\",\n  \"Lane actions\": \"Status ustidagi amallar\",\n  button: {\n    \"Add card\": \"Buyurtma qo'shing\",\n    \"Add lane\": \"Status qo'shish\",\n    Cancel: \"Bekor qilish\",\n  },\n  placeholder: {\n    title: \"Nomi\",\n    description: \"Tavsif\",\n    label: \"Yorliq\",\n  },\n};\n\nexport function mapBoardLanes(lanes: any[]): BoardData {\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\n  return {\n    lanes: lanes?.map((lane) => ({\n      cards: lane.orders?.map((order: any, index: number) => ({\n        id: order.uniqueId || order._id,\n        label: `${order.totalPrice} UZS`,\n        title: `#${order.number}`,\n        description: order.addressName,\n        draggable: ![\"completed\", \"cancelled\"].includes(order.state),\n        metadata: { \n          originalId: order._id \n        }\n      })) || [],\n      id: lane?._id,\n      title: lane.name?.[currentLang],\n      statusColor: lane.color,\n      style: {\n        width: 280,\n        borderTop: `${\n          lane.color !== \"#ffffff\" ? lane.color : \"#364880\"\n        } 5px solid`,\n      },\n    })),\n  };\n}\n\nexport interface BoardData {\n  lanes: Lane[];\n}\n\nexport interface Lane {\n  id: string;\n  title?: any;\n  label?: string;\n  style?: CSSProperties;\n  cards?: Card[];\n  currentPage?: number;\n  droppable?: boolean;\n  labelStyle?: CSSProperties;\n  cardStyle?: CSSProperties;\n  disallowAddingCard?: boolean;\n}\n\nexport interface Card {\n  id: string;\n  title?: string;\n  label?: string;\n  description?: string;\n  laneId?: string;\n  style?: CSSProperties;\n  draggable?: boolean;\n  metadata?: {\n    originalId: string;\n  };\n}\n\nexport interface IOrderByStatus {\n  _id: string;\n  name: string;\n  color: string;\n  position: number;\n  orders: {\n    _id: string;\n    orderNumber: string;\n    date: number;\n    createdAt: string;\n    customer: {\n      _id: string;\n      firstName: string;\n      lastName: string;\n      phoneNumber: string;\n    };\n  }[];\n}","import styled from \"styled-components\";\n\nexport const AddOrderStyled = styled.div`\n  margin-top: 12px;\n`;\n","import styled from \"styled-components\";\n\nexport const BasketStyled = styled.div`\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  padding: 16px;\n  height: calc(100vh - 110px);\n  overflow: auto;\n  .tab {\n    margin-bottom: 16px;\n    .tab-btn {\n      color: #999;\n      font-size: 14px;\n      font-weight: 600;\n      padding: 12px;\n      width: 50%;\n      border: none;\n      border-bottom: 2px solid #e9e9e9;\n      background: none;\n      cursor: pointer;\n      &.active {\n        color: #000;\n        border-bottom: 2px solid #006ffd;\n      }\n    }\n  }\n  .search {\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    > div {\n      width: 100%;\n    }\n    .clear-basket {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      max-width: 42px;\n      min-width: 42px;\n      height: 42px;\n      border-radius: 10px;\n      background: #f5f5f5;\n      margin-left: 30px;\n      cursor: pointer;\n      svg path {\n        fill: #999;\n      }\n    }\n  }\n  .product-card {\n    position: relative;\n    padding: 10px;\n    border-radius: 16px;\n    background: #f5f5f5;\n    cursor: pointer;\n    .amount {\n      position: absolute;\n      top: -10px;\n      left: -10px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 12px;\n      font-weight: 600;\n      min-width: 25px;\n      padding: 5px;\n      height: 25px;\n      border-radius: 50%;\n      background-color: #006ffd;\n      color: #fff;\n    }\n    .name {\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      -webkit-box-orient: vertical;\n      color: #454545;\n      font-size: 14px;\n      line-height: 20px;\n      overflow: hidden;\n    }\n    .price {\n      display: block;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: 600;\n    }\n    .in-stock {\n      font-size: 12px;\n      color: #999;\n    }\n  }\n  .basket-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px 0;\n    border-bottom: 1px solid #e9e9e9;\n    .name {\n      font-size: 14px;\n      color: #454545;\n      padding-left: 10px;\n      width: 75%;\n      word-wrap: break-word;\n    }\n    .action {\n      display: flex;\n      align-items: center;\n      span {\n        border-radius: 8px;\n        background: #f5f5f5;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .icon {\n        width: 34px;\n        height: 34px;\n        cursor: pointer;\n      }\n      .amount-input {\n        display: block;\n        height: 34px;\n        padding: 0 10px;\n        width: 64px;\n        margin: 0 8px;\n        border-radius: 8px;\n        background: #f5f5f5;\n        border: none;\n        font-size: 16px;\n        font-weight: 600;\n        text-align: center;\n      }\n    }\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\n\ninterface PaginationProps {\n  totalItems: number;\n  itemsPerPage: number;\n  allParams: { [key: string]: string };\n  setSearchParams: (params: { [key: string]: string }) => void;\n}\n\nconst PaginationComponent: React.FC<PaginationProps> = ({\n  totalItems,\n  itemsPerPage,\n  allParams,\n  setSearchParams,\n}) => {\n  // Initialize currentPage based on the URL or fallback to 1\n  const [currentPage, setCurrentPage] = useState<number>(parseInt(allParams.page || \"1\"));\n  \n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n\n  const handlePageChange = (newPage: number) => {\n    if (newPage < 1 || newPage > totalPages) return;\n\n    setCurrentPage(newPage);\n    setSearchParams({\n      ...allParams,\n      page: newPage.toString(),\n      limit: itemsPerPage.toString(),\n    });\n  };\n\n  useEffect(() => {\n    setSearchParams({\n      ...allParams,\n      page: currentPage.toString(),\n      limit: itemsPerPage.toString(),\n    });\n  }, [currentPage]);\n\n  return (\n    <div className=\"pagination flex items-center justify-center space-x-3 mt-4\">\n      <button\n        onClick={() => handlePageChange(currentPage - 1)}\n        disabled={currentPage <= 1}\n        className=\"pagination-btn p-1 bg-gray-300 rounded-lg text-gray-700 disabled:opacity-50\"\n      >\n        <ArrowBackIosNewIcon/>\n      </button>\n\n      <span className=\"text-lg\">\n        Page {currentPage} of {totalPages}\n      </span>\n\n      <button\n        onClick={() => handlePageChange(currentPage + 1)}\n        disabled={currentPage >= totalPages}\n        className=\"pagination-btn p-1 bg-gray-300 rounded-lg text-gray-700 disabled:opacity-50\"\n      >\n        <ArrowForwardIosIcon/>\n      </button>\n    </div>\n  );\n};\n\nexport default PaginationComponent;\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\nimport { numberFormat } from \"utils/numberFormat\";\nimport { BasketStyled } from \"./Basket.styled\";\nimport { DeleteIcon, MinusIcon, PlusIcon } from \"assets/svgs\";\nimport { SearchInput } from \"components\";\nimport { useForm } from \"react-hook-form\";\nimport { Grid, Modal, Box } from \"@mui/material\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport useDebounce from \"hooks/useDebounce\";\nimport { IProduct } from \"types/common.types\";\nimport { useTranslation } from \"react-i18next\";\nimport useCommonContext from \"context/useCommon\";\nimport { get, uniqueId } from \"lodash\";\nimport { useSearchParams } from \"react-router-dom\";\nimport useAllQueryParams from \"hooks/useGetAllQueryParams/useAllQueryParams\";\nimport { useAppSelector } from \"store/storeHooks\";\nimport PaginationComponent from \"./Pagination\";\n\ninterface IBasketProps {\n  basketItems: IProduct[];\n  setBasketItems: Dispatch<SetStateAction<IProduct[]>>;\n}\n\nconst Basket = ({ basketItems, setBasketItems }: IBasketProps) => {\n  const [active, setActive] = useState(\"product\");\n  const [modalOpen, setModalOpen] = useState(false); // Modalni ochish uchun\n  const [selectedProduct, setSelectedProduct] = useState<IProduct | null>(null); // Tanlangan mahsulot\n  const [selectedVariant, setSelectedVariant] = useState<any>([]); // Tanlangan variant\n  const allParams = useAllQueryParams();\n  const { control, watch } = useForm();\n  const [search, setSearch] = useState<any>(allParams.search || \"\");\n\n  const { debouncedValue: debValue } = useDebounce(search, 500);\n  const { t } = useTranslation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const defaultLimit = 10;\n  const reRender = useAppSelector((store) => store.tableState.render);\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\n\n  const [queryParams, setQueryParams] = useState<any>(\n    {\n      page: searchParams.get(\"page\") || 1,\n      limit: searchParams.get(\"limit\") || 10,\n      search: searchParams.get(\"search\") || \"\",\n    }\n  );\n\n  useEffect(() => {\n    setSearchParams({\n      ...allParams,\n      search: search || \"\",\n      page: search ? \"1\" : allParams.page || \"1\",\n      limit: allParams.limit || \"10\",\n    });\n  }, [debValue]);\n\n  const {\n    state: { data: settingsData },\n  } = useCommonContext();\n\n  const { data, mutate } = useApiMutation<{ data: IProduct[] }>(\n    \"product/paging\",\n    \"post\",\n    {\n      onSuccess: (data) => {\n        setQueryParams({\n          ...allParams,\n          search: debValue || \"\",\n          page: search ? \"1\" : allParams.page || \"1\",\n          limit: allParams.limit || defaultLimit + \"\",\n        });\n      },\n      onError: (error) => {\n        console.error(\"Error creating product:\", error);\n      },\n    }\n  );\n\n  useEffect(() => {\n    mutate({\n      ...queryParams,\n      ...allParams,\n    });\n  }, [reRender, debValue, searchParams]);\n\n  const basketFn = (\n    product: IProduct,\n    action?: string,\n    inputValue?: string\n  ) => {\n    const foundProduct = basketItems?.find((e) => e._id === product?._id);\n    if (foundProduct) {\n      if (action === \"minus\" && foundProduct.amount === 1) {\n        return setBasketItems((prev) =>\n          prev.filter((e) => e._id !== foundProduct._id)\n        );\n      }\n      return setBasketItems((prev) =>\n        prev.map((prevItem) => {\n          if (prevItem._id === product?._id) {\n            const amount = prevItem.amount;\n            return {\n              ...prevItem,\n              amount: inputValue\n                ? inputValue === \"noValue\"\n                  ? \"\"\n                  : Number(inputValue) <= product.inStock\n                    ? Number(inputValue)\n                    : amount\n                : !action\n                  ? foundProduct.amount < product.inStock\n                    ? amount + 1\n                    : amount\n                  : action === \"minus\" && amount > 1\n                    ? amount - 1\n                    : action === \"plus\"\n                      ? foundProduct.amount < product.inStock\n                        ? amount + 1\n                        : amount\n                      : amount,\n            };\n          }\n          return prevItem;\n        })\n      );\n    } else {\n      if (product)\n        setBasketItems((prev) => [...prev, { ...product, amount: 1, salom: 'hello' }]);\n    }\n  };\n\n  // Modalni ochish\n  const handleOpenModal = (product: IProduct) => {\n    setSelectedProduct(product);\n    setModalOpen(true);\n  };\n\n  // Modalni yopish\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setSelectedProduct(null);\n    setSelectedVariant([]);\n  };\n\n  // Variantni tanlash\n  const handleVariantChange = (variant: any, attributeId: any) => {\n    setSelectedVariant((prev: any) => {\n      const updatedVariants = prev.filter((item: any) => item.attributeId !== attributeId);\n      const newSelectedVariants = [...updatedVariants, { ...variant, attributeId }];\n\n      console.log(\"Updated Variants:\", newSelectedVariants); // Tanlangan variantlarni tekshirish\n      return newSelectedVariants;\n    });\n  };\n\n\n  // Tanlangan variantni savatga qo'shish\n  const addVariantToBasket = () => {\n    if (selectedProduct && selectedVariant) {\n      const productWithVariant = {\n        ...selectedProduct,\n        variants: selectedVariant.map((item: any) => ({\n          attributeId: item.attributeId,\n          attributeItem: item.attributeItem\n        }))\n      };\n      basketFn(productWithVariant);\n      handleCloseModal();\n    }\n  };\n\n\n\n  return (\n    <BasketStyled>\n      <div className=\"tab\">\n        <button\n          className={`tab-btn ${active === \"product\" && \"active\"}`}\n          onClick={() => setActive(\"product\")}\n        >\n          {t(\"order.products\")}\n        </button>\n        <button\n          className={`tab-btn ${active === \"basket\" && \"active\"}`}\n          onClick={() => setActive(\"basket\")}\n        >\n          {t(\"order.basket\")}\n        </button>\n      </div>\n      <div className=\"mb-3 search\">\n        {active === \"product\" && (\n          <SearchInput\n            value={search}\n            onChange={(e: any) => {\n              setSearch(e?.target?.value);\n            }}\n          />\n        )}\n        {active === \"basket\" && (\n          <div className=\"clear-basket\" onClick={() => setBasketItems([])}>\n            <DeleteIcon />\n          </div>\n        )}\n      </div>\n      {active === \"product\" && (\n        <>\n             <Grid container spacing={2}>\n          {data?.data?.data?.map((product: any) => {\n            const foundBasketItem = basketItems.find(\n              (e) => e._id === product._id\n            );\n            return (\n              <Grid item md={4} key={product._id}>\n                <div\n                  className=\"product-card\"\n                  style={{\n                    border: \"1px solid #e0e0e0\",\n                    borderRadius: \"8px\",\n                    padding: \"16px\",\n                    backgroundColor: \"#F5F5F5\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    gap: \"12px\",\n                    height: \"170px\", // Har bir kartaning balandligi bir xil bo'ladi\n                    justifyContent: \"space-between\", // Ichki elementlar orasida bir xil masofa\n                    transition: \"transform 0.2s ease\",\n                  }}\n                  onClick={() => {\n                    if (product.attributes?.length > 0) {\n                      handleOpenModal(product); // Agar variantlar mavjud bo'lsa modalni ochish\n                    } else {\n                      basketFn(product); // Variant bo'lmasa, bevosita savatga qo'shish\n                    }\n                  }}\n                  onMouseEnter={(e) => (e.currentTarget.style.transform = \"scale(1.02)\")}\n                  onMouseLeave={(e) => (e.currentTarget.style.transform = \"scale(1)\")}\n                >\n                  {foundBasketItem && (\n                    <div\n                      style={{\n                        background: \"#f44336\",\n                        color: \"#fff\",\n                        padding: \"4px 8px\",\n                        borderRadius: \"12px\",\n                        fontSize: \"12px\",\n                        position: \"absolute\",\n                        top: \"12px\",\n                        right: \"12px\",\n                      }}\n                    >\n                      {foundBasketItem.amount} dona\n                    </div>\n                  )}\n                  <div\n                    style={{\n                      fontWeight: \"600\",\n                      fontSize: \"16px\",\n                      color: \"#333\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    {product.name}\n                  </div>\n                  <div\n                    style={{\n                      width: \"100%\",\n                      display: \"block\",\n                      justifyContent: \"space-between\",\n                      fontSize: \"14px\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    {\n                      product?.discountEnabled === false ? \"\" : <div style={{ color: \"#ed0e0e\" }}>\n                        {t('order.original_price')}:\n                        <s style={{ marginLeft: \"4px\" }}>\n                          {numberFormat(product.price)} {get(settingsData, \"currency\", \"uzs\")}\n                        </s>\n                      </div>\n                    }\n                    {\n                      product?.discountEnabled && <div style={{ color: \"#4caf50\", fontWeight: \"bold\" }}>\n                        {t('common.discount')}: {numberFormat(product?.discountValue)}{\" \"}\n                        {product?.discountType === \"percent\" ? \"%\" : get(settingsData, \"currency\", \"uzs\")}\n                      </div>\n                    }\n\n                  </div>\n\n                  <div\n                    style={{\n                      fontSize: \"18px\",\n                      fontWeight: \"700\",\n                      color: \"#000\",\n                    }}\n                  >\n                    {numberFormat(product.salePrice)} {get(settingsData, \"currency\", \"uzs\")}\n                  </div>\n\n                  <div\n                    style={{\n                      fontSize: \"12px\",\n                      color: \"#757575\",\n                      marginTop: \"8px\",\n                    }}\n                  >\n                    {t('order.in_warehouse')}: {numberFormat(product.inStock)}\n                  </div>\n                </div>\n              </Grid>\n            );\n          })}\n        </Grid>\n        <Grid>\n          <PaginationComponent totalItems={data?.data?.total} itemsPerPage={+allParams.limit || +defaultLimit} allParams={allParams} setSearchParams={setSearchParams}/>\n        </Grid>\n        </>\n      )}\n\n\n      {/* Modal */}\n      <Modal\n        open={modalOpen}\n        onClose={handleCloseModal}\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-description\"\n      >\n        <Box sx={{\n          padding: \"20px\",\n          background: \"#fff\",\n          borderRadius: \"8px\",\n          maxWidth: \"500px\",\n          margin: \"auto\",\n          boxShadow: \"0 4px 10px rgba(0, 0, 0, 0.1)\",\n        }}>\n          <h2 id=\"modal-title\" style={{ textAlign: \"center\", marginBottom: \"20px\", fontSize: \"20px\", color: \"#333\" }}>\n            {t('general.again_choose')}\n          </h2>\n\n          {selectedProduct?.attributes?.map((attribute, index) => (\n            <div key={index} style={{ marginBottom: \"20px\" }}>\n              <h3 style={{\n                fontSize: \"16px\",\n                fontWeight: \"600\",\n                color: \"#333\",\n                marginBottom: \"10px\",\n                borderBottom: \"1px solid #eee\",\n                paddingBottom: \"5px\",\n              }}>\n                {attribute?.attribute?.name?.[currentLang] || \"\"}\n              </h3>\n\n              <div style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: \"10px\",\n                marginTop: \"10px\",\n              }}>\n                {attribute.items.map((option: any, optionIndex: number) => (\n                  <div\n                    key={optionIndex}\n                    style={{\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      padding: \"10px\",\n                      border: selectedVariant.some(\n                        (item: any) => item.attributeId === attribute?.attribute?._id && item.attributeItem === option.attributeItem\n                      )\n                        ? \"2px solid #2196f3\"\n                        : \"1px solid #ddd\",\n                      borderRadius: \"8px\",\n                      backgroundColor: selectedVariant.some(\n                        (item: any) => item.attributeId === attribute?.attribute?._id && item.attributeItem === option.attributeItem\n                      )\n                        ? \"#f1f9ff\"\n                        : \"#fff\",\n                      cursor: \"pointer\",\n                      transition: \"all 0.3s ease\",\n                    }}\n                    onClick={() => handleVariantChange(option, attribute?.attribute?._id)}\n                  >\n                    <div style={{ fontWeight: \"500\", fontSize: \"14px\", color: \"#333\" }}>\n                      {option.attributeItem}\n                    </div>\n                    <div style={{ fontSize: \"12px\", color: \"#888\", marginTop: \"5px\" }}>\n                      + {numberFormat(option.amount)} {get(settingsData, \"currency\", \"uzs\")}\n                    </div>\n                  </div>\n\n                ))}\n              </div>\n            </div>\n          ))}\n\n          <div style={{\n            marginTop: \"30px\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}>\n            <button\n              onClick={addVariantToBasket}\n              style={{\n                padding: \"10px 20px\",\n                background:\n                  selectedVariant.length === selectedProduct?.attributes?.length\n                    ? \"#4caf50\"\n                    : \"#ddd\",\n                color: \"#fff\",\n                border: \"none\",\n                borderRadius: \"4px\",\n                cursor:\n                  selectedVariant.length === selectedProduct?.attributes?.length\n                    ? \"pointer\"\n                    : \"not-allowed\",\n                fontSize: \"16px\",\n                fontWeight: \"600\",\n                transition: \"background-color 0.3s ease\",\n              }}\n              disabled={selectedVariant.length !== selectedProduct?.attributes?.length} // Agar hamma atribut tanlanmagan bo'lsa, disable\n            >\n              {t(\"general.add_basket\")}\n            </button>\n\n          </div>\n        </Box>\n      </Modal>\n            \n\n\n      {active === \"basket\" && (\n        <div>\n          {basketItems?.map((item: any) => (\n            <div className=\"basket-item\" key={item._id}>\n              <div className=\"flex gap-2\">\n                <span className=\"\">{item.name}</span>\n                {item?.variants?.length > 0 && (\n                  <div className=\"variant-info flex\">\n                    {item?.variants?.map((variant: any, index: any) => (\n                      <div key={index} className=\"variant-item flex\">\n                        <span className=\"variant-name ml-1\">\n                          -{variant.attributeItem} \n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"action\">\n                <span className=\"icon\" onClick={() => basketFn(item, \"minus\")}>\n                  <MinusIcon />\n                </span>\n                <input\n                  type=\"text\"\n                  className=\"amount-input\"\n                  value={item.amount}\n                  onChange={(e) => basketFn(item, \"\", e.target.value || \"noValue\")}\n                />\n                <span className=\"icon\" onClick={() => basketFn(item, \"plus\")}>\n                  <PlusIcon />\n                </span>\n              </div>\n            </div>\n          ))}\n\n        </div>\n      )}\n    </BasketStyled>\n  );\n};\n\nexport default Basket;\n","import styled from \"styled-components\";\n\nexport const AddOrderFormStyled = styled.div`\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  padding: 16px;\n  max-height: calc(100vh - 110px);\n  overflow: auto;\n  .item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 12px;\n    .key {\n      font-size: 14px;\n    }\n    .value {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    &:last-of-type {\n      .key {\n        font-weight: 600;\n      }\n    }\n  }\n  .submit-btn {\n    width: 100%;\n  }\n`;\n\nexport const AddressModalStyled = styled.div`\n  width: 860px;\n  height: 500px;\n  background-color: #fff;\n  border-radius: 24px;\n  overflow: hidden;\n  .modal-form {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding: 24px;\n    .title {\n      display: flex;\n      align-items: center;\n      margin-bottom: 24px;\n      h2 {\n        font-size: 20px;\n        font-weight: 600;\n        margin-left: 23px;\n      }\n    }\n    .address-options {\n      position: absolute;\n      box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n      padding: 10px 0;\n      border-radius: 10px;\n      background-color: #fff;\n      max-height: 300px;\n      overflow: auto;\n      z-index: 1;\n      .option {\n        padding: 8px 15px;\n        cursor: pointer;\n        &:hover {\n          background-color: #f5f5f5;\n        }\n      }\n    }\n    .save-btn {\n      width: 100%;\n      margin-top: auto;\n    }\n  }\n`;\n","import { useApi } from \"hooks/useApi/useApiHooks\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { toast } from \"react-toastify\";\nimport {\n  YMaps,\n  Map,\n  Placemark,\n  FullscreenControl,\n  GeolocationControl,\n  TypeSelector,\n  ZoomControl,\n} from \"react-yandex-maps\";\n\nimport { ILocation } from \"types/common.types\";\n\ninterface IYandexMap {\n  getCoordinate: (coordinate: ILocation) => void;\n  center?: ILocation;\n  height?: string;\n  order?: any;\n}\n\nconst YandexMap = ({ getCoordinate, center, height, order }: IYandexMap) => {\n  const [coordinate, setCoordinate] = useState<ILocation | undefined>(center);\n  const mapRef = useRef<any>(null); // Xarita instansiyasiga murojaat qilish uchun ref\n  const { reset } = useForm();\n\n\n  const { data: storeRadius, status: storeRadiusStatus, refetch } = useApi(\n    \"settings-general\",\n    {},\n    {\n      onSuccess({ data }) {\n        localStorage.setItem(\"settings\", JSON.stringify(data));\n      },\n    }\n  );\n\n  const { data: storeAddress, status: storeAddressStatus } = useApi(\n    \"store/get\",\n    {},\n    {\n      suspense: false,\n    }\n  );\n\n  useEffect(() => {\n    if (storeRadiusStatus === \"success\") {\n      reset();\n    }\n  }, [storeRadiusStatus]);\n\n  useEffect(() => {\n    if (storeAddressStatus === \"success\") {\n      reset();\n    }\n  }, [storeAddressStatus]);\n\n\n  // Do'konning koordinatalari\n  const storeCoordinates = {\n    latitude: storeAddress?.data?.addressLocation?.latitude,\n    longitude: storeAddress?.data?.addressLocation?.longitude,\n  };\n\n\n  const maxDistance = storeRadius?.data?.storeRadius * 1000; // 10 km radius metrda\n\n  useEffect(() => {\n    if (center) {\n      setCoordinate(center);\n      if (mapRef.current) {\n        mapRef.current.setCenter([center.latitude, center.longitude]);\n      }\n    }\n  }, [center]);\n\n  // Haversine formulasi orqali masofani hisoblash\n  const calculateDistance = (coord1: ILocation, coord2: ILocation) => {\n    const R = 6371e3; // Yer radiusi metrda\n    const 1 = (coord1.latitude * Math.PI) / 180;\n    const 2 = (coord2.latitude * Math.PI) / 180;\n    const  = ((coord2.latitude - coord1.latitude) * Math.PI) / 180;\n    const  = ((coord2.longitude - coord1.longitude) * Math.PI) / 180;\n\n    const a =\n      Math.sin( / 2) * Math.sin( / 2) +\n      Math.cos(1) * Math.cos(2) * Math.sin( / 2) * Math.sin( / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c; // Masofa metrda qaytariladi\n  };\n\n  const handleGeolocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const newCoord = {\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n          };\n          const distance = calculateDistance(newCoord, storeCoordinates);\n\n          if (distance <= maxDistance) {\n            setCoordinate(newCoord);\n            getCoordinate(newCoord);\n\n            if (mapRef.current) {\n              mapRef.current.setCenter([newCoord.latitude, newCoord.longitude], 14);\n            }\n          } else {\n            toast.error(`Kechirasiz, siz faqat do'kondan ${storeRadius?.data?.storeRadius} km radius ichida joy tanlay olasiz.`);\n          }\n        },\n        (error) => {\n          console.error(\"Geolocation error:\", error);\n        }\n      );\n    } else {\n      console.error(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  return (\n    <YMaps>\n      <Map\n        width=\"100%\"\n        height={height || \"500px\"}\n        defaultState={{\n          center: center?.latitude\n            ? [center.latitude, center.longitude]\n            : order?.addressLocation?.latitude\n              ? [\n                order?.addressLocation?.latitude,\n                order?.addressLocation?.longitude,\n              ] : [storeCoordinates.latitude, storeCoordinates.longitude] ,\n          zoom: 14,\n          behaviors: [\"default\", \"scrollZoom\"],\n        }}\n        instanceRef={(mapInstance) => {\n          mapRef.current = mapInstance; // Xarita instansiyasini saqlash\n        }}\n        onClick={(event: any) => {\n          const newCoord = {\n            latitude: event.get(\"coords\")[0],\n            longitude: event.get(\"coords\")[1],\n          };\n          const distance = calculateDistance(newCoord, storeCoordinates);\n\n          if (distance <= maxDistance) {\n            setCoordinate(newCoord);\n            getCoordinate(newCoord);\n          } else {\n            toast.error(`Kechirasiz, siz faqat do'kondan ${storeRadius?.data?.storeRadius} km radius ichida joy tanlay olasiz.`);\n          }\n        }}\n      >\n        {/* {coordinate && ( */}\n        <Placemark\n          geometry={\n            coordinate?.latitude != null && coordinate?.longitude != null\n              ? [coordinate.latitude, coordinate.longitude]\n              : [order?.addressLocation?.latitude, order?.addressLocation?.longitude]\n          }\n        />\n        {/* )} */}\n        <FullscreenControl />\n        <GeolocationControl\n          options={{ float: \"left\" }}\n          onClick={handleGeolocation} // Geolokatsiya tugmasini boshqarish\n        />\n        <TypeSelector options={{ float: \"right\" }} />\n        <ZoomControl options={{ float: \"right\" }} />\n      </Map>\n    </YMaps>\n  );\n};\n\nexport default YandexMap;\n","import { Select } from \"@mui/material\";\nimport styled from \"styled-components\";\n\nexport const SelectStyled = styled(Select)`\n  height: 45px;\n  .MuiSelect-select {\n    background-color: #fff;\n    padding: 0px 12px;\n    height: 45px !important;\n    border-radius: 10px !important;\n    border: 1px solid #d9d9d9;\n    line-height: 48px;\n  }\n  & ~ .text-error {\n    position: absolute;\n    bottom: -20px;\n  }\n`;\n\nexport const SelectLableStyled = styled.div`\n  padding: 6px 0;\n  label {\n    color: #232323;\n    font-weight: 500;\n    font-size: 14px;\n  }\n`;\n","import { Box, Chip, FormControl, MenuItem } from \"@mui/material\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport {\n  Control,\n  Controller,\n  FieldPath,\n  UseFormSetValue,\n} from \"react-hook-form\";\nimport { IOption, TRules } from \"types/form.types\";\nimport { SelectLableStyled, SelectStyled } from \"./SelectForm.style\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect } from \"react\";\n\nexport interface ISelectForm<FormNames extends Record<string, any>> {\n  control: Control<FormNames>;\n  rules?: TRules<FormNames>;\n  name: FieldPath<FormNames>;\n  options?: IOption[];\n  label?: any;\n  optionsUrl?: string;\n  onChange?: (optionId: string, selectedOption?: IOption) => void;\n  disabled?: boolean;\n  className?: string;\n  placeholder?: string;\n  defaultValue?: any;\n  setValue?: UseFormSetValue<FormNames>;\n  filterOptions?: (options: IOption[]) => IOption[];\n  setAdditionalItem?: (option: IOption) => string;\n  value: string;\n}\n\nfunction Select<FormNames extends Record<string, any>>({\n  control,\n  options = [],\n  name,\n  label,\n  disabled = false,\n  optionsUrl,\n  className,\n  placeholder,\n  setValue,\n  defaultValue = \"\",\n  filterOptions,\n  setAdditionalItem,\n  rules = {\n    required: {\n      value: true,\n      message: \"Majburiy\",\n    },\n  },\n  onChange,\n}: ISelectForm<FormNames>) {\n  const { t } = useTranslation();\n  // const { data: optionsFromUrl } = useApi<IOption[]>(\n  //   optionsUrl || \"\",\n  //   {},\n  //   {\n  //     enabled: !!optionsUrl,\n  //     suspense: false,\n  //   }\n  // );\n\n\n  const { mutate, data: optionsFromUrl, reset, status } = useApiMutation(\n    optionsUrl || \"\",\n    \"post\",\n    {\n      onSuccess() {\n        console.log(\"success\")\n      },\n    });\n\n  useEffect(() => {\n    mutate({\n      optionsFromUrl\n    });\n  }, [mutate]);\n\n  useEffect(() => {\n    if (optionsFromUrl) {\n      console.log(\"Fetched optionsFromUrl:\");\n    } else {\n      console.warn(\"optionsFromUrl is undefined\");\n    }\n  }, [optionsFromUrl]);\n\n\n\n  let mappedOptions: IOption[] | undefined;\n  if (optionsFromUrl) {\n    mappedOptions = optionsFromUrl.data;\n  }\n  const SELECT_OPTIONS = (\n    optionsFromUrl?.data.data && Array.isArray(optionsFromUrl.data.data)\n      ? optionsFromUrl.data.data\n      : options\n  ).map((item:any) => ({\n    ...item,\n    name: item.firstName\n      ? `${item.firstName} ${item.lastName}` \n      : item.carBrand\n      ? `Brand: ${item.carBrand}, Model: ${item.carModel}` \n      : `Number: ${item.carNumber}`, \n  }));\n\n\n  return (\n    <>\n      {label && (\n        <SelectLableStyled className=\"select-label\">\n          <label>{label}</label>\n          <span>\n            {label && rules?.required ? (\n              <span className=\"text-error mt-1\">*</span>\n            ) : null}\n          </span>\n        </SelectLableStyled>\n      )}\n      <FormControl fullWidth variant=\"outlined\">\n        <Controller\n          name={name}\n          control={control}\n          rules={rules}\n          render={({\n            field: { onChange: onChangeForm, value, ref, onBlur },\n            fieldState,\n          }) => {\n            const isError = !!fieldState.error;\n            return (\n              <>\n                <SelectStyled\n                  onChange={(e) => {\n                    onChangeForm(e);\n                    onChange?.(\n                      e.target.value as string,\n                      SELECT_OPTIONS?.find(\n                        (item: any) => item?._id === e?.target?.value\n                      )\n                    );\n                  }}\n                  value={value}\n                  labelId={name}\n                  id={name}\n                  ref={ref}\n                  onBlur={onBlur}\n                  color={!!fieldState.error ? \"error\" : undefined}\n                  SelectDisplayProps={getIsValueUndefined(value)}\n                  disabled={disabled}\n                  sx={{\n                    \"& fieldset\": { border: \"none\" },\n                  }}\n                >\n                  {SELECT_OPTIONS?.length > 0 ? (\n                    (filterOptions\n                      ? filterOptions(SELECT_OPTIONS)\n                      : SELECT_OPTIONS\n                    )?.map((option:any) => (\n                      <MenuItem value={option._id} key={option._id}>\n                        {option.fullName}\n                        {setAdditionalItem?.(option.fullName)}\n                      </MenuItem>\n                    ))\n                  ) : (\n                    <MenuItem disabled value={undefined}>\n                      Hech narsa topilmadi\n                    </MenuItem>\n                  )}\n                </SelectStyled>\n                {isError && (\n                  <h6 className=\"text-error mt-1\">{t(\"general.required\")}</h6>\n                )}\n              </>\n            );\n          }}\n          // @ts-ignore\n          defaultValue={defaultValue} // make sure to set up defaultValue\n        />\n      </FormControl>\n    </>\n  );\n}\n\n//? there is bug with mui, mui select is not being cleaned event if i reset its value\nconst getIsValueUndefined = (value: any) => ({\n  style: {\n    color: !value ? \"white\" : \"initial\",\n  },\n});\n\nexport default Select;\n","import { Controller, useForm } from \"react-hook-form\";\nimport {\n  FullscreenControl,\n  GeolocationControl,\n  Map,\n  Placemark,\n  TypeSelector,\n  YMaps,\n  ZoomControl,\n} from \"react-yandex-maps\";\nimport {\n  DatePickerTime,\n  MainButton,\n  Modal,\n  PhoneInput,\n  SelectForm,\n  TextInput,\n} from \"components\";\nimport { AddOrderFormStyled, AddressModalStyled } from \"./AddOrderForm.styled\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid, TextareaAutosize } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { LeftArrowIcon } from \"assets/svgs\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport useDebounce from \"hooks/useDebounce\";\nimport { PAYMENT_TYPES } from \"types/enums\";\nimport { IOrder, IProduct } from \"types/common.types\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { numberFormat } from \"utils/numberFormat\";\nimport { toast } from \"react-toastify\";\nimport dayjs from \"dayjs\";\nimport useCommonContext from \"context/useCommon\";\nimport { get } from \"lodash\";\nimport YandexMapForOrder from \"components/common/YandexMapForOrder/YandexMapForOrder\";\nimport SelectPost from \"components/form/SelectPost/SelectFormPost\";\n\nconst AddOrderForm = ({\n  basketItems,\n  formStore,\n  order\n}: {\n  basketItems: IProduct[];\n  formStore?: any;\n  order?: any\n}) => {\n  const [showOptions, setShowOptions] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [coordinate, setCoordinate] = useState<any>();\n  const [address, setAddress] = useState(\"\");\n  const { t } = useTranslation();\n  const { control, setValue, handleSubmit, watch, setError, reset, getValues } = useForm();\n  const { debouncedValue } = useDebounce(address, 1000);\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const allProductPrice = basketItems.reduce(\n    (prev, item) => prev + item.salePrice * item.amount,\n    0\n  );\n  const deliveryPrice = 0;\n  const [selectedCourier, setSelectedCourier] = useState(\"\");\n\n  const {\n    state: { data: settingsData },\n  } = useCommonContext();\n\n\n  const { mutate: addressByName, data } = useApiMutation(\n    `address/by-name`,\n    \"post\",\n    {\n      onSuccess() {\n        setShowOptions(true);\n      },\n      onError(error) {\n        console.error(\"Error fetching address:\", error);\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (typeof address === \"string\" && address.trim()) {\n      addressByName({ name: address });\n    }\n  }, [address]);\n\n\n\n  const { mutate, status } = useApiMutation(\"order/create\", \"post\", {\n    onSuccess() {\n      navigate(\"/order\");\n    },\n  });\n  const { mutate: addressByPointName } = useApiMutation(\n    `address/by-point`,\n    \"post\",\n    {\n      onSuccess({ data }) {\n        if (formStore) {\n          formStore?.setValue(\"addressName\", data?.name);\n          formStore?.setValue(\"addressLocation\", coordinate);\n          formStore?.setError(\"addressName\", {});\n        } else {\n          setValue(\"addressName\", data?.name);\n          setValue(\"addressLocation\", coordinate);\n          setError(\"addressName\", {});\n        }\n      },\n      onError(error) {\n        console.error(\"Error fetching address:\", error);\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (coordinate?.latitude && coordinate?.longitude) {\n      addressByPointName({\n        latitude: coordinate.latitude,\n        longitude: coordinate.longitude,\n      });\n    } else {\n      console.error(\"Coordinates are missing\");\n    }\n  }, [addressByPointName, coordinate])\n\n  // Trigger the mutation\n  // const handleFetchAddress = () => {\n\n  // };\n\n\n\n  // const { data: storeData, status: storeStatus } = useApi(\n  //   \"store/get\",\n  //   {},\n  //   {\n  //     suspense: false,\n  //   }\n  // );\n\n  console.log(basketItems)\n\n  const submit = (data: any) => {\n    const addressLocation = watch(\"addressLocation\");\n    if (!addressLocation || !addressLocation.latitude || !addressLocation.longitude) {\n      toast.error(\"Manzil noto'g'ri kiritilgan yoki xaritada topilmadi!\");\n      return;\n    }\n    if (!basketItems.length) {\n      return toast.warning(t(\"order.chooseProduct\"));\n    }\n\n    const notValidItem = basketItems.find((e) => !(e.amount > 0));\n    if (notValidItem) {\n      return toast.warning(t(\"order.validAmount\"));\n    }\n\n    const minimumOrderPrice = get(settingsData, \"orderMinimumPrice\", 0);\n\n    if (allProductPrice < minimumOrderPrice) {\n      return toast.warning(`${t(\"order.minimum_order_amount\")} ${numberFormat(minimumOrderPrice)} ${get(settingsData, \"currency\", \"uzs\")}`);\n    }\n\n    const requestData = {\n      ...data,\n      deliveryDate: dayjs(data.deliveryDate).format(),\n      items: basketItems.map((e) => ({\n        productId: e._id,\n        amount: e.amount,\n        attributes: e?.variants?.map((item) => ({\n          attributeId: item.attributeId,\n          attributeItem: item.attributeItem\n        }))\n      })),\n      addressLocation: {\n        latitude: coordinate?.latitude,\n        longitude: coordinate?.longitude,\n      }\n    };\n\n    mutate(requestData);\n  };\n\n\n  const { data: orderData } = useApi<any>(\n    `order/get-by-id/${id}`,\n    {},\n    {\n      enabled: !!id,\n    }\n  );\n\n  const courierId = orderData?.data?.courierId\n\n\n  const { mutate: setCourier, data: setCourierData, status: setCourierStatus, isLoading: isSettingCourier } = useApiMutation<any>(\n    \"order/set-courier\",\n    \"post\",\n    {\n      onSuccess(data) {\n        setSelectedCourier(data.data.courierId);\n      },\n      onError(error) {\n        console.error(\"API Error:\", error);\n      },\n    }\n  );\n\n  const { mutate: deliveryMutate, data: deliveryData, status: deliveryStatus, isLoading: deliveryLoading } = useApiMutation<any>(\n    \"order/calculate\",\n    \"post\",\n    {\n      onSuccess(data) {\n        // setSelectedCourier(data.data.courierId);\n      },\n      onError(error) {\n        console.error(\"API Error:\", error);\n      },\n    }\n  );\n\n  const DeliveryOnChange = () => {\n    const phoneNumber = formStore?.getValues(\"phoneNumber\") || getValues(\"phoneNumber\");\n    deliveryMutate({\n      paymentType: \"cash\",\n      addressLocation: {\n        latitude: coordinate?.latitude,\n        longitude: coordinate?.longitude,\n      },\n      items: basketItems.map((e) => ({\n        productId: e._id,\n        amount: e.amount,\n        attributes: e?.variants?.map((item) => ({\n          attributeId: item.attributeId,\n          attributeItem: item.attributeItem\n        }))\n      })),\n      phoneNumber: phoneNumber\n    });\n  }\n\n\n  useEffect(() => {\n    if (basketItems.length > 0) {\n      DeliveryOnChange();\n    }\n  }, [basketItems, formStore, coordinate]);\n\n  return (\n    <AddOrderFormStyled>\n      {!id && <h3 className=\"mb-3\">{t(\"order.formalization\")}</h3>}\n      <form onSubmit={handleSubmit(submit)}>\n        <Grid container spacing={2}>\n          <Grid item sm={12}>\n            <div onClick={() => setOpen(true)}>\n              <TextInput\n                control={formStore ? formStore.control : control}\n                name=\"addressName\"\n                label={t(\"order.deliveryAddress\")}\n                placeholder=\"Yetkazib berish manzili\"\n                searchIcon\n                onCustomChange={(value) => {\n                  setAddress(value);\n                }}\n                disabled={order?.state?.state === \"completed\" ? true : false}\n              />\n              <div className=\"address-options\">\n                {showOptions &&\n                  // @ts-ignore\n                  data?.data?.map((item: any) => (\n                    <div\n                      className=\"option\"\n                      onClick={() => {\n                        setValue(\"addressName\", item.name);\n                        setValue(\"addressLocation\", {\n                          latitude: item.latitude,\n                          longitude: item.longitude,\n                          name: item.name,\n                        });\n                        setCoordinate({\n                          latitude: item.latitude,\n                          longitude: item.longitude,\n                          name: item.name,\n                        });\n                        setShowOptions(false);\n                      }}\n                    >\n                      {item.name}\n                    </div>\n                  ))}\n              </div>\n            </div>\n          </Grid>\n          <Grid item md={6}>\n            <TextInput\n              control={formStore ? formStore?.control : control}\n              name=\"houseNumber\"\n              rules={{ required: false }}\n              label={t('order.home_number')}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item md={6}>\n            <TextInput\n              control={formStore ? formStore?.control : control}\n              name=\"entrance\"\n              rules={{ required: false }}\n              label={t('order.entrance')}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item md={6}>\n            <TextInput\n              control={formStore ? formStore?.control : control}\n              name=\"floor\"\n              rules={{ required: false }}\n              label={t('order.floor')}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item md={6}>\n            <TextInput\n              control={formStore ? formStore?.control : control}\n              name=\"apartmentNumber\"\n              rules={{ required: false }}\n              label={t('order.apartment_number')}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item sm={12}>\n            <TextInput\n              control={formStore ? formStore?.control : control}\n              name=\"receiverFirstName\"\n              label={t(\"order.receiver\")}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item sm={12}>\n            <PhoneInput\n              control={formStore ? formStore?.control : control}\n              name=\"phoneNumber\"\n              label={t(\"common.phoneNumber\")}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n              onChange={DeliveryOnChange}\n            />\n          </Grid>\n          <Grid item sm={12}>\n            <DatePickerTime\n              label={t(\"common.date\")}\n              control={formStore ? formStore?.control : control}\n              name=\"deliveryDate\"\n              minDate={dayjs(new Date())}\n              defaultValue={dayjs(new Date())}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n            />\n          </Grid>\n          <Grid item sm={12} className=\"w-full\">\n            <SelectForm\n              control={formStore ? formStore?.control : control}\n              name=\"paymentType\"\n              options={PAYMENT_TYPES}\n              defaultValue=\"cash\"\n              label={t(\"common.paymentType\")}\n              disabled={order?.state?.state === \"completed\" ? true : false}\n              onChange={DeliveryOnChange}\n            />\n          </Grid>\n          {id &&\n            <Grid item sm={12}>\n              <SelectPost\n                control={formStore ? formStore?.control : control}\n                name=\"setCourier\"\n                label={t(\"common.courier\")}\n                optionsUrl=\"courier/paging\"\n                value={selectedCourier}\n                defaultValue={courierId}\n                onChange={(selectedValue) => {\n                  setSelectedCourier(selectedValue);\n                  setCourier({ courierId: selectedValue, _id: id });\n                }}\n                rules={{ required: false }}\n                disabled={order?.state?.state === \"completed\" ? true : false}\n              />\n            </Grid>\n          }\n\n          <Grid item sm={12}>\n            <label className=\"custom-label\">{t(\"common.description\")}</label>\n\n            <TextareaAutosize\n              minRows={3} // boshlang'ich satrlar soni\n              value={formStore?.watch(\"comment\")}\n              onChange={(event) => {\n                const value = event.target.value;\n                formStore\n                  ? formStore?.setValue(\"comment\", value)\n                  : setValue(\"comment\", value);\n              }}\n              style={{\n                width: '100%',\n                padding: '8px',\n                borderRadius: '4px',\n                border: '1px solid #ccc',\n                fontSize: '1rem',\n              }}\n            />\n\n          </Grid>\n        </Grid>\n        {!id && (\n          <div className=\"info\">\n            <div className=\"item\">\n              <span className=\"key\">{t(\"order.allProducts\")}:</span>\n              <span className=\"value\">\n                {numberFormat(deliveryData?.data?.itemPrice || 0)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n            <div className=\"item\">\n              <span className=\"key\">{t(\"settings.discounts\")}:</span>\n              <span className=\"value\">\n                {numberFormat(deliveryData?.data?.discount || 0)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n            <div className=\"item\">\n              <span className=\"key\">{t(\"order.deliveryPrice\")}:</span>\n              <span className=\"value\">\n                {numberFormat(deliveryData?.data?.deliveryPrice || 0)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n            <div className=\"item\">\n              <span className=\"key\">{t(\"order.totalPrice\")}:</span>\n              <span className=\"value\">\n                {numberFormat(deliveryData?.data?.totalPrice || 0)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n          </div>\n        )}\n        {!id && (\n          <MainButton\n            variant=\"contained\"\n            title={t('order.formalization')}\n            className=\"submit-btn\"\n            type=\"submit\"\n            disabled={status === \"loading\"}\n          />\n        )}\n      </form>\n      <Modal setOpen={setOpen} open={open}>\n        <AddressModalStyled>\n          <Grid container height={\"100%\"}>\n            <Grid item md={6}>\n              <div className=\"modal-form\">\n                <div className=\"title\">\n                  <span onClick={() => setOpen(false)}>\n                    <LeftArrowIcon />\n                  </span>\n                  <h2>{t('order.add_new_address')}</h2>\n                </div>\n                <Grid container spacing={2}>\n                  <Grid item md={12} position=\"relative\">\n                    <TextInput\n                      control={formStore ? formStore.control : control}\n                      name=\"addressName\"\n                      placeholder={t('order.shipping_address')}\n                      searchIcon\n                      onCustomChange={(value) => {\n                        setAddress(value);\n                      }}\n                    />\n                    <div className=\"address-options\">\n                      {showOptions &&\n                        // @ts-ignore\n                        data?.data?.map((item: any) => (\n                          <div\n                            className=\"option\"\n                            onClick={() => {\n                              setValue(\"addressName\", item.name);\n                              setValue(\"addressLocation\", {\n                                latitude: item.latitude,\n                                longitude: item.longitude,\n                                name: item.name,\n                              });\n                              setCoordinate({\n                                latitude: item.latitude,\n                                longitude: item.longitude,\n                                name: item.name,\n                              });\n                              setShowOptions(false);\n                            }}\n                          >\n                            {item.name}\n                          </div>\n                        ))}\n                    </div>\n                  </Grid>\n                  <Grid item md={6}>\n                    <TextInput\n                      control={formStore ? formStore?.control : control}\n                      name=\"houseNumber\"\n                      rules={{ required: false }}\n                      label={t('order.home_number')}\n                    />\n                  </Grid>\n                  <Grid item md={6}>\n                    <TextInput\n                      control={formStore ? formStore?.control : control}\n                      name=\"entrance\"\n                      rules={{ required: false }}\n                      label={t('order.entrance')}\n                    />\n                  </Grid>\n                  <Grid item md={6}>\n                    <TextInput\n                      control={formStore ? formStore?.control : control}\n                      name=\"floor\"\n                      rules={{ required: false }}\n                      label={t('order.floor')}\n                    />\n                  </Grid>\n                  <Grid item md={6}>\n                    <TextInput\n                      control={formStore ? formStore?.control : control}\n                      name=\"apartmentNumber\"\n                      label={t('order.apartment_number')}\n                      rules={{ required: false }}\n                    />\n                  </Grid>\n                </Grid>\n                <MainButton\n                  title={t('FORMDRAWER.SAVE')}\n                  variant=\"contained\"\n                  color=\"success\"\n                  className=\"save-btn\"\n                  onClick={() => {\n                    const addressLocation = watch(\"addressLocation\");\n                    if (!addressLocation || !addressLocation.latitude || !addressLocation.longitude) {\n                      toast.error(\"Manzil noto'g'ri kiritilgan yoki xaritada topilmadi!\");\n                      return;\n                    }\n                    setOpen(false);\n                  }}\n                />\n              </div>\n            </Grid>\n            <Grid item md={6}>\n              <div className=\"map\">\n                <YandexMapForOrder\n                  getCoordinate={setCoordinate}\n                  center={watch(\"addressLocation\")}\n                  order={order}\n                />\n                {/* <YMaps >\n                  <Map\n                    width=\"100%\"\n                    height=\"500px\"\n                    defaultState={{\n                      center: coordinate?.latitude && coordinate?.longitude\n                        ? [coordinate.latitude, coordinate.longitude]\n                        : storeData?.data?.addressLocation?.latitude && storeData?.data?.addressLocation?.longitude\n                        ? [storeData.data.addressLocation.latitude, storeData.data.addressLocation.longitude]\n                        : [55.751244, 37.618423], // Default to Moscow if all else fails\n                      zoom: 13,\n                      behaviors: [\"default\", \"scrollZoom\"],\n                    }}\n                    onClick={(event: any) =>\n                      setCoordinate({\n                        latitude: event.get(\"coords\")[0],\n                        longitude: event.get(\"coords\")[1],\n                      })\n                    }\n                    modules={[\"geoObject.addon.editor\"]}\n                  >\n                    <Placemark\n                      geometry={[coordinate?.latitude, coordinate?.longitude]}\n                    />\n                    <FullscreenControl />\n                    <GeolocationControl options={{ float: \"left\" }} />\n                    <TypeSelector options={{ float: \"right\" }} />\n                    <ZoomControl options={{ float: \"right\" }} />\n                  </Map>\n                </YMaps> */}\n              </div>\n            </Grid>\n          </Grid>\n        </AddressModalStyled>\n      </Modal>\n    </AddOrderFormStyled>\n  );\n};\n\nexport default AddOrderForm;\n","import { Grid } from \"@mui/material\";\nimport { AddOrderStyled } from \"./AddOrder.styled\";\nimport Basket from \"../components/Basket/Basket\";\nimport AddOrderForm from \"../components/AddOrderForm/AddOrderForm\";\nimport { IProduct } from \"types/common.types\";\nimport { useState } from \"react\";\n\nconst AddOrder = () => {\n  const [basketItems, setBasketItems] = useState<IProduct[]>([]);\n\n  return (\n    <AddOrderStyled>\n      <Grid container spacing={3}>\n        <Grid item md={8}>\n          <Basket basketItems={basketItems} setBasketItems={setBasketItems} />\n        </Grid>\n        <Grid item md={4}>\n          <AddOrderForm basketItems={basketItems} />\n        </Grid>\n      </Grid>\n    </AddOrderStyled>\n  );\n};\n\nexport default AddOrder;\n","import styled from \"styled-components\";\n\nexport const OrderDetailsStyled = styled.div`\n  padding: 10px 0;\n  .top {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    .state-select {\n      min-width: 180px;\n      margin-top: -3px;\n      div {\n        width: 100% !important;\n      }\n      margin-right: 15px;\n    }\n    .payment-type {\n      display: flex;\n      align-items: center;\n      padding: 4px 12px;\n      border-radius: 12px;\n      background: #fff;\n      width: 100%;\n      .type {\n        margin-left: 11px;\n        span {\n          color: #999;\n          font-size: 12px;\n          font-weight: 500;\n        }\n        h4 {\n          font-weight: 500;\n          font-size: 15px;\n        }\n      }\n      .state {\n        margin-left: auto;\n        color: #eb5757;\n        font-size: 15px;\n      }\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const OrderProductsStyled = styled.div`\n  border-radius: 12px;\n  background: #fff;\n  padding: 20px;\n  margin-top: 24px;\n  .steps {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 20px;\n    border-bottom: 1px dashed #e9e9e9;\n    .icon {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 56px;\n      height: 56px;\n      border-radius: 50%;\n      background-color: #e9e9e9;\n      &.active {\n        background-color: #f7e14b;\n        .line {\n          background: #f7e14b;\n        }\n        svg path {\n          fill: #000;\n        }\n      }\n      .line {\n        position: absolute;\n        width: 21.5%;\n        height: 4px;\n        background: #f5f5f5;\n        transform: translateX(-71%);\n      }\n    }\n  }\n  .products {\n    min-height: 450px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    .product_info {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n\n      li {\n        list-style: none;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 18px;\n\n        span {\n          color: #999;\n        }\n\n        .main {\n          color: #000;\n          font-weight: 600;\n        }\n      }\n    }\n  }\n  .product {\n    display: flex;\n    align-items: center;\n    padding: 16px 0;\n    border-bottom: 1px dashed #e9e9e9;\n    &:last-of-type {\n      border-bottom: none;\n    }\n    .default-image {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 48px;\n      height: 48px;\n      border-radius: 12px;\n      background: #f3f3f8;\n      margin-right: 12px;\n      overflow: hidden;\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n      svg {\n        width: 20px;\n        height: 20px;\n      }\n    }\n    .info {\n      .name {\n        display: block;\n        color: #454545;\n        font-size: 14px;\n        font-weight: 500;\n        margin-bottom: 5px;\n      }\n      .amount-price {\n        font-size: 14px;\n        font-weight: 700;\n      }\n    }\n    .action {\n      display: flex;\n      margin-left: auto;\n      span {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 36px;\n        height: 36px;\n        border-radius: 50%;\n        background: #f3f3f8;\n        cursor: pointer;\n        &:first-of-type {\n          margin-right: 16px;\n          svg {\n            width: 22px;\n            height: 22px;\n          }\n        }\n      }\n    }\n  }\n`;\n","import {\n  ClockIcon,\n  DefaultImage,\n  DeleteIcon,\n  FlagIcon,\n  TickIcon,\n  TruckIcon,\n} from \"assets/svgs\";\nimport { OrderProductsStyled } from \"./OrderProducts.styled\";\nimport { numberFormat } from \"utils/numberFormat\";\nimport EditIcon from \"components/elements/Table/assets/EditIcon\";\nimport { useFieldArray } from \"react-hook-form\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\nimport { useState } from \"react\";\nimport { MainButton, Modal, TextInput } from \"components\";\nimport { useTranslation } from \"react-i18next\";\nimport { toast } from \"react-toastify\";\nimport useCommonContext from \"context/useCommon\";\nimport { get } from \"lodash\";\n\nconst OrderProducts = ({ formStore, state, order }: any) => {\n  const [productIndex, setProductIndex] = useState<number>(0);\n  const [updatedProduct, setUpdatedProduct] = useState<any>();\n  const { t } = useTranslation();\n\n  const {\n    state: { data: settingsData },\n  } = useCommonContext();\n\n  const {\n    fields: products,\n    remove,\n    update,\n  } = useFieldArray({\n    control: formStore?.control,\n    name: \"items\",\n  });\n  const index =\n    state === \"created\"\n      ? 1\n      : state === \"inProcess\"\n        ? 2\n        : state === \"inDelivery\"\n          ? 3\n          : state === \"completed\"\n            ? 4\n            : 0;\n\n  return (\n    <OrderProductsStyled>\n      <div className=\"steps\" style={{ border: \"none\" }}>\n        <span className={`icon ${index && \"active\"}`}>\n          <TickIcon />\n        </span>\n        <span className={`icon ${index > 1 && \"active\"}`}>\n          <ClockIcon />\n          <div className=\"line\"></div>\n        </span>\n        <span className={`icon ${index > 2 && \"active\"}`}>\n          <TruckIcon />\n          <div className=\"line\"></div>\n        </span>\n        <span className={`icon ${index > 3 && \"active\"}`}>\n          <FlagIcon />\n          <div className=\"line\"></div>\n        </span>\n      </div>\n      <div className=\"steps\">\n        <span className={`${index && \"active\"}`}>\n          {get(order, \"createdAt\", 0) ? new Date(new Date(order.createdAt).getTime() + 5 * 60 * 60 * 1000).toISOString().slice(11, 19) : \"\"}\n        </span>\n        <span className={`${index > 1 && \"active\"}`}>\n          {get(order, \"acceptedAt\", 0) ? new Date(new Date(order.acceptedAt).getTime() + 5 * 60 * 60 * 1000).toISOString().slice(11, 19) : \"\"}\n        </span>\n        <span className={`${index > 2 && \"active\"}`}>\n          {get(order, \"inDeliveryAt\", 0) ? new Date(new Date(order.inDeliveryAt).getTime() + 5 * 60 * 60 * 1000).toISOString().slice(11, 19) : \"\"}\n        </span>\n        <span className={`${index > 3 && \"active\"}`}>\n          {get(order, \"completedAt\", 0) ? new Date(new Date(order.completedAt).getTime() + 5 * 60 * 60 * 1000).toISOString().slice(11, 19) : \"\"}\n        </span>\n      </div>\n      <div className=\"products\">\n        <div>\n          {products?.map((item: any, index) => (\n            <div className=\"product\">\n              <span className=\"default-image\">\n                {item.product.mainImage ? (\n                  <img\n                    src={\n                      process.env.REACT_APP_BASE_URL + \"/\" +\n                      item.product.mainImage.url\n                    }\n                    alt=\"product\"\n                  />\n                ) : (\n                  <DefaultImage />\n                )}\n              </span>\n              <div className=\"info\">\n                <div className=\"flex\">\n                  <span className=\"name\">{item?.product?.name}</span>\n                  {item?.attributes?.length > 0 && (\n                    <div className=\"variant-info flex\">\n                      {item?.attributes?.map((variant: any, index: any) => (\n                        <div key={index} className=\"variant-item flex\">\n                          <span className=\"name ml-1\">\n                            {variant.attributeItem}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                <div className=\"amount-price\">\n                  {item.amount} x {numberFormat(item.price)}{\" \"}\n                  {get(settingsData, \"currency\", \"uzs\")}\n                </div>\n              </div>\n              {state !== \"completed\" && state !== \"cancelled\" && (\n                <div className=\"action\">\n                  {state !== \"inDelivery\" && (\n                    <>\n                      <span onClick={() => setProductIndex(index + 1)}>\n                        <DeleteIcon />\n                      </span>\n                      <span\n                        onClick={() => setUpdatedProduct({ ...item, index })}\n                      >\n                        <EditIcon />\n                      </span>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n\n        <ul className=\"product_info\">\n          <li>\n            <span>Barcha mahsulotlar:</span>{\" \"}\n            <b>\n              {numberFormat(get(order, \"itemPrice\", 0))}{\" \"}\n              {get(settingsData, \"currency\", \"uzs\")}\n            </b>\n          </li>\n          <li>\n            <span>Yetkazib berish:</span>\n            <b>\n              {numberFormat(get(order, \"deliveryPrice\", 0))}{\" \"}\n              {get(settingsData, \"currency\", \"uzs\")}\n            </b>\n          </li>\n          {\n            \n            <li>\n              <span>Foydalanilgan balans:</span>\n              <b>\n                -{numberFormat(get(order, \"usedBalance\", 0))}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </b>\n            </li>\n          }\n          {\n            get(order, \"discount\") !== 0 ?\n            <li>\n              <span>{t('common.discount')}:</span>\n              <b>\n                -{numberFormat(get(order, \"discount\", \"\"))}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </b>\n            </li> : \"\"\n          }\n          {\n            get(order, \"promocode.amount\", \"\") &&\n            <li>\n              <span>Promokod:</span>\n              <b>\n                -{numberFormat(get(order, \"promocode.amount\", 0))}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </b>\n            </li>\n          }\n          <li>\n            <span className=\"main\">Umumiy:</span>{\" \"}\n            <b>\n              {numberFormat(get(order, \"totalPrice\", 0))}{\" \"}\n              {get(settingsData, \"currency\", \"uzs\")}\n            </b>\n          </li>\n        </ul>\n      </div>\n      <WarningModal\n        open={productIndex}\n        setOpen={setProductIndex}\n        confirmFn={() => {\n          remove(productIndex - 1);\n          setProductIndex(0);\n        }}\n      />\n      <Modal setOpen={setUpdatedProduct} open={!!updatedProduct}>\n        <div className=\"custom-modal\">\n          <span className=\"d-block mb-2\">\n            {updatedProduct?.product.name} ({t(\"common.residue\")}:{\" \"}\n            {updatedProduct?.product?.inStock || 0})\n          </span>\n          <TextInput\n            control={formStore?.control}\n            name={`items.${updatedProduct?.index}.amount`}\n            type=\"number\"\n            onCustomChange={(value: any) => {\n              if (value.floatValue <= updatedProduct.product.inStock) {\n                update(updatedProduct?.index, {\n                  ...updatedProduct,\n                  amount: value?.floatValue || 0,\n                });\n              }\n            }}\n          />\n          <MainButton\n            title={t(\"general.save\")}\n            fullWidth\n            variant=\"contained\"\n            className=\"mt-3\"\n            onClick={() => {\n              if (\n                formStore.watch(`items.${updatedProduct?.index}.amount`) <=\n                updatedProduct.product.inStock\n              ) {\n                setUpdatedProduct(null);\n              } else {\n                toast.warn(`Max: ${updatedProduct.product.inStock}`);\n              }\n            }}\n          />\n        </div>\n      </Modal>\n    </OrderProductsStyled>\n  );\n};\n\nexport default OrderProducts;\n","import styled from \"styled-components\";\n\nexport const OrderInfoStyled = styled.div`\n  max-height: calc(100vh - 110px);\n  overflow: auto;\n  .card {\n    padding: 16px 20px;\n    border-radius: 12px;\n    background: #fff;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n    margin-bottom: 16px;\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n    .title {\n      font-size: 18px;\n      border-bottom: 1px dashed #e9e9e9;\n      padding-bottom: 10px;\n      margin-bottom: 16px;\n    }\n    .info {\n      display: flex;\n      align-items: center;\n      .image {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: #f3f3f8;\n        width: 56px;\n        height: 56px;\n        border-radius: 50%;\n        margin-right: 12px;\n        overflow: hidden;\n        img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        svg {\n          width: 25px;\n          height: 25px;\n        }\n      }\n      .phone {\n        color: #999;\n        font-size: 14px;\n      }\n    }\n    .car {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      border-top: 1px dashed #e9e9e9;\n      margin-top: 16px;\n      padding-top: 16px;\n      .number {\n        padding: 3px 7px;\n        font-weight: 600;\n        font-size: 15px;\n        border-radius: 4px;\n        background: #f5f5f5;\n      }\n    }\n  }\n\n  .comment_boxes {\n    display: flex;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    gap: 10px;\n\n    .comment_box {\n      width: 76px;\n      background-color: inherit;\n\n      .comment_img {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        box-shadow: 0px 0px 12px -2px rgba(0, 0, 0, 0.12);\n        border-radius: 6px;\n        width: 100%;\n        height: 62px;\n\n        img {\n          width: 80%;\n          object-fit: cover;\n        }\n      }\n\n      p {\n        display: inline-block;\n        font-size: 10px !important;\n        font-weight: 600;\n        color: #000;\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden !important;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n`;\n","import AddOrderForm from \"pages/order/container/addOrder/components/AddOrderForm/AddOrderForm\";\nimport { OrderInfoStyled } from \"./OrderInfo.styled\";\nimport { DefaultImage } from \"assets/svgs\";\nimport { get } from \"lodash\";\nimport { Rating } from \"@mui/material\";\n\nconst OrderInfo = ({ formStore, order }: any) => {\n\n  return (\n    <OrderInfoStyled>\n      <AddOrderForm order={order} basketItems={[]} formStore={formStore} />\n      <div className=\"card mt-3\">\n        <h4 className=\"title\">Mijoz</h4>\n        <div className=\"info border-bottom mb-3 pb-3\">\n          <div className=\"image\">\n            {order?.customer?.image ? (\n              <img src=\"https://picsum.photos/100\" alt=\"\" />\n            ) : (\n              <DefaultImage />\n            )}\n          </div>\n          <div>\n            <h4 className=\"name\">\n              {get(order, \"customer.firstName\", \"\") +\n                \" \" +\n                get(order, \"customer.lastName\", \"\")}\n            </h4>\n            <span className=\"phone\">{order?.customer?.phoneNumber}</span>\n          </div>\n        </div>\n        {get(order, \"state.state\", \"\") === \"completed\" && (\n          <div>\n            <h3 className=\"mb-2\">Reyting va izoh</h3>\n            {get(order, \"rateComment\", \"\") && (\n              <p className=\"border-bottom pb-3\">\n                {get(order, \"rateComment\", \"\")}\n              </p>\n            )}\n            <div className=\"py-3 border-bottom\">\n              <Rating name=\"read-only\" value={get(order, \"rate\", 5)} readOnly />\n            </div>\n\n            <div className=\"comment_boxes pt-3\">\n              {get(order, \"rateComments\", []).map((item: any) => (\n                <div className=\"comment_box\">\n                  <div className=\"comment_img\">\n                    <img\n                      src={\n                        process.env.REACT_APP_BASE_URL +\n                        get(item, \"image.url\", \"\")\n                      }\n                      alt=\"rate\"\n                    />\n                  </div>\n                  <p>{get(item, \"title\", \"\")}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      {order.courier && (\n        <div className=\"card\">\n          <h4 className=\"title\">Kuryer</h4>\n          <div className=\"info\">\n            <div className=\"image\">\n              {order?.courier?.image ? (\n                <img src={process.env.REACT_APP_BASE_URL + \"/\" +\n                  order?.courier?.image?.url\n                } alt=\"\" />\n              ) : (\n                <span>\n                  <DefaultImage />\n                </span>\n              )}\n            </div>\n            <div>\n              <h4 className=\"name\">\n                {get(order, \"courier.firstName\", \"\")}{\" \"}\n                {get(order, \"courier.lastName\", \"\")}\n              </h4>\n              <span className=\"phone\">\n                {get(order, \"courier.phoneNumber\", \"\")}\n              </span>\n            </div>\n          </div>\n          <div className=\"car\">\n            <span className=\"name\">{get(order, \"courier.carBrand\", \"\")}</span>\n            <span className=\"number\">{get(order, \"courier.carNumber\", \"\")}</span>\n          </div>\n        </div>\n      )}\n      {order?.employee && (\n        <div className=\"card\">\n          <h4 className=\"title\">Xodim</h4>\n          <div className=\"info\">\n            <div className=\"image\">\n              {order?.employee?.image ? (\n                <img src={process.env.REACT_APP_BASE_URL + \"/\" +\n                  order?.employee?.image?.url\n                } alt=\"\" />\n              ) : (\n                <span>\n                  <DefaultImage />\n                </span>\n              )}\n            </div>\n            <div>\n              <h4 className=\"name\">\n                {get(order, \"employee.firstName\", \"\")}{\" \"}\n                {get(order, \"employee.lastName\", \"\")}\n              </h4>\n              <span className=\"phone\">\n                {get(order, \"employee.phoneNumber\", \"\")}\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n      {order?.store && (\n        <div className=\"card\">\n          <h4 className=\"title\">Do'kon</h4>\n          <div className=\"info\">\n            <div>\n              <h4 className=\"name\">\n                {get(order, \"store.name\", \"\")}\n              </h4>\n              {get(order, \"store.phoneNumber\", \"\") && (\n                <span className=\"phone\">\n                  {get(order, \"store.phoneNumber\", \"\")}\n                </span>\n              )}\n              {get(order, \"store.addressName\", \"\") && (\n                <span className=\"phone\">\n                  {get(order, \"store.addressName\", \"\")}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n      {/* <div className=\"card\">\n        <h4 className=\"title\">Moderator</h4>\n        <div className=\"info\">\n          <div className=\"image\">\n            {order?.customer.image ? (\n              <img src=\"https://picsum.photos/100\" alt=\"\" />\n            ) : (\n              <span>\n                <DefaultImage />\n              </span>\n            )}\n          </div>\n          <div>\n            <h4 className=\"name\"> </h4>\n            <span className=\"phone\">+998974481512</span>\n          </div>\n        </div>\n      </div> */}\n    </OrderInfoStyled>\n  );\n};\n\nexport default OrderInfo;\n","import { useParams } from \"react-router-dom\";\nimport { Grid } from \"@mui/material\";\nimport { OrderDetailsStyled } from \"./OrderDetails.styled\";\nimport { MainButton, Select } from \"components\";\nimport MoneyImage from \"assets/images/money.png\";\nimport OrderProducts from \"../components/OrderProducts/OrderProducts\";\nimport OrderInfo from \"../components/OrderInfo/OrderInfo\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { IOrder } from \"types/common.types\";\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { toast } from \"react-toastify\";\nimport { get } from \"lodash\";\nimport { useAppSelector } from \"store/storeHooks\";\nimport { useDispatch } from \"react-redux\";\nimport { socketReRender } from \"store/reducers/SocketSlice\";\nimport SelectPost from 'components/form/SelectPost/SelectFormPost';\n\nconst OrderDetails = () => {\n  const { id } = useParams();\n  const { t } = useTranslation();\n  const formStore = useForm();\n  const { setValue, reset, handleSubmit, control } = formStore;\n  const socketRender = useAppSelector((store) => store.SocketState.render);\n  const dis = useDispatch();\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\n  const [selectedCourier, setSelectedCourier] = useState(\"\");\n\n  const { data, status, refetch } = useApi<IOrder>(\n    `order/get-by-id/${id}`,\n    {},\n    {\n      enabled: !!id,\n    }\n  );\n  const order = data?.data;\n  const isCompleted = order?.state?.state === \"completed\";\n  const isCancelled = order?.state?.state === \"cancelled\";\n\n\n\n  const { data: orderStates, refetch: refetchOrderState } = useApi(\n    \"order-state/get-all\",\n    {},\n    { suspense: false }\n  );\n\n  const { mutate: updateState } = useApiMutation(\n    `order/state/${order?._id}`,\n    \"put\",\n    {\n      onSuccess() {\n        refetch();\n        toast.success(t(\"general.success\"));\n      },\n    }\n  );\n\n  const { mutate } = useApiMutation(`order/update`, \"put\");\n\n  useEffect(() => {\n    if (status === \"success\") {\n      setValue(\"items\", order?.items);\n      reset({\n        items: order?.items,\n        addressName: order?.addressName,\n        addressLocation: order?.addressLocation,\n        customer:\n          get(order, \"customer.firstName\", \"\") +\n          \" \" +\n          get(order, \"customer.lastName\", \"\"),\n        receiverFirstName: get(order, \"receiverCustomer.firstName\", \"\"),\n        phoneNumber: order?.customer?.phoneNumber,\n        paymentType: order?.paymentType,\n        houseNumber: order?.houseNumber,\n        entrance: order?.entrance,\n        floor: order?.floor,\n        deliveryDate: get(order, \"deliveryDate\", \"\"),\n        apartmentNumber: order?.apartmentNumber,\n      });\n\n      setTimeout(() => setValue(\"comment\", order?.comment), 0);\n    }\n  }, [status]);\n\n  const submit = handleSubmit((data: any) => {\n    const requestData = {\n      ...data,\n      items: data?.items?.map((e: any) => ({\n        productId: e.productId,\n        amount: e.amount,\n        attributes: e?.attributes?.map((item: any) => ({\n          attributeId: item?.attributeId,\n          attributeItem: item?.attributeItem\n        }))\n      })),\n      _id: order?._id,\n      cardId: order?._id\n    };\n    mutate(requestData);\n  });\n\n  const stateIndex = orderStates?.data?.findIndex(\n    (item: any) => item._id === order?.state._id\n  );\n\n  useEffect(() => {\n    if (socketRender) {\n      refetch();\n      dis(socketReRender(false));\n    }\n  }, [socketRender]);\n\n\n\n  return (\n    <OrderDetailsStyled>\n      <Grid container columnSpacing={3}>\n        <Grid item md={8}>\n          <div className=\"top\">\n            {!isCancelled && !isCompleted && (\n              <div className=\"d-flex\">\n                <MainButton\n                  title={orderStates?.data[stateIndex + 1]?.name?.[currentLang]}\n                  variant=\"contained\"\n                  className=\"me-3\"\n                  onClick={() =>\n                    updateState({\n                      stateId: orderStates?.data[stateIndex + 1]?._id,\n                      _id: order?._id,\n                      position: 1,\n                    })\n                  }\n                />\n                <MainButton\n                  title=\"Bekor qilish\"\n                  variant=\"outlined\"\n                  color=\"error\"\n                  className=\"me-3\"\n                  onClick={() =>\n                    updateState({\n                      stateId: orderStates?.data[orderStates?.data.length - 1]._id,\n                      _id: order?._id,\n                      position: 1,\n                    })\n                  }\n                />\n              </div>\n            )}\n            <div className=\"payment-type\">\n              <img src={MoneyImage} alt=\"money\" />\n              <div className=\"type\">\n                <span>To'lov turi</span>\n                <h4>{t(`enum.${order?.paymentType}`)}</h4>\n              </div>\n              <span className=\"state\">\n                {order?.paymentType === \"cash\" &&\n                  order.state.state === \"completed\"\n                  ? \"To'langan\"\n                  : order?.isPaid\n                    ? \"To'langan\"\n                    : \"To'lanmagan\"}\n              </span>\n            </div>\n            {!isCompleted && !isCancelled && (\n              <MainButton\n                title=\"Saqlash\"\n                variant=\"contained\"\n                className=\"ms-3\"\n                onClick={submit}\n              />\n            )}\n          </div>\n          <OrderProducts\n            formStore={formStore}\n            state={order?.state?.state}\n            order={order}\n          />\n        </Grid>\n\n        <Grid item md={4}>\n          <OrderInfo formStore={formStore} order={order} />\n        </Grid>\n      </Grid>\n    </OrderDetailsStyled>\n  );\n};\n\nexport default OrderDetails;\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport OrderTable from \"./container/orderTable/OrderTable\";\nimport OrderBoard from \"./container/orderBoard/OrderBoard\";\nimport AddOrder from \"./container/addOrder/container/AddOrder\";\nimport OrderDetails from \"./container/orderDetails/container/OrderDetails\";\n\nconst index = () => {\n  return (\n    <Routes>\n      <Route path=\"table\" element={<OrderTable />} />\n      <Route path=\"board\" element={<OrderBoard />} />\n      <Route path=\"add\" element={<AddOrder />} />\n      <Route path=\":id\" element={<OrderDetails />} />\n      <Route path=\"*\" element={<Navigate to=\"/order/table\" replace />} />\n    </Routes>\n  );\n};\n\nexport default index;\n","import { useTranslation } from \"react-i18next\";\nimport { IRoleData } from \"store/reducers/LoginSlice\";\n\n\nexport const PAYMENT_TYPES = [\n  {\n    _id: \"cash\",\n    name: \"Naqd\",\n    trans_key: \"cash\",\n  },\n  // {\n  //   _id: \"card\",\n  //   name: \"Karta\",\n  //   trans_key: \"card\",\n  // },\n];\n\nexport const DISCOUNT_TYPES = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\ninterface ISettingsTabs {\n  name: string;\n  key: string;\n  role: keyof IRoleData;\n}\n\nexport const SETTINGS_TABS: ISettingsTabs[] = [\n  {\n    name: \"functionality\",\n    key: \"functionality\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"discounts\",\n    key: \"discountOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"bonus\",\n    key: \"bonusOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"premium_discounts\",\n    key: \"premiumDiscountOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"main_address\",\n    key: \"mainAddress\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"website_conditions\",\n    key: \"websiteConditions\",\n    role: \"role\", // o'zgartirish kere siteSettings\n  },\n  // {\n  //   name: \"Shaharlar\",\n  //   key: \"cities\",\n  //   role: \"city\",\n  // },\n];\n\nexport const MINIMUM_ORDER_OPTIONS = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\n\nexport const RATINGS = [\n  {\n    rate: 5,\n  },\n  {\n    rate: 4,\n  },\n  {\n    rate: 3,\n  },\n  {\n    rate: 2,\n  },\n  {\n    rate: 1,\n  },\n];","export const numberFormat = (number: any) => {\n  if (number || number === 0) {\n    // Floating-point xatoliklarni oldini olish\n    const rounded = Math.round((number + Number.EPSILON) * 100) / 100;\n\n    return rounded\n      .toLocaleString(\"en-US\", {\n        minimumFractionDigits: 0, // Har doim 2 kasr\n        maximumFractionDigits: 0, // Kasr 2 dan oshmaydi\n      })\n      .replaceAll(\",\", \" \"); // Minglik ajratgich\n  }\n  return \"\";\n};\n"],"names":["SwitchViewStyled","styled","navigate","useNavigate","pathname","useLocation","path","getLastUrl","ToggleButtonGroup","color","value","exclusive","onChange","event","newAlignment","ToggleButton","className","StateSelectStyled","stateColor","luma","options","optionsUrl","returnOnlyId","label","disabled","placeholder","filterName","nameProp","exQueryParams","dataProp","mapData","useState","queryParams","setQueryParams","search","setSearch","useDebounce","debVal","debouncedValue","isDebouncing","setValue","currentLang","localStorage","getItem","useEffect","useApi","enabled","suspense","OptionsData","data","isFetching","getLabel","option","firstName","lastName","OPTIONS","get","map","name","useSearchParams","setSearchParams","allParams","useAllQueryParams","t","useTranslation","Autocomplete","getOptionLabel","e","_id","loading","sx","border","loadingText","noOptionsText","getValueFromOptions","renderInput","params","TextField","inputProps","target","onBlur","undefined","variant","fullWidth","stateUpdateData","setStateUpdateData","dis","useAppDispatch","socketRender","useRoleManager","useAppSelector","store","SocketState","render","orderStates","setOrderStates","useApiMutation","orderId","onSuccess","reRenderTable","mutate","reset","stateId","position","columns","field","renderCell","row","number","flex","numberFormat","totalPrice","customer","shortFirst","length","substring","shortLast","fullName","tooltipText","title","arrow","phoneNumber","receiverCustomer","paymentType","headerName","storeId","toLowerCase","toString","dayjs","createdAt","format","c","state","rgb","parseInt","onClick","stopPropagation","id","customValue","useOrderTableColumns","socketReRender","renderHeader","Grid","item","status","refetch","dataUrl","headerChildren","searchable","onAddButton","onRowClick","trim","lane","laneDelete","React","anchorEl","setAnchorEl","handleClose","cards","IconButton","currentTarget","Menu","open","Boolean","onClose","MenuItem","ids","onDelete","OrderBoardStyled","customTranslation","createTranslate","button","Cancel","description","boardData","setBoardData","getBoardDataFinished","setGetBoardDataFinished","setOrderId","loadingStates","setLoadingStates","pagesMap","setPagesMap","statesData","statesStatus","resetUpdatedCard","variables","prev","oldOrders","orders","existingOrderIds","Set","order","newOrders","filter","has","addressName","uniqueId","onError","error","fetchOrders","handleUpdateOrder","isSoundable","Audio","audio","play","makeNoice","newOrder","socket","initialPagesMap","reduce","acc","forEach","page","limit","Object","values","every","cardUpdate","laneUpdate","readyBoardData","useMemo","lanes","index","draggable","includes","metadata","originalId","statusColor","style","width","borderTop","mapBoardLanes","editable","handleDragEnd","cardId","sourceLandId","targetLaneId","card","setTimeout","handleLaneDragEnd","removedIndex","addedIndex","payload","editLaneTitle","canAddLanes","hideCardDeleteIcon","onCardClick","components","LaneHeader","AddCardLink","laneId","nextPage","handleLoadMore","lang","AddOrderStyled","BasketStyled","totalItems","itemsPerPage","currentPage","setCurrentPage","totalPages","Math","ceil","handlePageChange","newPage","ArrowBackIosNew","ArrowForwardIos","basketItems","setBasketItems","active","setActive","modalOpen","setModalOpen","selectedProduct","setSelectedProduct","selectedVariant","setSelectedVariant","useForm","control","watch","debValue","searchParams","reRender","tableState","settingsData","useCommonContext","defaultLimit","console","basketFn","product","action","inputValue","foundProduct","find","amount","prevItem","Number","inStock","salom","handleCloseModal","container","spacing","foundBasketItem","md","borderRadius","padding","backgroundColor","display","flexDirection","alignItems","gap","height","justifyContent","transition","attributes","handleOpenModal","onMouseEnter","transform","onMouseLeave","background","fontSize","top","right","fontWeight","textAlign","discountEnabled","marginLeft","price","discountValue","discountType","salePrice","marginTop","Pagination","total","Modal","Box","maxWidth","margin","boxShadow","marginBottom","attribute","borderBottom","paddingBottom","gridTemplateColumns","items","optionIndex","some","attributeId","attributeItem","cursor","updatedVariants","newSelectedVariants","log","productWithVariant","variants","type","AddOrderFormStyled","AddressModalStyled","getCoordinate","center","coordinate","setCoordinate","mapRef","useRef","setItem","JSON","stringify","storeRadius","storeRadiusStatus","storeAddress","storeAddressStatus","storeCoordinates","latitude","addressLocation","longitude","maxDistance","current","setCenter","calculateDistance","coord1","coord2","1","PI","2","","","a","sin","cos","atan2","sqrt","defaultState","zoom","behaviors","instanceRef","mapInstance","newCoord","toast","geometry","float","navigator","geolocation","getCurrentPosition","coords","SelectStyled","Select","SelectLableStyled","getIsValueUndefined","defaultValue","filterOptions","setAdditionalItem","rules","required","message","optionsFromUrl","warn","SELECT_OPTIONS","Array","isArray","carBrand","carModel","carNumber","FormControl","onChangeForm","ref","fieldState","isError","labelId","SelectDisplayProps","formStore","showOptions","setShowOptions","setOpen","address","setAddress","handleSubmit","setError","getValues","useParams","allProductPrice","selectedCourier","setSelectedCourier","addressByName","addressByPointName","orderData","courierId","setCourier","isLoading","deliveryMutate","deliveryData","DeliveryOnChange","productId","onSubmit","minimumOrderPrice","requestData","deliveryDate","sm","searchIcon","onCustomChange","minDate","Date","PAYMENT_TYPES","selectedValue","TextareaAutosize","minRows","itemPrice","discount","deliveryPrice","YandexMapForOrder","OrderDetailsStyled","OrderProductsStyled","productIndex","setProductIndex","updatedProduct","setUpdatedProduct","useFieldArray","products","fields","remove","update","getTime","toISOString","slice","acceptedAt","inDeliveryAt","completedAt","mainImage","src","process","url","alt","EditIcon","WarningModal","confirmFn","floatValue","OrderInfoStyled","image","Rating","readOnly","courier","employee","useDispatch","isCompleted","isCancelled","updateState","receiverFirstName","houseNumber","entrance","floor","apartmentNumber","comment","submit","stateIndex","findIndex","columnSpacing","isPaid","element","to","replace","trans_key","DISCOUNT_TYPES","SETTINGS_TABS","key","role","RATINGS","rate","round","EPSILON","toLocaleString","minimumFractionDigits","maximumFractionDigits","replaceAll"],"sourceRoot":""}