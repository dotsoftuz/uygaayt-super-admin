{"version":3,"file":"static/js/511.33b81cdc.chunk.js","mappings":"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","sources":["components/common/YandexMap/YandexMap.tsx","components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","components/form/TimePicker/TimePicker.style.ts","components/form/TimePicker/TimePicker.tsx","hooks/useClipboard.ts","pages/about/About.styled.ts","pages/about/About.tsx","pages/about/index.tsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport {\n  YMaps,\n  Map,\n  Placemark,\n  FullscreenControl,\n  GeolocationControl,\n  TypeSelector,\n  ZoomControl,\n} from \"react-yandex-maps\";\n\nimport { ILocation } from \"types/common.types\";\n\ninterface IYandexMap {\n  getCoordinate: (coordinate: ILocation) => void;\n  center?: ILocation;\n  height?: string;\n}\n\nconst YandexMap = ({ getCoordinate, center, height }: IYandexMap) => {\n  const [coordinate, setCoordinate] = useState<ILocation | undefined>(center);\n  const mapRef = useRef<any>(null); // Xarita instansiyasiga murojaat qilish uchun ref\n\n  useEffect(() => {\n    if (center) {\n      setCoordinate(center);\n      if (mapRef.current) {\n        mapRef.current.setCenter([center.latitude, center.longitude]);\n      }\n    }\n  }, [center]);\n\n  const handleGeolocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const newCoord = {\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n          };\n          setCoordinate(newCoord);\n          getCoordinate(newCoord);\n\n          if (mapRef.current) {\n            mapRef.current.setCenter([newCoord.latitude, newCoord.longitude], 14);\n          }\n        },\n        (error) => {\n          console.error(\"Geolocation error:\", error);\n        }\n      );\n    } else {\n      console.error(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  return (\n    <YMaps>\n      <Map\n        width=\"100%\"\n        height={height || \"500px\"}\n        defaultState={{\n          center: center?.latitude\n            ? [center?.latitude, center?.longitude]\n            : [41.315163390767026, 69.27958692367339],\n          zoom: 14,\n          behaviors: [\"default\", \"scrollZoom\"],\n        }}\n        instanceRef={(mapInstance) => {\n          mapRef.current = mapInstance; // Xarita instansiyasini saqlash\n        }}\n        onClick={(event: any) => {\n          const newCoord = {\n            latitude: event.get(\"coords\")[0],\n            longitude: event.get(\"coords\")[1],\n          };\n          setCoordinate(newCoord);\n          getCoordinate(newCoord);\n        }}\n      >\n         {/* @ts-ignore */}\n        <Placemark geometry={[coordinate?.latitude, coordinate?.longitude]} />\n        <FullscreenControl />\n        <GeolocationControl\n          options={{ float: \"left\" }}\n          onClick={handleGeolocation} // Geolokatsiya tugmasini boshqarish\n        />\n        <TypeSelector options={{ float: \"right\" }} />\n        <ZoomControl options={{ float: \"right\" }} />\n      </Map>\n    </YMaps>\n  );\n};\n\nexport default YandexMap;\n","import { RichTextEditor } from \"@mantine/rte\";\nimport styled from \"styled-components\";\nimport { ITextEditorStyled } from \"./TextEditor.types\";\n\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n`;\n","import { FC } from \"react\";\nimport { TextEditorStyled } from \"./TextEditor.style\";\nimport { TextEditorPropsType } from \"./TextEditor.types\";\n\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\n  const { value, onChange, onImageUpload, isError, type } = props;\n\n  return (\n    <TextEditorStyled\n      controls={[\n        [\n          \"bold\",\n          \"italic\",\n          \"underline\",\n          \"strike\",\n          \"clean\",\n          \"unorderedList\",\n          \"orderedList\",\n          \"alignLeft\",\n          \"alignCenter\",\n          \"alignRight\",\n        ],\n      ]}\n      isError={!!isError}\n      value={value}\n      onChange={onChange}\n      onImageUpload={onImageUpload}\n      type={type}\n    ></TextEditorStyled>\n  );\n};\n\nexport default TextEditor;\n","import styled from \"styled-components\";\n\nexport const TimePickerStyled = styled(\"div\")`\n  border: 1px solid;\n  border-color: \"grey\" !important;\n  outline: none;\n`;\n\nexport const TimePickerContainer = styled(\"div\")`\n  .react-time-picker {\n    width: 100%;\n    .react-time-picker__wrapper {\n      width: 100%;\n      border-radius: 8px;\n      border: 1px solid #d9d9d9;\n      box-sizing: border-box;\n      color: #333333 !important;\n      padding: 9px 16px;\n      font-size: 16px;\n      line-height: 20px;\n      letter-spacing: -0.02em;\n      outline: none;\n      font-weight: 500;\n      transition: all 0.1s ease-out;\n      font-weight: 500;\n      transition: 0.2s ease all;\n      .react-time-picker__inputGroup {\n        input {\n          outline-color: #949494;\n        }\n      }\n    }\n    .react-time-picker__clock {\n      display: none;\n    }\n  }\n`;\n","import { FC, memo } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport { TimePickerContainer } from \"./TimePicker.style\";\nimport { ITimePicker } from \"./TimePicker.types\";\n// @ts-ignore\nimport TimePickerCom from \"react-time-picker\";\nimport { useTranslation } from \"react-i18next\";\n\nconst TimePicker: FC<ITimePicker> = ({\n  control,\n  name,\n  errors,\n  rules,\n  label,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <TimePickerContainer>\n      {label && <label className=\"custom-label\">{label}</label>}\n      <Controller\n        control={control}\n        name={name}\n        rules={rules}\n        render={({ field: { onChange, value } }) => (\n          <TimePickerCom\n            clockIcon={null}\n            className=\"time-picker\"\n            onChange={onChange}\n            value={value}\n            format=\"HH:mm\"\n            hourPlaceholder=\"HH\"\n            minutePlaceholder=\"mm\"\n            locale=\"uz-UZ\"\n          />\n        )}\n      />\n      {!!errors[name] && (\n        <h6 className=\"text-error mt-1\">{t(\"general.required\")}</h6>\n      )}\n    </TimePickerContainer>\n  );\n};\n\nexport default memo(TimePicker);\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\ntype CopiedValue = string | null;\ntype CopyFn = (text: string) => Promise<boolean>; // Return success\n\nfunction useCopyToClipboard(): [CopiedValue, CopyFn] {\n  const [copiedText, setCopiedText] = useState<CopiedValue>(null);\n\n  const copy: CopyFn = async (text) => {\n    if (!navigator?.clipboard) {\n      console.warn(\"Clipboard not supported\");\n      return false;\n    }\n\n    // Try to save to clipboard then save it in the state if worked\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedText(text);\n      toast.success(\"Nusxa olindi!\");\n      return true;\n    } catch (error) {\n      console.warn(\"Copy failed\", error);\n      setCopiedText(null);\n      return false;\n    }\n  };\n\n  return [copiedText, copy];\n}\n\nexport default useCopyToClipboard;\n","import styled from \"styled-components\";\n\nexport const AboutStyled = styled.div`\n  padding: 20px;\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  .working-time {\n    > div {\n      width: 48%;\n    }\n  }\n  .address-options {\n    position: absolute;\n    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n    padding: 10px 0;\n    border-radius: 10px;\n    background-color: #fff;\n    max-height: 300px;\n    overflow: auto;\n    z-index: 10;\n    .option {\n      padding: 8px 15px;\n      cursor: pointer;\n      &:hover {\n        background-color: #f5f5f5;\n      }\n    }\n  }\n  .save-btn {\n    text-align: right;\n  }\n\n  .copyBtn {\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n    background-color: #f5f5f5;\n\n    svg {\n      path {\n        fill: blue;\n      }\n    }\n  }\n`;\n","import { Grid, IconButton } from \"@mui/material\";\nimport { AboutStyled } from \"./About.styled\";\nimport { ImageInput, MainButton, PhoneInput, TextInput } from \"components\";\nimport { useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport TimePicker from \"components/form/TimePicker/TimePicker\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useEffect, useState } from \"react\";\nimport YandexMap from \"components/common/YandexMap/YandexMap\";\nimport { ILocation } from \"types/common.types\";\nimport useDebounce from \"hooks/useDebounce\";\nimport { get } from \"lodash\";\nimport { CopyIcon } from \"assets/svgs\";\nimport useCopyToClipboard from \"hooks/useClipboard\";\n\nconst About = () => {\n  const [showOptions, setShowOptions] = useState(false);\n  const [addressLocation, setAddressLocation] = useState<ILocation>();\n  const [address, setAddress] = useState(\"\");\n  const { debouncedValue } = useDebounce(address, 1000);\n  const [copiedText, copy] = useCopyToClipboard();\n  const { control, setValue, handleSubmit, formState, reset, watch } =\n    useForm();\n  const { t } = useTranslation();\n\n  const { data, status } = useApi(\n    \"store/get\",\n    {},\n    {\n      suspense: false,\n    }\n  );\n\n  const { mutate: addressByName, data: addressData } = useApiMutation(\n    `address/by-name`,\n    \"post\",\n    {\n      onSuccess() {\n        setShowOptions(true);\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (typeof address === \"string\" && address.trim()) {\n      addressByName({ name: address });\n    }\n  }, [address]);\n\n  const { mutate } = useApiMutation(\"store/update\", \"put\");\n\n  const { mutate: addressByPointName } = useApiMutation(`address/by-point`, \"post\", {\n\n    onSuccess({ data }) {\n      setValue(\"addressName\", data?.name);\n    },\n  });\n\n  useEffect(() => {\n    if (addressLocation?.latitude && addressLocation?.longitude) {\n      addressByPointName({\n        latitude: addressLocation.latitude,\n        longitude: addressLocation.longitude,\n      });\n    } else {\n      console.error(\"Coordinates are missing\");\n    }\n  }, [addressByPointName, addressLocation])\n\n\n  useEffect(() => {\n    if (status === \"success\") {\n      const about = data?.data;\n      reset({\n        ...about,\n        startTime:\n          about.workTime?.length === 11 ? about.workTime?.slice(0, 5) : \"\",\n        endTime: about.workTime?.length === 11 ? about.workTime?.slice(-5) : \"\",\n        addressLocation: about.addressLocation,\n        deliveryPrice: about.deliveryPrice,\n        itemPrepTimeFrom: about.itemPrepTimeFrom,\n        itemPrepTimeTo: about.itemPrepTimeTo\n      });\n    }\n  }, [status, data]);\n\n  const submit = (data: any) => {\n    const requestData = {\n      name: data.name,\n      description: data.description,\n      workTime: data.startTime\n        ? `${data.startTime}-${data.endTime}`\n        : undefined,\n      phoneNumber: data.phoneNumber,\n      addressName: data.addressName,\n      addressLocation,\n      deliveryPrice: +data.deliveryPrice,\n      itemPrepTimeFrom: data.itemPrepTimeFrom,\n      itemPrepTimeTo: data.itemPrepTimeTo\n    };\n    mutate(requestData);\n  };\n\n  return (\n    <AboutStyled>\n      <form onSubmit={handleSubmit(submit)}>\n        <Grid className=\"w-full\">\n          <div className=\"save-btn\">\n            <MainButton\n              title={t(\"general.save\")}\n              variant=\"contained\"\n              type=\"submit\"\n            />\n          </div>\n        </Grid>\n        <Grid className=\"block lg:flex\">\n          <Grid className=\"lg:w-[50%] pr-3 py-3\">\n            <div className=\"mb-3\">\n              <TextInput\n                control={control}\n                name=\"name\"\n                label={t(\"common.companyName\")}\n              />\n            </div>\n            <div className=\"mb-3 sm:flex md:gap-0 gap-y-2 justify-between items-end working-time\">\n              <TimePicker\n                control={control}\n                name=\"startTime\"\n                errors={formState.errors}\n                label={t(\"common.workTime\")!}\n                rules={{ required: true }}\n              />\n              <TimePicker\n                control={control}\n                name=\"endTime\"\n                errors={formState.errors}\n                rules={{ required: true }}\n              />\n            </div>\n\n            <div className=\"mb-3 sm:flex md:gap-0 gap-y-2 justify-between items-end working-time\">\n              <TextInput\n                control={control}\n                name=\"itemPrepTimeFrom\"\n                type=\"number\"\n                label={t(\"settings.delivery_time\")!}\n              // rules={{ required: false }}\n              />\n              <TextInput\n                control={control}\n                name=\"itemPrepTimeTo\"\n                type=\"number\"\n              // rules={{ required: false }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <TextInput\n                control={control}\n                name=\"deliveryPrice\"\n                type=\"number\"\n                label={t('order.deliveryPrice')}\n                rules={{ required: false }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <TextInput\n                control={control}\n                name=\"addressName\"\n                label={t(\"common.address\")}\n                rules={{ required: false }}\n                onCustomChange={(value) => setAddress(value)}\n              />\n              <div className=\"address-options\">\n                {showOptions &&\n                  // @ts-ignore\n                  addressData?.data?.map((item: any) => (\n                    <div\n                      className=\"option\"\n                      onClick={() => {\n                        setValue(\"addressName\", item.name);\n                        setValue(\"addressLocation\", {\n                          latitude: item.latitude,\n                          longitude: item.longitude,\n                        });\n                        setShowOptions(false);\n                      }}\n                    >\n                      {item.name}\n                    </div>\n                  ))}\n              </div>\n            </div>\n            <div className=\"mb-3\">\n              <PhoneInput\n                control={control}\n                name=\"phoneNumber\"\n                label={t(\"common.phoneNumber\")}\n                rules={{ required: false }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <label className=\"custom-label\">{t(\"common.description\")}</label>\n              <TextEditor\n                value={watch(\"description\")}\n                onChange={(value) => setValue(\"description\", value)}\n              />\n            </div>\n          </Grid>\n          <Grid className=\"lg:w-[50%]\">\n            <div className=\"mt-5\">\n              <br />\n              <YandexMap\n                getCoordinate={setAddressLocation}\n                center={watch(\"addressLocation\")}\n                height=\"70vh\"\n              />\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    </AboutStyled>\n  );\n};\n\nexport default About;\n","import About from \"./About\";\n\nexport default About;\n"],"names":["getCoordinate","center","height","useState","coordinate","setCoordinate","mapRef","useRef","useEffect","current","setCenter","latitude","longitude","width","defaultState","zoom","behaviors","instanceRef","mapInstance","onClick","event","newCoord","get","geometry","options","float","navigator","geolocation","getCurrentPosition","position","coords","error","console","TextEditorStyled","styled","RichTextEditor","props","value","onChange","onImageUpload","isError","type","controls","TimePickerContainer","TimePicker","control","name","errors","rules","label","t","useTranslation","className","render","field","clockIcon","format","hourPlaceholder","minutePlaceholder","locale","memo","copiedText","setCopiedText","copy","text","clipboard","warn","writeText","toast","AboutStyled","showOptions","setShowOptions","addressLocation","setAddressLocation","address","setAddress","useDebounce","debouncedValue","useCopyToClipboard","useForm","setValue","handleSubmit","formState","reset","watch","useApi","suspense","data","status","useApiMutation","onSuccess","addressByName","mutate","addressData","trim","addressByPointName","about","startTime","workTime","length","slice","endTime","deliveryPrice","itemPrepTimeFrom","itemPrepTimeTo","onSubmit","requestData","description","undefined","phoneNumber","addressName","Grid","title","variant","required","onCustomChange","map","item","TextEditor","YandexMap"],"sourceRoot":""}