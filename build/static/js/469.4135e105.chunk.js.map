{"version":3,"file":"static/js/469.4135e105.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","types/enums.ts","pages/product/components/ProductForm.styled.ts","pages/product/components/Fields.tsx","components/form/ImageInputPro/ImageInput.style.ts","hooks/usePostProductImage.ts","components/form/ImageInputPro/ImageInputPro.tsx","pages/product/components/ProductForm.tsx","hooks/usePostFile.ts","pages/product/components/ImportModal.tsx","pages/product/components/fetchAndDownload.tsx","pages/product/index.tsx","pages/product/container/Product.tsx","pages/product/container/product.columns.tsx","utils/numberFormat.ts"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\r\nimport styled from \"styled-components\";\r\nimport { ITextEditorStyled } from \"./TextEditor.types\";\r\n\r\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border: none;\r\n  width: 100%;\r\n  padding-bottom: 20px;\r\n  .quill {\r\n    .ql-container {\r\n      .ql-tooltip {\r\n        transform: translateX(97px);\r\n        z-index: 10;\r\n      }\r\n      .ql-editor {\r\n        background-color: #fff;\r\n        padding: 15px;\r\n        border-radius: 12px;\r\n        min-height: 80px;\r\n        transition: all 0.3s;\r\n        border: 1px solid #d9d9d9;\r\n        p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-toolbar {\r\n    padding: 0;\r\n    transition: opacity 1s ease-out;\r\n    border-radius: 0;\r\n    border-bottom: none;\r\n    margin-top: 10px;\r\n    button {\r\n      border: none;\r\n      margin: 0 5px;\r\n      svg {\r\n        width: 24px !important;\r\n        height: 24px !important;\r\n        fill: #000 !important;\r\n        path {\r\n          fill: #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-editing {\r\n    left: 30px !important;\r\n    transform: translateX(0px) !important;\r\n    z-index: 100;\r\n  }\r\n`;\r\n","import { FC } from \"react\";\r\nimport { TextEditorStyled } from \"./TextEditor.style\";\r\nimport { TextEditorPropsType } from \"./TextEditor.types\";\r\n\r\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\r\n  const { value, onChange, onImageUpload, isError, type } = props;\r\n\r\n  return (\r\n    <TextEditorStyled\r\n      controls={[\r\n        [\r\n          \"bold\",\r\n          \"italic\",\r\n          \"underline\",\r\n          \"strike\",\r\n          \"clean\",\r\n          \"unorderedList\",\r\n          \"orderedList\",\r\n          \"alignLeft\",\r\n          \"alignCenter\",\r\n          \"alignRight\",\r\n        ],\r\n      ]}\r\n      isError={!!isError}\r\n      value={value}\r\n      onChange={onChange}\r\n      onImageUpload={onImageUpload}\r\n      type={type}\r\n    ></TextEditorStyled>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import { useTranslation } from \"react-i18next\";\r\nimport { IRoleData } from \"store/reducers/LoginSlice\";\r\n\r\n\r\nexport const PAYMENT_TYPES = [\r\n  {\r\n    _id: \"cash\",\r\n    name: \"Naqd\",\r\n    trans_key: \"cash\",\r\n  },\r\n  // {\r\n  //   _id: \"card\",\r\n  //   name: \"Karta\",\r\n  //   trans_key: \"card\",\r\n  // },\r\n];\r\n\r\nexport const DISCOUNT_TYPES = [\r\n  {\r\n    _id: \"percent\",\r\n    name: \"Foiz\",\r\n    trans_key: \"percent\",\r\n  },\r\n  {\r\n    _id: \"amount\",\r\n    name: \"Miqdor\",\r\n    trans_key: \"amount\",\r\n  },\r\n];\r\n\r\ninterface ISettingsTabs {\r\n  name: string;\r\n  key: string;\r\n  role: keyof IRoleData;\r\n}\r\n\r\nexport const SETTINGS_TABS: ISettingsTabs[] = [\r\n  {\r\n    name: \"functionality\",\r\n    key: \"functionality\",\r\n    role: \"role\",  // o'zgartirish kere measure\r\n  },\r\n  {\r\n    name: \"discounts\",\r\n    key: \"discountOrder\",\r\n    role: \"role\",  // o'zgartirish kere \r\n  },\r\n  {\r\n    name: \"bonus\",\r\n    key: \"bonusOrder\",\r\n    role: \"role\",  // o'zgartirish kere \r\n  },\r\n  {\r\n    name: \"premium_discounts\",\r\n    key: \"premiumDiscountOrder\",\r\n    role: \"role\",  // o'zgartirish kere \r\n  },\r\n  {\r\n    name: \"main_address\",\r\n    key: \"mainAddress\",\r\n    role: \"role\",  // o'zgartirish kere measure\r\n  },\r\n  {\r\n    name: \"website_conditions\",\r\n    key: \"websiteConditions\",\r\n    role: \"role\", // o'zgartirish kere siteSettings\r\n  },\r\n  // {\r\n  //   name: \"Shaharlar\",\r\n  //   key: \"cities\",\r\n  //   role: \"city\",\r\n  // },\r\n];\r\n\r\nexport const MINIMUM_ORDER_OPTIONS = [\r\n  {\r\n    _id: \"percent\",\r\n    name: \"Foiz\",\r\n    trans_key: \"percent\",\r\n  },\r\n  {\r\n    _id: \"amount\",\r\n    name: \"Miqdor\",\r\n    trans_key: \"amount\",\r\n  },\r\n];\r\n\r\n\r\nexport const RATINGS = [\r\n  {\r\n    rate: 5,\r\n  },\r\n  {\r\n    rate: 4,\r\n  },\r\n  {\r\n    rate: 3,\r\n  },\r\n  {\r\n    rate: 2,\r\n  },\r\n  {\r\n    rate: 1,\r\n  },\r\n];","import styled from \"styled-components\";\r\n\r\nexport const ProductFormStyled = styled.div`\r\n  .product-images {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    .input-file {\r\n      margin-right: 10px;\r\n    }\r\n    .product-image {\r\n      position: relative;\r\n      width: 76px;\r\n      height: 76px;\r\n      border-radius: 12px;\r\n      overflow: hidden;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      cursor: pointer;\r\n      &:hover {\r\n        .on-hover {\r\n          display: flex;\r\n        }\r\n      }\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n      .on-hover {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        display: none;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        .delete svg {\r\n          width: 20px;\r\n          height: 20px;\r\n          path {\r\n            fill: #fff;\r\n          }\r\n        }\r\n        .main-image {\r\n          position: absolute;\r\n          right: 5px;\r\n          top: 5px;\r\n          width: 15px;\r\n          height: 15px;\r\n          border-radius: 50%;\r\n          border: 2px solid gold;\r\n          &.active {\r\n            background-color: gold;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ImportStudentStyle = styled.div`\r\n  h2 {\r\n    color: black;\r\n  }\r\n  h4 {\r\n    color: black;\r\n  }\r\n  .import-student-box {\r\n    width: 100%;\r\n\r\n    label {\r\n      width: max-content;\r\n      min-height: max-content !important;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      border-radius: 10px;\r\n      transition: all 0.3s ease;\r\n      margin: 0 auto;\r\n      padding: 12px;\r\n      color: black;\r\n\r\n      .upload-input {\r\n        position: absolute !important;\r\n        top: 0 !important;\r\n        left: 0 !important;\r\n        opacity: 0 !important;\r\n        z-index: -1 !important;\r\n      }\r\n\r\n      &:hover {\r\n        background-color: gray;\r\n      }\r\n    }\r\n  }\r\n  .errors-upload {\r\n    margin-bottom: 12px;\r\n    .content {\r\n      width: 100%;\r\n      padding: 10px;\r\n      background-color: gray;\r\n      border-radius: 6px;\r\n      max-height: 400px;\r\n      overflow: auto;\r\n    }\r\n  }\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Grid } from \"@mui/material\";\r\nimport { Delete, Add } from \"@mui/icons-material\";\r\nimport { Input, TextInput } from \"components\";\r\nimport CommonButton from \"components/common/commonButton/Button\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useFieldArray } from \"react-hook-form\";\r\nimport { PlusIcon } from \"assets/svgs\";\r\n\r\ninterface Attribute {\r\n    id: string;\r\n    items: any[];\r\n}\r\n\r\nconst AttributeForm = ({ attributeId, control, register, getByIdData }: { attributeId: any, control: any, register: any, getByIdData: any }) => {\r\n    const {fields, append, remove} = useFieldArray({control, name: `attributes.${attributeId}`});\r\n    const { t } = useTranslation();\r\n\r\n    const handleAdd = () => {\r\n        append({amount: 0, attributeItem: \"\"})\r\n    };\r\n\r\n    const handleRemove = (index: number) => {\r\n        remove(index)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {fields?.map((field, index) => (\r\n                <Grid\r\n                    container\r\n                    key={field.id}\r\n                    className=\"flex items-end justify-between mt-2\"\r\n                >\r\n                    <Grid item md={5}>\r\n                        <TextInput\r\n                            control={control}\r\n                            name={`attributes.${attributeId}.${index}.attributeItem`}\r\n                            type=\"text\"\r\n                            rules={{ required: false }}\r\n                            label={t('general.feature')}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item md={5}>\r\n                        <Input\r\n                            label={t('general.Price_added')}\r\n                            params={{\r\n                                type: 'number',\r\n                                ...register(`attributes.${attributeId}.${index}.amount`),\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item md={1}>\r\n                        <Delete\r\n                            sx={{ cursor: \"pointer\", color: \"#D54239\", fontSize: \"1.5rem\" }}\r\n                            className=\"mb-2.5\"\r\n                            onClick={() => handleRemove(index)}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            ))}\r\n            <Grid item xs={3} md={2} paddingBlock={2} className=\"flex flex-col\">\r\n                <CommonButton startIcon={<PlusIcon />} type=\"button\" onClick={handleAdd} />\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttributeForm;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImageInputStyled = styled.div`\r\n  h3 {\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    color: #32324d;\r\n    margin-bottom: 8px;\r\n  }\r\n  .just-image,\r\n  .pre-loader {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    img {\r\n      object-fit: contain !important;\r\n    }\r\n  }\r\n  .input-file {\r\n    position: relative;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    .image-main {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 76px;\r\n      height: 76px;\r\n      border-radius: 12px;\r\n      background: #f3f3f8;\r\n    }\r\n  }\r\n  .input-file input[type=\"file\"] {\r\n    position: absolute;\r\n    z-index: -1;\r\n    opacity: 0;\r\n    display: block;\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n\r\n  /* Focus */\r\n  .input-file input[type=\"file\"]:focus + span {\r\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\r\n  }\r\n\r\n  .input-file:active span {\r\n    background-color: #2e703a;\r\n  }\r\n\r\n  /* Disabled */\r\n  .input-file input[type=\"file\"]:disabled + span {\r\n    background-color: #eee;\r\n  }\r\n\r\n  /* Список c превью */\r\n  .input-file-list {\r\n    padding: 10px 0;\r\n  }\r\n  .input-file-list-item {\r\n    display: inline-block;\r\n    margin: 0 15px 15px;\r\n    width: 150px;\r\n    vertical-align: top;\r\n    position: relative;\r\n  }\r\n  .input-file-list-item img {\r\n    width: 150px;\r\n  }\r\n  .input-file-list-name {\r\n    text-align: center;\r\n    display: block;\r\n    font-size: 12px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n  }\r\n  .input-file-list-remove {\r\n    color: #fff;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    position: absolute;\r\n    padding: 0;\r\n    margin: 0;\r\n    top: 5px;\r\n    right: 5px;\r\n    background: #ff0202;\r\n    width: 16px;\r\n    height: 16px;\r\n    text-align: center;\r\n    line-height: 16px;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport interface IIdImage {\r\n  url: string;\r\n  _id?: string;\r\n}\r\nexport interface IFileImage {\r\n  id?: string | number;\r\n  imageFile?: File;\r\n}\r\nconst usePostProductImage = (onSuccess?: (idImage: IIdImage) => void) => {\r\n  const [imageFile, setImage] = useState<IIdImage>();\r\n  const [isUploading, setIsUploading] = useState<boolean>();\r\n  const uploadImage = (image: IFileImage) => {\r\n    setIsUploading(true);\r\n    if (image.imageFile) {\r\n      axios({\r\n        url: `${process.env.REACT_APP_BASE_URL}/image/product/upload`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          \"Accept-Language\": localStorage.getItem(\"i18nextLng\"),\r\n          // storeId: localStorage.getItem(\"storeId\"),\r\n        },\r\n        data: {\r\n          file: image.imageFile,\r\n          type: \"img\",\r\n        },\r\n      })\r\n        .then((res) => {\r\n          const IDImage = {\r\n            url: res.data.data.url,\r\n            _id: res.data.data._id,\r\n          };\r\n          onSuccess?.(IDImage);\r\n          setImage(IDImage);\r\n          setIsUploading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data.message);\r\n          setIsUploading(false);\r\n          toast.error(err.response.data.message, {\r\n            position: \"top-center\",\r\n            autoClose: 5000,\r\n          });\r\n        });\r\n    } else {\r\n      setIsUploading(false);\r\n      toast.error(\"Rasm fayl tanlanmadi!\", {\r\n        position: \"top-center\",\r\n        autoClose: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return { imageFile, isUploading, uploadImage, setImage };\r\n};\r\n\r\nexport default usePostProductImage;\r\n","import { DefaultImage } from \"assets/svgs\";\r\nimport { Image } from \"components\";\r\nimport usePostImage, { IIdImage } from \"hooks/usePostImage\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  Control,\r\n  Controller,\r\n  FieldPath,\r\n  UseFormSetValue,\r\n} from \"react-hook-form\";\r\nimport { useAppSelector } from \"store/storeHooks\";\r\nimport { TRules } from \"types/form.types\";\r\n\r\nimport { ImageInputStyled } from \"./ImageInput.style\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nimport usePostProductImage from \"hooks/usePostProductImage\";\r\n\r\ninterface IImageProps<FormNames extends Record<string, any>> {\r\n  title?: string;\r\n  rules?: TRules<FormNames>;\r\n  control: Control<FormNames>;\r\n  name: FieldPath<FormNames>;\r\n  setValue: UseFormSetValue<FormNames>;\r\n  className?: string;\r\n  getImage?: (img: IIdImage) => void;\r\n  multiple?: boolean;\r\n  accept?: string;\r\n}\r\n\r\nfunction ImageInputPro<FormNames extends Record<string, any>>({\r\n  title,\r\n  control,\r\n  name,\r\n  setValue,\r\n  rules = {\r\n    required: {\r\n      value: true,\r\n      message: \"Rasm yuklash majburiy\",\r\n    },\r\n  },\r\n  className,\r\n  getImage,\r\n  multiple,\r\n  accept = \"image/*, image/webp\",\r\n}: IImageProps<FormNames>) {\r\n  const isOpen = useAppSelector((store) => store.formDrawerState.isOpen);\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      // @ts-ignore\r\n      setValue(name, undefined);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const { uploadImage, imageFile, isUploading } = usePostProductImage((IDImage) => {\r\n    // @ts-ignore\r\n    setValue(name, IDImage);\r\n    if (getImage) {\r\n      getImage(IDImage);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Controller\r\n      name={name}\r\n      control={control}\r\n      rules={rules}\r\n      render={({ fieldState, field }) => {\r\n        return (\r\n          <ImageInputStyled className={className}>\r\n            {title && <h3>{title}</h3>}\r\n            <label className=\"input-file\">\r\n              <input\r\n                ref={field.ref}\r\n                id={name}\r\n                name={field.name}\r\n                onChange={(e) => {\r\n                  if (e.target.files?.[0]) {\r\n                    uploadImage({\r\n                      imageFile: e.target.files[0],\r\n                      id: name,\r\n                    });\r\n                  }\r\n                }}\r\n                type=\"file\"\r\n                accept={accept}\r\n              />\r\n              <div className=\"image-main\">\r\n                {isUploading ? (\r\n                  <div className=\"pre-loader\">\r\n                    <CircularProgress color=\"primary\" size={30} />\r\n                  </div>\r\n                ) : field?.value ? (\r\n                  <Image src={typeof field.value === \"string\" ? field.value : field.value.url || \"\"} />\r\n                ) : (\r\n                  <div className=\"image-top\">\r\n                    <DefaultImage />\r\n                  </div>\r\n                )}\r\n\r\n              </div>\r\n            </label>\r\n            {fieldState.error && !imageFile && (\r\n              <>\r\n                <h6 className=\"text-error mt-1\">{fieldState.error?.message}</h6>\r\n              </>\r\n            )}\r\n          </ImageInputStyled>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ImageInputPro;\r\n","import { Dispatch, SetStateAction, useCallback, useEffect, useState } from \"react\";\r\nimport { Box, Grid, Switch } from \"@mui/material\";\r\nimport {\r\n  AutoCompleteForm,\r\n  DatePickerForm,\r\n  ImageInput,\r\n  Input,\r\n  SelectForm,\r\n  TextInput,\r\n} from \"components\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ProductFormStyled } from \"./ProductForm.styled\";\r\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\r\nimport { IIdImage } from \"hooks/usePostFile\";\r\nimport { DeleteIcon, PlusIcon } from \"assets/svgs\";\r\nimport { DISCOUNT_TYPES } from \"types/enums\";\r\nimport { IProduct } from \"types/common.types\";\r\nimport { Controller, useFieldArray, useForm } from \"react-hook-form\";\r\nimport CommonButton from \"components/common/commonButton/Button\";\r\nimport { Delete } from \"@mui/icons-material\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport AttributeForm from \"./Fields\";\r\nimport ImageInputPro from \"components/form/ImageInputPro/ImageInputPro\";\r\n\r\ninterface IProductForm {\r\n  formStore: any;\r\n  resetForm: () => void;\r\n  editingProductId: any;\r\n  productProps: {\r\n    productImages: IIdImage[];\r\n    setProductImages: Dispatch<SetStateAction<IIdImage[]>>;\r\n    mainImageId: any;\r\n    setMainImageId: any;\r\n  };\r\n}\r\n\r\nconst ProductForm = ({\r\n  formStore,\r\n  resetForm,\r\n  editingProductId,\r\n  productProps,\r\n}: IProductForm) => {\r\n  const { productImages, setProductImages, mainImageId, setMainImageId } =\r\n    productProps;\r\n  const { t } = useTranslation();\r\n  const { control, handleSubmit, reset, setValue, register, watch, formState: { errors } } = formStore;\r\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\r\n  const [hasAttributesEnabled, setHasAttributesEnabled] = useState(false);\r\n  const [hasCompoundsEnabled, setHasCompoundsEnabled] = useState(false);\r\n\r\n\r\n  const [subCategory, setSubCategory] = useState<any>(null);\r\n  const [subChildCategory, setSubChildCategory] = useState<any>(null);\r\n\r\n  const [selectedParentCategory, setSelectedParentCategory] = useState<any>(null);\r\n  const [selectedChildCategory, setSelectedChildCategory] = useState<any>(null);\r\n\r\n  const discountEndMinDate = new Date(watch(\"discountStartAt\"));\r\n  discountEndMinDate.setDate(discountEndMinDate.getDate() + 1);\r\n\r\n  const { mutate, status } = useApiMutation<any>(\r\n    editingProductId ? `/product/update` : \"product/create\",\r\n    editingProductId ? \"put\" : \"post\"\r\n  );\r\n\r\n  const { data: getByIdData, status: getByIdStatus } = useApi<IProduct>(\r\n    `product/get-by-id/${editingProductId}`,\r\n    {},\r\n    {\r\n      enabled: !!editingProductId,\r\n      suspense: false,\r\n    }\r\n  );\r\n\r\n  const submit = (data: any) => {\r\n    console.log(data);\r\n    const cleanedAttributes = Object.entries(data.attributes || {})\r\n      .filter(([key]) => data.attributeId?.includes(key))\r\n      .reduce((acc, [key, value]) => ({\r\n        ...acc,\r\n        [key]: value\r\n      }), {});\r\n    const requestData: any = {\r\n      // ...data,\r\n      name: data.name,\r\n      price: +data.price,\r\n      inStock: +data.inStock,\r\n      redLine: +data.redLine || null,\r\n      yellowLine: +data.yellowLine || null,\r\n      categoryId: subChildCategory ? data.categoryId : data.parentCategoryId,\r\n      isActive: data.isActive,\r\n      // categoryId: data.categoryId,\r\n      // parentCategoryId: data.parentCategoryId,\r\n      imageIds: productImages.map((image) => image._id),\r\n      mainImageId: productImages.length\r\n        ? mainImageId || productImages?.[0]?._id\r\n        : null,\r\n      expiryDate: !data.isMyExpire\r\n        ? null\r\n        : typeof data.expiryDate === \"string\"\r\n          ? data.expiryDate\r\n          : typeof data.expiryDate === \"object\"\r\n            ? data.expiryDate?.toISOString()\r\n            : null,\r\n      _id: editingProductId,\r\n      discountEnabled: data.discountEnabled,\r\n      description: data.description,\r\n      compounds: data.compounds || [],\r\n      attributes: hasAttributesEnabled ? Object.entries(cleanedAttributes).map(([key, item]: [string, any]) => ({\r\n        attributeId: key,\r\n        items: Array.isArray(item)\r\n          ? item.map((itm: any) => ({\r\n            attributeItem: itm?.attributeItem || null,\r\n            amount: Number(itm?.amount) || 0,\r\n          }))\r\n          : []\r\n      })) : []\r\n    };\r\n\r\n    // discountEnabled = true bo'lganda discount ma'lumotlarini qo'shish\r\n    if (data.discountEnabled) {\r\n      requestData.discountType = data.discountType;\r\n      requestData.discountValue = data.discountValue;\r\n      requestData.discountStartAt =\r\n        typeof data.discountStartAt === \"string\"\r\n          ? data.discountStartAt\r\n          : typeof data.discountStartAt === \"object\"\r\n            ? data.discountStartAt?.toISOString()\r\n            : undefined;\r\n      requestData.discountEndAt =\r\n        typeof data.discountEndAt === \"string\"\r\n          ? data.discountEndAt\r\n          : typeof data.discountEndAt === \"object\"\r\n            ? data.discountEndAt?.toISOString()\r\n            : undefined;\r\n    }\r\n\r\n    // discountEnabled = false bo'lganda chegirma maydonlarini olib tashlash\r\n    if (!data.discountEnabled) {\r\n      delete requestData.discountType;\r\n      delete requestData.discountValue;\r\n      delete requestData.discountStartAt;\r\n      delete requestData.discountEndAt;\r\n    }\r\n\r\n    delete requestData.isMyExpire;\r\n\r\n    mutate(requestData); // API so'rovini yuborish\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Agar chegirma o'chirilgan bo'lsa, qiymatlarni tozalash\r\n    if (!watch(\"discountEnabled\")) {\r\n      setValue(\"discountType\", undefined);\r\n      setValue(\"discountValue\", undefined);\r\n      setValue(\"discountStartAt\", \"\");\r\n      setValue(\"discountEndAt\", undefined);\r\n    }\r\n  }, [watch(\"discountEnabled\")]);\r\n\r\n\r\n  useEffect(() => {\r\n    const selectedAttributeIds = watch(\"attributeId\") || [];\r\n    const currentAttributes = watch(\"attributes\") || {};\r\n\r\n    // Remove attributes that are no longer selected\r\n    const cleanedAttributes = Object.entries(currentAttributes)\r\n      .filter(([key]) => selectedAttributeIds.includes(key))\r\n      .reduce((acc, [key, value]) => ({\r\n        ...acc,\r\n        [key]: value\r\n      }), {});\r\n\r\n    setValue(\"attributes\", cleanedAttributes);\r\n  }, [watch(\"attributeId\")]);\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      resetForm();\r\n    }\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    if (getByIdData?.data) {\r\n      setSubCategory(getByIdData.data.parentCategoryId || null);\r\n      setSubChildCategory(getByIdData.data.categoryId || null);\r\n      setHasAttributesEnabled(!!getByIdData.data.attributes?.length);\r\n      setHasCompoundsEnabled(!!getByIdData.data.compounds?.length);\r\n    }\r\n  }, [getByIdData]);\r\n\r\n  // 2. Parent category change handler\r\n  const handleParentCategoryChange = (item: any) => {\r\n    setSelectedParentCategory(item);\r\n    setSelectedChildCategory(null); // Reset child category\r\n    setValue(\"categoryId\", \"\"); // Clear form value\r\n    setValue(\"parentCategoryId\", item?._id || \"\"); // Update form value\r\n  };\r\n\r\n  // 3. Child category change handler\r\n  const handleChildCategoryChange = (item: any) => {\r\n    setSelectedChildCategory(item);\r\n    setValue(\"categoryId\", item?._id || \"\"); // Update form value\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (getByIdStatus === \"success\") {\r\n      const productData = getByIdData.data;\r\n\r\n      // Set initial category states\r\n      if (productData.parentCategoryId) {\r\n        setSelectedParentCategory({ _id: productData.parentCategoryId });\r\n      }\r\n      if (productData.categoryId) {\r\n        setSelectedChildCategory({ _id: productData.categoryId });\r\n      }\r\n      reset({\r\n        ...getByIdData.data,\r\n        attributes: getByIdData.data.attributes?.reduce((acc, attr) => {\r\n          return {\r\n            ...acc,\r\n            [attr.attribute._id]: attr.items\r\n          }\r\n        }, {}) || [],\r\n        // categoryId: subChildCategory === undefined ? getByIdData.data.parentCategoryId : getByIdData.data.categoryId,\r\n        parentCategoryId: productData.parentCategoryId || productData.categoryId || \"\",\r\n        categoryId: productData.categoryId || \"\",\r\n        isActiveQuery: formStore.watch(\"isActiveQuery\"),\r\n        description: getByIdData.data.description,\r\n        compounds: getByIdData.data.compounds,\r\n        attributeId: getByIdData.data.attributeDetails.map((item: any) => (\r\n          item._id\r\n        )) || [],\r\n      });\r\n\r\n      // if (!getByIdData.data.attributes?.length) {\r\n      //   setValue(\"attributes\", {});\r\n      //   setValue(\"attributeId\", []);\r\n      // }\r\n\r\n      setValue(\"isMyExpire\", !!watch(\"expiryDate\"));\r\n\r\n      setProductImages(getByIdData.data?.images || []);\r\n\r\n      const foundMain = getByIdData.data?.images?.find(\r\n        (img) => img?._id === getByIdData.data.mainImage?._id\r\n      );\r\n      if (foundMain && !!getByIdData.data?.images?.length) {\r\n        setMainImageId(getByIdData.data.mainImage?._id);\r\n      } else setMainImageId(getByIdData.data?.images?.[0]?._id);\r\n    }\r\n  }, [getByIdStatus, getByIdData]);\r\n\r\n  useEffect(() => {\r\n    const foundMain = productImages.find((main) => main._id === mainImageId);\r\n    if (foundMain) {\r\n      setMainImageId(foundMain._id);\r\n    } else if (productImages.length) {\r\n      setMainImageId(productImages[0]._id);\r\n    }\r\n  }, [productImages]);\r\n\r\n  const {\r\n    fields,\r\n    append,\r\n    remove,\r\n  } = useFieldArray({\r\n    name: \"compounds\",\r\n    control,\r\n  });\r\n\r\n  const selectedAttributes = watch(\"attributeId\") || [];\r\n\r\n\r\n  const { mutate: attributesChoose, data: attributesData, status: attributesStatus } = useApiMutation<any>(\r\n    \"attribute/choose\",\r\n    \"post\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    attributesChoose({})\r\n  }, [])\r\n\r\n\r\n  const filteredAttributes = attributesData?.data?.data?.filter((item: any) =>\r\n    selectedAttributes?.some((selected: any) => selected === item._id)\r\n  );\r\n\r\n  const isActive = watch(\"isActive\");\r\n  const hasCompounds = watch(\"compounds\");\r\n\r\n\r\n  const handleSwitchChange = useCallback((name: string, value: boolean) => {\r\n    if (name === \"compounds\") {\r\n      setHasCompoundsEnabled(value);\r\n      if (!value) {\r\n        setValue(\"compounds\", []);\r\n      } else {\r\n        setValue(\"compounds\", []);\r\n      }\r\n    } else if (name === \"attributes\") {\r\n      setHasAttributesEnabled(value);\r\n      if (!value) {\r\n        setValue(\"attributes\", {});\r\n        setValue(\"attributeId\", []);\r\n      }\r\n    }\r\n\r\n    setValue(name, value);\r\n  }, [setValue]);\r\n\r\n\r\n  return (\r\n    <ProductFormStyled className=\"custom-drawer\">\r\n      <form id=\"product\" onSubmit={handleSubmit(submit)}>\r\n        <Grid container spacing={2}>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"name.uz\"\r\n              label={t('common.productName') + ' (Uz)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"name.ru\"\r\n              label={t('common.productName') + ' (Ru)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"name.en\"\r\n              label={t('common.productName') + ' (En)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              name=\"price\"\r\n              control={control}\r\n              label={t(\"common.price\")}\r\n              type=\"number\"\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              name=\"inStock\"\r\n              control={control}\r\n              label={t(\"common.residue\")}\r\n              type=\"number\"\r\n            />\r\n          </Grid>\r\n          <Grid item md={12} display={\"flex\"} justifyContent={\"space-between\"}>\r\n            <Box>\r\n              <TextInput\r\n                name=\"redLine\"\r\n                control={control}\r\n                type=\"number\"\r\n                label={t(\"Qizil chiziq\")}\r\n                rules={{\r\n                  required: false,\r\n                }}\r\n              />\r\n            </Box>\r\n            <Box>\r\n              <TextInput\r\n                name=\"yellowLine\"\r\n                control={control}\r\n                label={t(\"Sariq chiziq\")}\r\n                type=\"number\"\r\n                rules={{\r\n                  required: false,\r\n                }}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          {/* <Grid item md={12}>\r\n            <AutoCompleteForm\r\n              control={control}\r\n              name=\"measureId\"\r\n              optionsUrl=\"measure\"\r\n              dataProp=\"data.data\"\r\n              label={t(\"common.measure\")}\r\n            />\r\n          </Grid> */}\r\n          <Grid item md={12}>\r\n            <AutoCompleteForm\r\n              control={control}\r\n              // name=\"parentCategoryId\"\r\n              name={subChildCategory !== undefined ? \"parentCategoryId\" : \"categoryId\"}\r\n              optionsUrl=\"category/paging\"\r\n              dataProp=\"data.data\"\r\n              label=\"Kategoriya\"\r\n              onChange={handleParentCategoryChange}\r\n            />\r\n            {selectedParentCategory && (\r\n              <AutoCompleteForm\r\n                control={control}\r\n                name=\"categoryId\"\r\n                optionsUrl=\"category/paging\"\r\n                dataProp=\"data.data\"\r\n                label=\"Ichki kategoriya\"\r\n                rules={{ required: false }}\r\n                onChange={handleChildCategoryChange}\r\n                exQueryParams={{\r\n                  parentId: selectedParentCategory?._id,\r\n                }}\r\n                key={`child-cat-${selectedParentCategory?._id}`} // Force re-render when parent changes\r\n              />\r\n            )}\r\n\r\n\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <label className=\"custom-label\">{t(\"common.description\")}</label>\r\n            <Controller\r\n              name=\"description\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <TextEditor\r\n                  value={field.value}\r\n                  onChange={(value) => {\r\n                    field.onChange(value);\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <label htmlFor=\"isActive\">{t(\"common.isActive\")}</label>\r\n              <Switch\r\n                checked={!!isActive}\r\n                onChange={(e) => handleSwitchChange(\"isActive\", e.target.checked)}\r\n                id=\"isActive\"\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <label htmlFor=\"isMyExpire\">Muddatli mahsulot</label>\r\n              <Switch\r\n                checked={!!watch(\"isMyExpire\")}\r\n                id=\"isMyExpire\"\r\n                {...register(\"isMyExpire\")}\r\n              />\r\n            </Box>\r\n            {watch(\"isMyExpire\") && (\r\n              <Grid container>\r\n                <Grid item md={12}>\r\n                  <DatePickerForm\r\n                    control={control}\r\n                    name=\"expiryDate\"\r\n                    rules={{ required: { value: true, message: \"Majburiy\" } }}\r\n                    disableTime={true}\r\n                    label={t(\"common.validatyPariod\")}\r\n                    readOnly\r\n                    minDate={new Date()}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Chegirma */}\r\n          <Grid item md={12}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <label htmlFor=\"discountEnabled\">{t(\"common.discount\")}</label>\r\n              <Switch\r\n                checked={!!watch(\"discountEnabled\")}\r\n                id=\"discountEnabled\"\r\n                {...register(\"discountEnabled\")}\r\n              />\r\n            </Box>\r\n            {watch(\"discountEnabled\") && (\r\n              <Grid container spacing={2} alignItems=\"end\">\r\n                <Grid item md={6}>\r\n                  <TextInput\r\n                    control={control}\r\n                    name=\"discountValue\"\r\n                    label={t(\"common.discountValue\")}\r\n                    type=\"number\"\r\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\r\n                    inputProps={\r\n                      watch(\"discountType\") === \"percent\"\r\n                        ? {\r\n                          max: 100,\r\n                        }\r\n                        : {\r\n                          max: Number(watch(\"price\")),\r\n                        }\r\n                    }\r\n                  />\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                  <SelectForm\r\n                    control={control}\r\n                    name=\"discountType\"\r\n                    options={DISCOUNT_TYPES}\r\n                    label={t(\"common.type\")}\r\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\r\n                  />\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                  <DatePickerForm\r\n                    control={control}\r\n                    name=\"discountStartAt\"\r\n                    disableTime={true}\r\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\r\n                    label={t(\"common.discountStartAt\")}\r\n                    minDate={new Date()}\r\n                    readOnly\r\n                    maxDate={\r\n                      watch(\"discountEndAt\")\r\n                        // @ts-ignore\r\n                        ? new Date(watch(\"discountEndAt\"))\r\n                        : undefined\r\n                    }\r\n                  />\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                  <DatePickerForm\r\n                    control={control}\r\n                    name=\"discountEndAt\"\r\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\r\n                    disableTime={true}\r\n                    label={t(\"common.discountEndAt\")}\r\n                    readOnly\r\n                    minDate={discountEndMinDate}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Tarkibli tovar */}\r\n          <Grid item md={12}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <label htmlFor=\"compounds\">{t('general.compounds')}</label>\r\n              <Switch\r\n                checked={hasCompoundsEnabled}\r\n                onChange={(e) => handleSwitchChange(\"compounds\", e.target.checked)}\r\n                id=\"compounds\"\r\n              />\r\n            </Box>\r\n            {hasCompoundsEnabled && (\r\n              fields.map((field: any, index: any) => (\r\n                <Grid container key={field.id} className=\"flex items-end justify-between mt-2\">\r\n                  <Grid item md={5}>\r\n                    <TextInput\r\n                      control={control}\r\n                      name={`compounds.${index}.name`}\r\n                      type=\"text\"\r\n                      rules={{ required: false }}\r\n                      label={t('general.composition')}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={5}>\r\n                    <Input\r\n                      label={t('general.quantity')}\r\n                      params={{\r\n                        ...register(\r\n                          `compounds.${index}.value`,\r\n                        ),\r\n                      }}\r\n                    // error={errors?.compounds?.[index]?.value}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={1}>\r\n                    <Delete\r\n                      sx={{\r\n                        cursor: \"pointer\",\r\n                        color: \"#D54239\",\r\n                        fontSize: \"1.5rem\",\r\n                      }}\r\n                      className=\"mb-2.5\"\r\n                      onClick={() => {\r\n                        remove(index);\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              ))\r\n            )}\r\n          </Grid>\r\n          {hasCompoundsEnabled && (\r\n            <Grid item xs={3} md={2} paddingBlock={2} className=\"flex flex-col \">\r\n              <CommonButton\r\n                startIcon={<PlusIcon />}\r\n                type=\"button\"\r\n                // title={`${t(\"general.add\")}`}\r\n                onClick={() => {\r\n                  const newValue = {\r\n                    name: null,\r\n                    value: null,\r\n                  };\r\n                  append(newValue);\r\n                }}\r\n              />\r\n            </Grid>\r\n          )}\r\n\r\n          {/* Qoshimcha xusiyat tovar */}\r\n          <Grid item md={12}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <label htmlFor=\"attributes\">{t('general.attributes')}</label>\r\n              <Switch\r\n                checked={hasAttributesEnabled}\r\n                onChange={(e) => handleSwitchChange(\"attributes\", e.target.checked)}\r\n                id=\"attributes\"\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          {\r\n            hasAttributesEnabled &&\r\n            <Grid item md={12}>\r\n              <AutoCompleteForm\r\n                control={control}\r\n                name=\"attributeId\"\r\n                optionsUrl=\"attribute/choose\"\r\n                dataProp=\"data.data\"\r\n                rules={{ required: false }}\r\n                multiple\r\n              />\r\n            </Grid>\r\n          }\r\n\r\n\r\n          {hasAttributesEnabled &&\r\n            selectedAttributes?.map((attributeId: any) => (\r\n              <Grid key={attributeId} item md={12}>\r\n                <p className=\"text-[#EB5B00] font-bold text-xl\">\r\n                  {\r\n                    filteredAttributes\r\n                      ?.filter((item: any) => item?._id === attributeId)\r\n                      ?.map((item: any) => (\r\n                        <div key={item?._id}>\r\n                          {item.name?.[currentLang]}:\r\n                        </div>\r\n                      ))\r\n                  }\r\n                </p>\r\n                <AttributeForm\r\n                  attributeId={attributeId}\r\n                  getByIdData={getByIdData}\r\n                  control={control}\r\n                  register={register}\r\n                />\r\n              </Grid>\r\n            ))\r\n          }\r\n\r\n          {/* Images */}\r\n          <Grid item md={12}>\r\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\r\n            <div className=\"product-images\">\r\n              <ImageInputPro\r\n                control={control}\r\n                setValue={setValue}\r\n                name=\"image\"\r\n                rules={{ required: false }}\r\n                multiple\r\n                getImage={(img) => {\r\n                  setProductImages((prev) => [...prev, img]);\r\n                  setValue(\"image\", null);\r\n                }}\r\n                accept=\".png, .jpg, .jpeg\"\r\n              />\r\n              {productImages?.map((image) => (\r\n                <div className=\"product-image\" key={image._id}>\r\n                  <img\r\n                    src={process.env.REACT_APP_BASE_URL + image.url}\r\n                    alt=\"product\"\r\n                  />\r\n                  <div className=\"on-hover flex gap-2\">\r\n                    <span\r\n                      className=\"delete\"\r\n                      onClick={() =>\r\n                        setProductImages((prev) =>\r\n                          prev.filter((prevImg) => prevImg._id !== image._id)\r\n                        )\r\n                      }\r\n                    >\r\n                      <DeleteIcon />\r\n                    </span>\r\n                    <span\r\n                      className=\"preview\"\r\n                      onClick={() => {\r\n                        const modal = document.createElement('div');\r\n                        modal.style.position = 'fixed';\r\n                        modal.style.top = '0';\r\n                        modal.style.left = '0';\r\n                        modal.style.width = '100%';\r\n                        modal.style.height = '100%';\r\n                        modal.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\r\n                        modal.style.display = 'flex';\r\n                        modal.style.justifyContent = 'center';\r\n                        modal.style.alignItems = 'center';\r\n                        modal.style.zIndex = '2000';\r\n\r\n                        const img = document.createElement('img');\r\n                        img.src = process.env.REACT_APP_BASE_URL + image.url;\r\n                        img.alt = 'preview';\r\n                        img.style.maxWidth = '90%';\r\n                        img.style.maxHeight = '90%';\r\n                        img.style.border = '2px solid white';\r\n                        img.style.borderRadius = '8px';\r\n\r\n                        const closeButton = document.createElement('span');\r\n                        closeButton.innerText = '×';\r\n                        closeButton.style.position = 'absolute';\r\n                        closeButton.style.top = '20px';\r\n                        closeButton.style.right = '20px';\r\n                        closeButton.style.fontSize = '2rem';\r\n                        closeButton.style.color = 'white';\r\n                        closeButton.style.cursor = 'pointer';\r\n\r\n                        closeButton.onclick = () => {\r\n                          document.body.removeChild(modal);\r\n                        };\r\n\r\n                        modal.appendChild(img);\r\n                        modal.appendChild(closeButton);\r\n                        document.body.appendChild(modal);\r\n                      }}\r\n                    >\r\n                      <VisibilityIcon className=\"text-white text-lg\" />\r\n                    </span>\r\n                    <span\r\n                      className={`main-image ${image._id === mainImageId && \"active\"\r\n                        }`}\r\n                      onClick={() => setMainImageId(image?._id)}\r\n                    ></span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </ProductFormStyled>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport interface IIdImage {\r\n  url: string;\r\n  _id?: string;\r\n}\r\nexport interface IFileImage {\r\n  id?: string | number;\r\n  imageFile?: File;\r\n}\r\nconst usePostFile = (onSuccess?: (idImage: IIdImage) => void) => {\r\n  const [imageFile, setImage] = useState<IIdImage>();\r\n  const [isUploading, setIsUploading] = useState<boolean>();\r\n  const uploadImage = (image: IFileImage) => {\r\n    setIsUploading(true);\r\n    if (image.imageFile) {\r\n      axios({\r\n        url: `${process.env.REACT_APP_BASE_URL}/image/file/upload`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          \"Accept-Language\": localStorage.getItem(\"i18nextLng\"),\r\n          // storeId: localStorage.getItem(\"storeId\"),\r\n        },\r\n        data: {\r\n          file: image.imageFile,\r\n          type: \"file\",\r\n        },\r\n      })\r\n        .then((res) => {\r\n          const IDImage = {\r\n            url: res.data.data.url,\r\n            _id: res.data.data._id,\r\n          };\r\n          onSuccess?.(IDImage);\r\n          setImage(IDImage);\r\n          setIsUploading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data.message);\r\n          setIsUploading(false);\r\n          toast.error(err.response.data.message, {\r\n            position: \"top-center\",\r\n            autoClose: 5000,\r\n          });\r\n        });\r\n    } else {\r\n      setIsUploading(false);\r\n      toast.error(\"Rasm fayl tanlanmadi!\", {\r\n        position: \"top-center\",\r\n        autoClose: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return { imageFile, isUploading, uploadImage, setImage };\r\n};\r\n\r\nexport default usePostFile;\r\n","import { DoneIcon, ImportIcon, UploadFile } from \"assets/svgs\";\r\nimport { CommonModal, Loading } from \"components\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { get } from \"lodash\";\r\nimport { Spin } from \"antd\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useAppDispatch } from \"store/storeHooks\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport CommonButton from \"components/common/commonButton/Button\";\r\nimport { reRenderTable } from \"components/elements/Table/reducer/table.slice\";\r\nimport { fetchAndDownloadData } from \"./fetchAndDownload\";\r\nimport { ImportStudentStyle } from \"./ProductForm.styled\";\r\nimport usePostFile from \"hooks/usePostFile\";\r\nimport { Box, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from \"@mui/material\";\r\n\r\nconst ImportModal = () => {\r\n  const [open, setOpen] = useState<string>(\"\");\r\n  const [errors, setErrors] = useState<{\r\n    error_items?: Array<{ position: string; error_message: string, value: any }>;\r\n    error_count?: number | undefined;\r\n    item_count?: number | undefined;\r\n  }>({});\r\n  const [uploadedFilePath, setUploadedFilePath] = useState<string>(\"\");\r\n  const fileRef = useRef<any>(null);\r\n  const dis = useAppDispatch();\r\n  const { t } = useTranslation();\r\n\r\n  const { mutate: confirmStudent, status: confirmStatus } = useApiMutation(\r\n    \"product/import\",\r\n    \"post\",\r\n    {\r\n      onSuccess() {\r\n        setOpen(\"\");\r\n        toast.success(t(\"toast_messages.success\"));\r\n        dis(reRenderTable(true));\r\n        setUploadedFilePath(\"\");\r\n        setErrors({});\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, data, status: uploadStatus } = useApiMutation(\r\n    \"product/import/validate\",\r\n    \"post\",\r\n    {\r\n      onSuccess(data) {\r\n        setErrors(get(data, \"data\", {}));\r\n        fileRef.current.value = \"\";\r\n      },\r\n      onError(data) {\r\n        // setUploadedFilePath(get(data, \"data.uploadedFilePath\", \"\"));\r\n        setErrors(get(data, \"message.errors\", {}));\r\n      },\r\n    }\r\n  );\r\n\r\n  const { uploadImage } = usePostFile((response) => {\r\n    if (response?.url) {\r\n      setUploadedFilePath(response.url);\r\n      mutate({ file_path: response.url });\r\n    }\r\n  });\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      uploadImage({ imageFile: file });\r\n    }\r\n  };\r\n\r\n  console.log(uploadedFilePath)\r\n  console.log(errors)\r\n\r\n  return (\r\n    <>\r\n      <CommonButton\r\n        title=\"Import\"\r\n        className=\"import\"\r\n        startIcon={<ImportIcon />}\r\n        onClick={() => setOpen(\"open-import\")}\r\n      />\r\n      <CommonModal open={!!open} setOpen={setOpen} canClose={false} width={800}>\r\n        <ImportStudentStyle>\r\n          <h2 className=\"text-center\">{t(\"general.import\")}</h2>\r\n          <h4 className=\"my-3\">\r\n            <Trans\r\n              i18nKey=\"general.import_student\"\r\n              components={[\r\n                <span\r\n                  className=\"text-blue-500 cursor-pointer\"\r\n                  onClick={() => {\r\n                    fetchAndDownloadData(\r\n                      \"uploads/product_template.xlsx\",\r\n                      \"products.xlsx\"\r\n                    );\r\n                  }}\r\n                ></span>,\r\n              ]}\r\n            />\r\n          </h4>\r\n\r\n          <div className=\"py-3 mb-3 import-student-box\">\r\n            <label htmlFor=\"import-student\">\r\n              {errors && errors?.error_count !== 0 ? <UploadFile /> : <DoneIcon />}\r\n              <span>\r\n                {errors && errors?.error_count !== 0\r\n                  ? t(\"general.upload_file\")\r\n                  : t(\"general.uploaded_file\")}\r\n              </span>\r\n              <input\r\n                type=\"file\"\r\n                className=\"upload-input\"\r\n                id=\"import-student\"\r\n                onChange={handleFileChange}\r\n                accept=\".xlsx,.xls\"\r\n                disabled={uploadStatus === \"loading\"}\r\n                ref={fileRef}\r\n              />\r\n              {uploadStatus === \"loading\" && (\r\n                <div className=\"d-flex align-items-center\">\r\n                  <Spin />\r\n                </div>\r\n              )}\r\n            </label>\r\n          </div>\r\n\r\n          {errors?.error_count && errors.error_count > 0 && (\r\n            <div className=\"errors-upload\">\r\n              <Box className=\"error-table\" sx={{ mt: 2 }}>\r\n                <Box sx={{ display: 'flex', gap: 3, mb: 2 }}>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Jami:</strong> {errors.item_count || 0}\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Xatolar soni:</strong> {errors.error_count || 0}\r\n                  </Typography>\r\n                </Box>\r\n\r\n                <TableContainer sx={{ border: 1, borderColor: 'divider' }}>\r\n                  <Table sx={{ minWidth: 650 }} aria-label=\"error table\">\r\n                    <TableHead>\r\n                      <TableRow sx={{ backgroundColor: 'grey.100' }}>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Joylashgan o'rni</TableCell>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Qiymati</TableCell>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Xato xabari</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {errors.error_items?.map((error, index) => (\r\n                        <TableRow\r\n                          key={index}\r\n                          sx={{ '&:nth-of-type(even)': { backgroundColor: 'grey.50' } }}\r\n                        >\r\n                          <TableCell>{error.position}</TableCell>\r\n                          <TableCell>{error.value || '-'}</TableCell>\r\n                          <TableCell sx={{ color: 'error.main' }}>{error.error_message}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Box>\r\n            </div>\r\n          )}\r\n          <div className=\"d-flex justify-content-end align-items-center gap-3\">\r\n            <CommonButton\r\n              title={t(\"general.back\")!}\r\n              onClick={() => {\r\n                setOpen(\"\");\r\n                setUploadedFilePath(\"\");\r\n                setErrors({});\r\n              }}\r\n              disabled={\r\n                confirmStatus === \"loading\" || uploadStatus === \"loading\"\r\n              }\r\n            />\r\n            <CommonButton\r\n              title={t(\"general.save\")!}\r\n              className=\"main\"\r\n              onClick={() => confirmStudent({ file_path: uploadedFilePath })}\r\n              status={confirmStatus}\r\n              disabled={confirmStatus === \"loading\" || !uploadedFilePath || (errors.error_count ?? 0) > 0}\r\n            />\r\n          </div>\r\n        </ImportStudentStyle>\r\n      </CommonModal>\r\n\r\n      {uploadStatus === \"loading\" && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImportModal;","import { toast } from \"react-toastify\";\r\n\r\nexport function fetchAndDownloadData(url: string, fileName: string): void {\r\n  const token = localStorage.getItem(\"token\");\r\n  const branchId = localStorage.getItem(\"branchId\");\r\n\r\n  fetch(process.env.REACT_APP_BASE_URL + url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token} `,\r\n      \"Content-Type\": \"application/json\",\r\n      Branch: `${branchId}`,\r\n      Organization: \"test\",\r\n    },\r\n  })\r\n    .then((response) => response.blob())\r\n    .then((blob) => {\r\n      const url = window.URL.createObjectURL(new Blob([blob]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\"download\", fileName);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      // Yaratilgan linkni tozalash\r\n      document.body.removeChild(link);\r\n    })\r\n    .catch((error) => {\r\n      toast.error(\"Ma'lumot yuklashda xatolik yuz berdi\");\r\n    });\r\n}\r\n","import Product from \"./container/Product\";\r\n\r\nexport default Product;\r\n","import { AutoCompleteFilter, AutoCompleteForm, Checkbox, ExportButton, FormDrawer, Table } from \"components\";\r\nimport { useProductColumns } from \"./product.columns\";\r\nimport { useRoleManager } from \"services/useRoleManager\";\r\nimport { useAppDispatch } from \"store/storeHooks\";\r\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Grid, InputLabel, MenuItem, Select } from \"@mui/material\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport ProductForm from \"../components/ProductForm\";\r\nimport { IIdImage } from \"hooks/usePostFile\";\r\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\r\nimport ImportModal from \"../components/ImportModal\";\r\n\r\nconst Product = () => {\r\n  const columns = useProductColumns();\r\n  const hasAccess = useRoleManager();\r\n  const dis = useAppDispatch();\r\n  const { t } = useTranslation();\r\n  const formStore = useForm();\r\n  const [editingProductId, setEditingProductId] = useState<any>();\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productImages, setProductImages] = useState<IIdImage[]>([]);\r\n  const [mainImageId, setMainImageId] = useState<any>();\r\n  const [subCategory, setSubCategory] = useState<any>();\r\n\r\n  const queryParams = useMemo(() => ({\r\n    isActive: formStore.watch(\"isActiveQuery\") || undefined,\r\n    stockState: formStore.watch(\"stockState\") || undefined,\r\n  }), [formStore.watch(\"isActiveQuery\"), formStore.watch(\"stockState\")]);\r\n\r\n  const exportUrl: string = \"/product/export\";\r\n\r\n  const renderHeader = (\r\n    <Grid className=\"lg:w-[60%] w-full gap-y-2 sm:gap-y-0 grid sm:grid-cols-6 items-center gap-x-2\">\r\n      <Grid item>\r\n        <Checkbox\r\n          control={formStore.control}\r\n          label={t(\"enum.active\")}\r\n          name=\"isActiveQuery\"\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <Select\r\n          style={{\r\n            width: \"100%\",\r\n            paddingBlock: \"4px\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n          size=\"small\"\r\n          labelId=\"stockState-label\"\r\n          id=\"stockState\"\r\n          value={formStore.watch(\"stockState\") || \"\"}\r\n          onChange={(e) => formStore.setValue(\"stockState\", e.target.value)}\r\n          displayEmpty\r\n        >\r\n          {formStore.watch(\"stockState\") && (\r\n            <MenuItem value=\"\">Tozalash</MenuItem>\r\n          )}\r\n          {!formStore.watch(\"stockState\") && (\r\n            <MenuItem value=\"\" hidden disabled>\r\n              Omborni holati\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem value=\"yellowLine\">Sariq chiziq</MenuItem>\r\n          <MenuItem value=\"redLine\">Qizil chiziq</MenuItem>\r\n\r\n        </Select>\r\n\r\n      </Grid>\r\n      <Grid item>\r\n        <AutoCompleteFilter\r\n          optionsUrl=\"category/paging\"\r\n          filterName=\"categoryId\"\r\n          placeholder={t(\"common.category\")}\r\n          onChange={(item: any) => {\r\n            setSubCategory(item);\r\n          }}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        {\r\n          subCategory && <AutoCompleteFilter\r\n            optionsUrl=\"category/paging\"\r\n            filterName=\"categoryId\"\r\n            placeholder={t(\"common.category\")}\r\n            onChange={() => setSubCategory((prev: any) => prev)}\r\n            exQueryParams={{\r\n              parentId: subCategory._id\r\n            }}\r\n          />\r\n        }\r\n      </Grid>\r\n      <Grid item>\r\n        <ImportModal />\r\n      </Grid>\r\n      <Grid item>\r\n        <ExportButton url={exportUrl} extraParams={queryParams} />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  const resetForm = () => {\r\n    setEditingProductId(null);\r\n    setProductImages([]);\r\n    setMainImageId(null);\r\n    formStore.reset({\r\n      name: { uz: \"\", ru: \"\", en: \"\" },\r\n      price: \"\",\r\n      salePrice: \"\",\r\n      inStock: \"\",\r\n      discountValue: undefined,\r\n      discountType: undefined,\r\n      discountStartAt: undefined,\r\n      discountEndAt: undefined,\r\n      imageUrl: \"\",\r\n      isActive: false,\r\n      discountEnabled: false,\r\n      isActiveQuery: formStore.watch(\"isActiveQuery\"),\r\n      stockState: formStore.watch(\"stockState\"),\r\n      measureId: \"\",\r\n      categoryId: \"\",\r\n      description: \"\",\r\n      attributes: null,\r\n      compounds: null\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        columns={columns}\r\n        dataUrl=\"product/paging\"\r\n        searchable\r\n        headerChildren={renderHeader}\r\n        onAddButton={hasAccess(\"productCreate\") ? () => dis(setOpenDrawer(true)) : undefined}\r\n        onEditColumn={\r\n          hasAccess(\"productUpdate\")\r\n            ? (row) => {\r\n              setEditingProductId(row._id);\r\n              dis(setOpenDrawer(true));\r\n            }\r\n            : undefined\r\n        }\r\n        onDeleteColumn={\r\n          hasAccess(\"productDelete\")\r\n            ? (row) => setProductId(row._id)\r\n            : undefined\r\n        }\r\n        exQueryParams={queryParams}\r\n      />\r\n      <WarningModal open={productId} setOpen={setProductId} url=\"product/delete\" />\r\n      <FormDrawer\r\n        FORM_ID=\"product\"\r\n        isEditing={!!editingProductId}\r\n        customTitle={t(\"general.addProduct\")}\r\n        onClose={resetForm}\r\n      >\r\n        <ProductForm\r\n          formStore={formStore}\r\n          resetForm={resetForm}\r\n          editingProductId={editingProductId}\r\n          productProps={{\r\n            productImages,\r\n            setProductImages,\r\n            mainImageId,\r\n            setMainImageId,\r\n          }}\r\n        />\r\n      </FormDrawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import { GridColumns } from \"@mui/x-data-grid\";\r\nimport { Tooltip } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { numberFormat } from \"utils/numberFormat\";\r\n\r\nexport const useProductColumns = (): GridColumns => {\r\n  const { t } = useTranslation();\r\n\r\n  return [\r\n    {\r\n      field: t(\"common.productName\"),\r\n      renderCell({ row }) {\r\n        const title = row?.name;\r\n        const truncatedTitle = title?.length > 30 ? `${title.substring(0, 30)}...` : title;\r\n    \r\n        return (\r\n          <Tooltip title={title} arrow>\r\n            <span>{truncatedTitle}</span>\r\n          </Tooltip>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.price\"),\r\n      renderCell({ row }) {\r\n        return numberFormat(get(row, \"price\", \"\"));\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.discountValue\"),\r\n      renderCell({ row }) {\r\n        const discountValue = get(row, \"discountValue\", \"\");\r\n        if (discountValue === 0) {\r\n          return \"\"; \r\n        }\r\n        return (\r\n          numberFormat(discountValue) + \r\n          (row.discountType === \"percent\" ? \"%\" : \"\")\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.residue\"),\r\n      renderCell({ row }) {\r\n        return numberFormat(get(row, \"inStock\", \"\"));\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.parent_category\"),\r\n      renderCell({ row }) {\r\n        return get(row, \"category.parent.name\", \"\") || get(row, \"category.name\", \"\");\r\n      },\r\n    },\r\n    {\r\n      field: t(\"common.child_category\"),\r\n      renderCell({ row }) {\r\n        return  get(row, \"category.parent.name\", \"\") && get(row, \"category.name\", \"\");\r\n      },\r\n    },\r\n  ];\r\n};\r\n","export const numberFormat = (number: any) => {\r\n  if (number || number === 0) {\r\n    // Floating-point xatoliklarni oldini olish\r\n    const rounded = Math.round((number + Number.EPSILON) * 100) / 100;\r\n\r\n    return rounded\r\n      .toLocaleString(\"en-US\", {\r\n        minimumFractionDigits: 0, // Har doim 2 kasr\r\n        maximumFractionDigits: 0, // Kasr 2 dan oshmaydi\r\n      })\r\n      .replaceAll(\",\", \" \"); // Minglik ajratgich\r\n  }\r\n  return \"\";\r\n};\r\n"],"names":["TextEditorStyled","styled","RichTextEditor","_templateObject","_taggedTemplateLiteral","props","value","onChange","onImageUpload","isError","type","_jsx","controls","PAYMENT_TYPES","_id","name","trans_key","DISCOUNT_TYPES","SETTINGS_TABS","key","role","RATINGS","rate","ProductFormStyled","div","ImportStudentStyle","_templateObject2","_ref","attributeId","control","register","getByIdData","fields","append","remove","useFieldArray","concat","t","useTranslation","_jsxs","children","map","field","index","Grid","container","className","item","md","TextInput","rules","required","label","Input","params","_objectSpread","Delete","sx","cursor","color","fontSize","onClick","handleRemove","id","xs","paddingBlock","CommonButton","startIcon","PlusIcon","handleAdd","amount","attributeItem","ImageInputStyled","onSuccess","imageFile","setImage","useState","isUploading","setIsUploading","uploadImage","image","axios","url","process","method","headers","Authorization","localStorage","getItem","data","file","then","res","IDImage","catch","err","console","log","response","message","toast","error","position","autoClose","title","setValue","getImage","multiple","accept","isOpen","useAppSelector","store","formDrawerState","useEffect","undefined","usePostProductImage","Controller","render","_ref2","_fieldState$error","fieldState","ref","e","_e$target$files","target","files","CircularProgress","size","Image","src","DefaultImage","_Fragment","_attributesData$data","_attributesData$data$","formStore","resetForm","editingProductId","productProps","productImages","setProductImages","mainImageId","setMainImageId","handleSubmit","reset","watch","formState","errors","currentLang","hasAttributesEnabled","setHasAttributesEnabled","hasCompoundsEnabled","setHasCompoundsEnabled","subCategory","setSubCategory","subChildCategory","setSubChildCategory","selectedParentCategory","setSelectedParentCategory","selectedChildCategory","setSelectedChildCategory","discountEndMinDate","Date","setDate","getDate","mutate","status","useApiMutation","getByIdStatus","useApi","enabled","suspense","selectedAttributeIds","currentAttributes","cleanedAttributes","Object","entries","filter","_ref5","includes","reduce","acc","_ref6","_getByIdData$data$att","_getByIdData$data$com","parentCategoryId","categoryId","attributes","length","compounds","_getByIdData$data$att2","_getByIdData$data","_getByIdData$data2","_getByIdData$data2$im","_getByIdData$data3","_getByIdData$data3$im","_getByIdData$data4","_getByIdData$data4$im","_getByIdData$data4$im2","productData","attr","attribute","items","isActiveQuery","description","attributeDetails","images","_getByIdData$data$mai2","find","img","_getByIdData$data$mai","mainImage","foundMain","main","selectedAttributes","attributesChoose","attributesData","attributesStatus","filteredAttributes","some","selected","isActive","handleSwitchChange","useCallback","onSubmit","_productImages$","_data$expiryDate","_data$attributeId","_ref3","requestData","price","inStock","redLine","yellowLine","imageIds","expiryDate","isMyExpire","toISOString","discountEnabled","_ref4","Array","isArray","itm","Number","_data$discountStartAt","_data$discountEndAt","discountType","discountValue","discountStartAt","discountEndAt","spacing","display","justifyContent","Box","AutoCompleteForm","optionsUrl","dataProp","exQueryParams","parentId","_ref7","TextEditor","alignItems","htmlFor","Switch","checked","DatePickerForm","disableTime","readOnly","minDate","inputProps","max","SelectForm","options","maxDate","_filteredAttributes$f","_item$name","AttributeForm","ImageInputPro","prev","alt","prevImg","DeleteIcon","modal","document","createElement","style","top","left","width","height","backgroundColor","zIndex","maxWidth","maxHeight","border","borderRadius","closeButton","innerText","right","onclick","body","removeChild","appendChild","VisibilityIcon","ImportModal","_errors$error_items","_errors$error_count","open","setOpen","setErrors","uploadedFilePath","setUploadedFilePath","fileRef","useRef","dis","useAppDispatch","confirmStudent","confirmStatus","success","reRenderTable","uploadStatus","get","current","onError","usePostFile","file_path","ImportIcon","CommonModal","canClose","Trans","i18nKey","components","fileName","token","branchId","fetch","Branch","Organization","blob","window","URL","createObjectURL","Blob","link","href","setAttribute","click","fetchAndDownloadData","error_count","UploadFile","DoneIcon","disabled","Spin","mt","gap","mb","Typography","variant","item_count","TableContainer","borderColor","Table","minWidth","TableHead","TableRow","TableCell","fontWeight","TableBody","error_items","error_message","Loading","Product","columns","useProductColumns","renderCell","row","truncatedTitle","substring","Tooltip","arrow","numberFormat","hasAccess","useRoleManager","useForm","setEditingProductId","productId","setProductId","queryParams","useMemo","stockState","renderHeader","Checkbox","Select","labelId","displayEmpty","MenuItem","hidden","AutoCompleteFilter","filterName","placeholder","ExportButton","extraParams","uz","ru","en","salePrice","imageUrl","measureId","dataUrl","searchable","headerChildren","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","WarningModal","FormDrawer","FORM_ID","isEditing","customTitle","onClose","ProductForm","number","Math","round","EPSILON","toLocaleString","minimumFractionDigits","maximumFractionDigits","replaceAll"],"sourceRoot":""}