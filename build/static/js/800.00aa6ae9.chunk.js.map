{"version":3,"file":"static/js/800.00aa6ae9.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/news/components/NewsForm.tsx","pages/news/index.tsx","pages/news/container/News.tsx","pages/news/container/news.columns.tsx"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\nimport styled from \"styled-components\";\nimport { ITextEditorStyled } from \"./TextEditor.types\";\n\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n`;\n","import { FC } from \"react\";\nimport { TextEditorStyled } from \"./TextEditor.style\";\nimport { TextEditorPropsType } from \"./TextEditor.types\";\n\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\n  const { value, onChange, onImageUpload, isError, type } = props;\n\n  return (\n    <TextEditorStyled\n      controls={[\n        [\n          \"bold\",\n          \"italic\",\n          \"underline\",\n          \"strike\",\n          \"clean\",\n          \"unorderedList\",\n          \"orderedList\",\n          \"alignLeft\",\n          \"alignCenter\",\n          \"alignRight\",\n        ],\n      ]}\n      isError={!!isError}\n      value={value}\n      onChange={onChange}\n      onImageUpload={onImageUpload}\n      type={type}\n    ></TextEditorStyled>\n  );\n};\n\nexport default TextEditor;\n","import { FC, useEffect } from \"react\";\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport { AutoCompleteForm, ImageInput, TextInput } from \"components\";\nimport { Controller, UseFormReturn } from \"react-hook-form\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport { debounce } from \"lodash\";\n\ninterface IEmployeesForm {\n  formStore: UseFormReturn<any>;\n  editingNewsId: string;\n  resetForm: () => void;\n}\nconst BannerForm: FC<IEmployeesForm> = ({\n  formStore,\n  editingNewsId,\n  resetForm,\n}) => {\n  const { t } = useTranslation();\n  const { control, handleSubmit, reset, watch, setValue } = formStore;\n\n  const { mutate, status } = useApiMutation(\n    editingNewsId ? `/news/update` : \"/news/create\",\n    editingNewsId ? \"post\" : \"post\"\n  );\n\n  const { data: getByIdData, status: getByIdStatus } = useApi(\n    `news/get-by-id/${editingNewsId}`,\n    {},\n    {\n      enabled: !!editingNewsId,\n      suspense: false,\n    }\n  );\n\n  useEffect(() => {\n    if (status === \"success\") {\n      resetForm();\n    }\n  }, [status]);\n\n  const submit = (data: any) => {\n    mutate({\n      _id: editingNewsId,\n      ...data,\n      imageId: data.imageId?._id,\n    });\n  };\n\n  useEffect(() => {\n    if (getByIdStatus === \"success\") {\n      reset({\n        title: getByIdData.data.title,\n        imageId: getByIdData.data.image,\n        description: getByIdData.data.description,\n      });\n    }\n  }, [getByIdStatus, getByIdData]);\n\n\n\n  return (\n    <div className=\"custom-drawer\">\n      <form id=\"banner\" onSubmit={handleSubmit(submit)}>\n        <Grid container spacing={2}>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"title.uz\"\n              label={t('common.title') + ' (Uz)'}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"title.ru\"\n              label={t('common.title') + ' (Ru)'}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"title.en\"\n              label={t('common.title') + ' (En)'}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\n                {t('common.description') + '(Uz)'}\n              </Typography>\n              <Controller\n                name=\"description.uz\"\n                control={control}\n                render={({ field }) => (\n                  <TextEditor\n                    value={field.value}\n                    onChange={(value) => {\n                      field.onChange(value);\n                    }}\n                  />\n                )}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={12}>\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\n                {t('common.description') + '(Ru)'}\n              </Typography>\n              <Controller\n                name=\"description.ru\"\n                control={control}\n                render={({ field }) => (\n                  <TextEditor\n                    value={field.value}\n                    onChange={(value) => {\n                      field.onChange(value);\n                    }}\n                  />\n                )}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={12}>\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\n                {t('common.description') + '(En)'}\n              </Typography>\n              <Controller\n                name=\"description.en\"\n                control={control}\n                render={({ field }) => (\n                  <TextEditor\n                    value={field.value}\n                    onChange={(value) => {\n                      field.onChange(value);\n                    }}\n                  />\n                )}\n              />\n            </Box>\n\n          </Grid>\n          <Grid item md={12}>\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\n            <ImageInput control={control} setValue={setValue} name=\"imageId\" />\n            <div className=\"d-flex justify-content-between mt-3\">\n              <span>O'lcham</span>\n              <span>1080(px) - 250(px)</span>\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n};\n\nexport default BannerForm;\n","import News from \"./container/News\";\n\nexport default News;\n","import { FormDrawer, Table } from \"components\";\nimport { useMemo, useState } from \"react\";\nimport { useBannerColumns } from \"./news.columns\";\nimport { useAppDispatch } from \"../../../store/storeHooks\";\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\nimport { useForm } from \"react-hook-form\";\nimport BannerForm from \"../components/NewsForm\";\nimport { useTranslation } from \"react-i18next\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\n\nconst News = () => {\n  const [editingNewsId, setEditingNewsId] = useState<any>();\n  const [newsId, setNewsId] = useState<any>();\n  const columns = useBannerColumns();\n  const hasAccess = useRoleManager();\n  const { t } = useTranslation();\n  const dis = useAppDispatch();\n  const formStore = useForm<any>();\n\n  const resetForm = () => {\n    setEditingNewsId(undefined);\n    formStore.reset({\n      title: { uz: \"\", ru: \"\", en: \"\" },\n      imageId: \"\",\n      description: \"\",\n    });\n  };\n\n  const queryParams = useMemo(() => ({}), []);\n\n  return (\n    <>\n      <Table\n        dataUrl=\"news/paging\"\n        columns={columns}\n        searchable\n        onAddButton={() => dis(setOpenDrawer(true))}\n        onEditColumn={(row) => {\n          setEditingNewsId(row._id);\n          dis(setOpenDrawer(true));\n        }}\n        onDeleteColumn={(row) => setNewsId(row._id)}\n        exQueryParams={queryParams}\n      />\n      <WarningModal open={newsId} setOpen={setNewsId} url=\"news/delete\" />\n      <FormDrawer\n        FORM_ID=\"banner\"\n        isEditing={!!editingNewsId}\n        customTitle={t(\"general.addNews\")}\n        onClose={resetForm}\n      >\n        <BannerForm\n          formStore={formStore}\n          resetForm={resetForm}\n          editingNewsId={editingNewsId}\n        />\n      </FormDrawer>\n    </>\n  );\n};\n\nexport default News;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { Tooltip } from \"antd\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const useBannerColumns = (): GridColumns => {\n  const { t } = useTranslation();\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\"; \n\n  return [\n    {\n      field: t(\"common.name\"),\n      renderCell({ row }) {\n        const title = row?.title?.[currentLang];\n        const truncatedTitle = title?.length > 50 ? `${title.substring(0, 50)}...` : title;\n    \n        return (\n          <Tooltip title={title} arrow>\n            <span>{truncatedTitle}</span>\n          </Tooltip>\n        );\n      },\n    }\n    \n    // {\n    //   field: t(\"common.store\"),\n    //   renderCell({ row }) {\n    //     return get(row, \"store.name\", \"-\");\n    //   },\n    // },\n  ];\n};\n"],"names":["TextEditorStyled","styled","RichTextEditor","props","value","onChange","onImageUpload","isError","type","controls","formStore","editingNewsId","resetForm","t","useTranslation","control","handleSubmit","reset","setValue","watch","useApiMutation","mutate","status","useApi","enabled","suspense","getByIdData","data","getByIdStatus","useEffect","title","imageId","image","description","className","id","onSubmit","_id","Grid","container","spacing","item","md","name","label","Box","sx","mb","Typography","variant","render","field","TextEditor","htmlFor","useState","setEditingNewsId","newsId","setNewsId","columns","currentLang","localStorage","getItem","renderCell","row","truncatedTitle","length","substring","arrow","useBannerColumns","useRoleManager","dis","useAppDispatch","useForm","undefined","uz","ru","en","queryParams","useMemo","dataUrl","searchable","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","url","FORM_ID","isEditing","customTitle","onClose"],"sourceRoot":""}