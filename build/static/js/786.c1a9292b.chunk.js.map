{"version":3,"file":"static/js/786.c1a9292b.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/product/components/ProductForm.styled.ts","pages/product/components/ProductForm.tsx","pages/product/index.tsx","pages/product/container/Product.tsx","pages/product/container/product.columns.tsx","types/enums.ts","utils/numberFormat.ts"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\nimport styled from \"styled-components\";\nimport { ITextEditorStyled } from \"./TextEditor.types\";\n\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n`;\n","import { FC } from \"react\";\nimport { TextEditorStyled } from \"./TextEditor.style\";\nimport { TextEditorPropsType } from \"./TextEditor.types\";\n\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\n  const { value, onChange, onImageUpload, isError, type } = props;\n\n  return (\n    <TextEditorStyled\n      controls={[\n        [\n          \"bold\",\n          \"italic\",\n          \"underline\",\n          \"strike\",\n          \"clean\",\n          \"unorderedList\",\n          \"orderedList\",\n          \"alignLeft\",\n          \"alignCenter\",\n          \"alignRight\",\n        ],\n      ]}\n      isError={!!isError}\n      value={value}\n      onChange={onChange}\n      onImageUpload={onImageUpload}\n      type={type}\n    ></TextEditorStyled>\n  );\n};\n\nexport default TextEditor;\n","import styled from \"styled-components\";\n\nexport const ProductFormStyled = styled.div`\n  .product-images {\n    display: flex;\n    flex-wrap: wrap;\n    .input-file {\n      margin-right: 10px;\n    }\n    .product-image {\n      position: relative;\n      width: 76px;\n      height: 76px;\n      border-radius: 12px;\n      overflow: hidden;\n      margin-right: 10px;\n      margin-bottom: 10px;\n      cursor: pointer;\n      &:hover {\n        .on-hover {\n          display: flex;\n        }\n      }\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n      .on-hover {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.5);\n        .delete svg {\n          width: 20px;\n          height: 20px;\n          path {\n            fill: #fff;\n          }\n        }\n        .main-image {\n          position: absolute;\n          right: 5px;\n          top: 5px;\n          width: 15px;\n          height: 15px;\n          border-radius: 50%;\n          border: 2px solid gold;\n          &.active {\n            background-color: gold;\n          }\n        }\n      }\n    }\n  }\n`;\n","import { Dispatch, SetStateAction, useEffect } from \"react\";\nimport { Box, Grid, Switch } from \"@mui/material\";\nimport {\n  AutoCompleteForm,\n  DatePickerForm,\n  ImageInput,\n  SelectForm,\n  TextInput,\n} from \"components\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { ProductFormStyled } from \"./ProductForm.styled\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport { IIdImage } from \"hooks/usePostImage\";\nimport { DeleteIcon } from \"assets/svgs\";\nimport { DISCOUNT_TYPES } from \"types/enums\";\nimport { IProduct } from \"types/common.types\";\nimport dayjs from \"dayjs\";\n\ninterface IProductForm {\n  formStore: any;\n  resetForm: () => void;\n  editingProductId: any;\n  productProps: {\n    productImages: IIdImage[];\n    setProductImages: Dispatch<SetStateAction<IIdImage[]>>;\n    mainImageId: any;\n    setMainImageId: any;\n  };\n}\n\nconst ProductForm = ({\n  formStore,\n  resetForm,\n  editingProductId,\n  productProps,\n}: IProductForm) => {\n  const { productImages, setProductImages, mainImageId, setMainImageId } =\n    productProps;\n  const { t } = useTranslation();\n  const { control, handleSubmit, reset, setValue, register, watch } = formStore;\n  const discountEndMinDate = new Date(watch(\"discountStartAt\"));\n  discountEndMinDate.setDate(discountEndMinDate.getDate() + 1);\n\n  const { mutate, status } = useApiMutation<any>(\n    editingProductId ? `/product/update` : \"product/create\",\n    editingProductId ? \"put\" : \"post\"\n  );\n\n  const { data: getByIdData, status: getByIdStatus } = useApi<IProduct>(\n    `product/get-by-id/${editingProductId}`,\n    {},\n    {\n      enabled: !!editingProductId,\n      suspense: false,\n    }\n  );\n\n  const sumbit = (data: any) => {\n    const requestData = {\n      ...data,\n      imageIds: productImages.map((image) => image._id),\n      mainImageId: productImages.length\n        ? mainImageId || productImages?.[0]?._id\n        : null,\n      expiryDate: !data.isMyExpire\n        ? null\n        : typeof data.expiryDate === \"string\"\n          ? data.expiryDate\n          : typeof data.expiryDate === \"object\"\n            ? data.expiryDate?.toISOString()\n            : null,\n      discountStartAt:\n        typeof data.discountStartAt === \"string\"\n          ? data.discountStartAt\n          : typeof data.discountStartAt === \"object\"\n            ? data.discountStartAt?.toISOString()\n            : undefined,\n      discountEndAt:\n        typeof data.discountEndAt === \"string\"\n          ? data.discountEndAt\n          : typeof data.discountEndAt === \"object\"\n            ? data.discountEndAt?.toISOString()\n            : undefined,\n      _id: editingProductId,\n    };\n\n    delete requestData.isMyExpire;\n\n    mutate(requestData);\n  };\n\n  useEffect(() => {\n    if (status === \"success\") {\n      resetForm();\n    }\n  }, [status]);\n\n  useEffect(() => {\n    if (getByIdStatus === \"success\") {\n      reset({\n        ...getByIdData.data,\n        categoryId: getByIdData.data.category?._id,\n        isActiveQuery: formStore.watch(\"isActiveQuery\"),\n      });\n      setValue(\"isMyExpire\", !!watch(\"expiryDate\"));\n\n      setProductImages(getByIdData.data?.images || []);\n\n      const foundMain = getByIdData.data?.images?.find(\n        (img) => img?._id === getByIdData.data.mainImage?._id\n      );\n      if (foundMain && !!getByIdData.data?.images?.length) {\n        setMainImageId(getByIdData.data.mainImage?._id);\n      } else setMainImageId(getByIdData.data?.images?.[0]?._id);\n    }\n  }, [getByIdStatus, getByIdData]);\n\n  useEffect(() => {\n    const foundMain = productImages.find((main) => main._id === mainImageId);\n    if (foundMain) {\n      setMainImageId(foundMain._id);\n    } else if (productImages.length) {\n      setMainImageId(productImages[0]._id);\n    }\n  }, [productImages]);\n\n  return (\n    <ProductFormStyled className=\"custom-drawer\">\n      <form id=\"product\" onSubmit={handleSubmit(sumbit)}>\n        <Grid container spacing={2}>\n          <Grid item md={12}>\n            <TextInput\n              name=\"name\"\n              control={control}\n              label={t(\"common.productName\")}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              name=\"price\"\n              control={control}\n              label={t(\"common.price\")}\n              type=\"number\"\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              name=\"inStock\"\n              control={control}\n              label={t(\"common.residue\")}\n              type=\"number\"\n            />\n          </Grid>\n          <Grid item md={12} display={\"flex\"} justifyContent={\"space-between\"}>\n            <Box>\n              <TextInput\n                name=\"redLine\"\n                control={control}\n                type=\"number\"\n                label={t(\"Qizil chiziq\")}\n                rules={{ required: false }}\n              />\n            </Box>\n            <Box>\n              <TextInput\n                name=\"yellowLine\"\n                control={control}\n                label={t(\"Sariq chiziq\")}\n                type=\"number\"\n                rules={{ required: false }}\n              />\n            </Box>\n          </Grid>\n          {/* <Grid item md={12}>\n            <AutoCompleteForm\n              control={control}\n              name=\"measureId\"\n              optionsUrl=\"measure\"\n              dataProp=\"data.data\"\n              label={t(\"common.measure\")}\n            />\n          </Grid> */}\n          <Grid item md={12}>\n            <AutoCompleteForm\n              control={control}\n              name=\"categoryId\"\n              optionsUrl=\"category/paging\"\n              dataProp=\"data.data\"\n              label={t(\"common.category\")}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <label className=\"custom-label\">{t(\"common.description\")}</label>\n            <TextEditor\n              value={watch(\"description\")}\n              onChange={(value) => {\n                setValue(\"description\", value);\n              }}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"isActive\">{t(\"common.isActive\")}</label>\n              <Switch\n                checked={!!watch(\"isActive\")}\n                id=\"isActive\"\n                {...register(\"isActive\")}\n              />\n            </Box>\n          </Grid>\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"isActive\">Muddatli mahsulot</label>\n              <Switch\n                checked={!!watch(\"isMyExpire\")}\n                id=\"isMyExpire\"\n                {...register(\"isMyExpire\")}\n              />\n            </Box>\n            {watch(\"isMyExpire\") && (\n              <Grid container>\n                <Grid item md={12}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"expiryDate\"\n                    rules={{ required: { value: true, message: \"Majburiy\" } }}\n                    disableTime={true}\n                    label={t(\"common.validatyPariod\")}\n                    readOnly\n                    minDate={new Date()}\n                  />\n                </Grid>\n              </Grid>\n            )}\n          </Grid>\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"discountEnabled\">{t(\"common.discount\")}</label>\n              <Switch\n                checked={!!watch(\"discountEnabled\")}\n                id=\"discountEnabled\"\n                {...register(\"discountEnabled\")}\n              />\n            </Box>\n            {watch(\"discountEnabled\") && (\n              <Grid container spacing={2} alignItems=\"end\">\n                <Grid item md={6}>\n                  <TextInput\n                    control={control}\n                    name=\"discountValue\"\n                    label={t(\"common.discountValue\")}\n                    type=\"number\"\n                    inputProps={\n                      watch(\"discountType\") === \"percent\"\n                        ? {\n                          max: 100,\n                        }\n                        : {\n                          max: Number(watch(\"price\")),\n                        }\n                    }\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <SelectForm\n                    control={control}\n                    name=\"discountType\"\n                    options={DISCOUNT_TYPES}\n                    label={t(\"common.type\")}\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"discountStartAt\"\n                    disableTime={true}\n                    rules={{ required: { value: true, message: \"Majburiy\" } }}\n                    label={t(\"common.discountStartAt\")}\n                    minDate={new Date()}\n                    readOnly\n                    maxDate={\n                      watch(\"discountEndAt\")\n                        ? new Date(watch(\"discountEndAt\"))\n                        : undefined\n                    }\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"discountEndAt\"\n                    rules={{ required: { value: true, message: \"Majburiy\" } }}\n                    disableTime={true}\n                    label={t(\"common.discountEndAt\")}\n                    readOnly\n                    minDate={discountEndMinDate}\n                  />\n                </Grid>\n              </Grid>\n            )}\n          </Grid>\n          <Grid item md={12}>\n            <div className=\"product-images\">\n              <ImageInput\n                control={control}\n                setValue={setValue}\n                name=\"image\"\n                rules={{ required: false }}\n                multiple\n                getImage={(img) => setProductImages((prev) => [...prev, img])}\n                accept=\".png, .jpg, .jpeg\"\n              />\n              {productImages?.map((image) => (\n                <div className=\"product-image\" key={image._id}>\n                  <img\n                    src={process.env.REACT_APP_BASE_URL + image.url}\n                    alt=\"product\"\n                  />\n                  <div className=\"on-hover\">\n                    <span\n                      className=\"delete\"\n                      onClick={() =>\n                        setProductImages((prev) =>\n                          prev.filter((prevImg) => prevImg._id !== image._id)\n                        )\n                      }\n                    >\n                      <DeleteIcon />\n                    </span>\n                    <span\n                      className={`main-image ${image._id === mainImageId && \"active\"\n                        }`}\n                      onClick={() => setMainImageId(image?._id)}\n                    ></span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    </ProductFormStyled>\n  );\n};\n\nexport default ProductForm;\n","import Product from \"./container/Product\";\n\nexport default Product;\n","import { AutoCompleteFilter, Checkbox, FormDrawer, Table } from \"components\";\nimport { useProductColumns } from \"./product.columns\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport { useAppDispatch } from \"store/storeHooks\";\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport ProductForm from \"../components/ProductForm\";\nimport { IIdImage } from \"hooks/usePostImage\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\n\nconst Client = () => {\n  const columns = useProductColumns();\n  const hasAccess = useRoleManager();\n  const dis = useAppDispatch();\n  const { t } = useTranslation();\n  const formStore = useForm();\n  const [editingProductId, setEditingProductId] = useState<any>();\n  const [productId, setProductId] = useState(\"\");\n  const [productImages, setProductImages] = useState<IIdImage[]>([]);\n  const [mainImageId, setMainImageId] = useState<any>();\n\n  const renderHeader = (\n    <Grid container width={400} spacing={2}>\n      <Grid item sm={6}>\n        <AutoCompleteFilter\n          optionsUrl=\"category/paging\"\n          filterName=\"categoryId\"\n          placeholder={t(\"common.category\")}\n        />\n      </Grid>\n      <Grid item sm={6}>\n        <Checkbox\n          control={formStore.control}\n          label={t(\"enum.active\")}\n          name=\"isActiveQuery\"\n        />\n      </Grid>\n    </Grid>\n  );\n\n  const resetForm = () => {\n    setEditingProductId(null);\n    setProductImages([]);\n    setMainImageId(null);\n    formStore.reset({\n      name: \"\",\n      price: \"\",\n      salePrice: \"\",\n      inStock: \"\",\n      discountValue: undefined,\n      discountType: undefined,\n      discountStartAt: undefined,\n      discountEndAt: undefined,\n      imageUrl: \"\",\n      isActive: false,\n      discountEnabled: false,\n      isActiveQuery: formStore.watch(\"isActiveQuery\"),\n      measureId: \"\",\n      categoryId: \"\",\n    });\n  };\n\n  return (\n    <>\n      <Table\n        columns={columns}\n        dataUrl=\"product/paging\"\n        searchable\n        headerChildren={renderHeader}\n        onAddButton={() => dis(setOpenDrawer(true))}\n        onEditColumn={\n          hasAccess(\"productUpdate\")\n            ? (row) => {\n                setEditingProductId(row._id);\n                dis(setOpenDrawer(true));\n              }\n            : undefined\n        }\n        onDeleteColumn={\n          hasAccess(\"productDelete\")\n            ? (row) => setProductId(row._id)\n            : undefined\n        }\n        exQueryParams={{\n          isActive: formStore.watch(\"isActiveQuery\") || undefined,\n        }}\n      />\n      <WarningModal open={productId} setOpen={setProductId} url=\"product/delete\" />\n      <FormDrawer\n        FORM_ID=\"product\"\n        isEditing={!!editingProductId}\n        customTitle={t(\"general.addProduct\")}\n        onClose={resetForm}\n      >\n        <ProductForm\n          formStore={formStore}\n          resetForm={resetForm}\n          editingProductId={editingProductId}\n          productProps={{\n            productImages,\n            setProductImages,\n            mainImageId,\n            setMainImageId,\n          }}\n        />\n      </FormDrawer>\n    </>\n  );\n};\n\nexport default Client;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\nimport { numberFormat } from \"utils/numberFormat\";\n\nexport const useProductColumns = (): GridColumns => {\n  const { t } = useTranslation();\n\n  return [\n    {\n      field: t(\"common.productName\"),\n      renderCell({ row }) {\n        return get(row, \"name\", \"\");\n      },\n    },\n    {\n      field: t(\"common.price\"),\n      renderCell({ row }) {\n        return numberFormat(get(row, \"price\", \"\"));\n      },\n    },\n    {\n      field: t(\"common.residue\"),\n      renderCell({ row }) {\n        return numberFormat(get(row, \"inStock\", \"\"));\n      },\n    },\n    // {\n    //   field: t(\"common.status\"),\n    //   renderCell({ row }) {\n    //     return get(row, \"status\", \"\");\n    //   },\n    // },\n  ];\n};\n","import { IRoleData } from \"store/reducers/LoginSlice\";\n\nexport const PAYMENT_TYPES = [\n  {\n    _id: \"cash\",\n    name: \"Naqd\",\n    trans_key: \"cash\",\n  },\n  {\n    _id: \"card\",\n    name: \"Karta\",\n    trans_key: \"card\",\n  },\n];\n\nexport const DISCOUNT_TYPES = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\ninterface ISettingsTabs {\n  name: string;\n  key: string;\n  role: keyof IRoleData;\n}\n\nexport const SETTINGS_TABS: ISettingsTabs[] = [\n  {\n    name: \"Funksionallik\",\n    key: \"functionality\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"Minimal buyurtma bahosi\",\n    key: \"clientSettings\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"Asosiy manzil radiusi\",\n    key: \"mainAddress\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"Veb-sayt shartlari\",\n    key: \"websiteConditions\",\n    role: \"role\", // o'zgartirish kere siteSettings\n  },\n  // {\n  //   name: \"Shaharlar\",\n  //   key: \"cities\",\n  //   role: \"city\",\n  // },\n];\n\nexport const MINIMUM_ORDER_OPTIONS = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\n\nexport const RATINGS = [\n  {\n    rate: 5,\n  },\n  {\n    rate: 4,\n  },\n  {\n    rate: 3,\n  },\n  {\n    rate: 2,\n  },\n  {\n    rate: 1,\n  },\n];","export const numberFormat = (number: any) => {\n  // if (number?.toString()?.includes(\".\")) {\n  //   return number?.toString();\n  // }\n  if (number || number == 0) {\n    return number.toLocaleString().replaceAll(\",\", \" \");\n  }\n  return \"\";\n};\n"],"names":["TextEditorStyled","styled","RichTextEditor","props","value","onChange","onImageUpload","isError","type","controls","ProductFormStyled","formStore","resetForm","editingProductId","productProps","productImages","setProductImages","mainImageId","setMainImageId","t","useTranslation","control","handleSubmit","reset","setValue","register","watch","discountEndMinDate","Date","setDate","getDate","useApiMutation","mutate","status","useApi","enabled","suspense","getByIdData","data","getByIdStatus","useEffect","categoryId","category","_id","isActiveQuery","images","find","img","mainImage","length","foundMain","main","className","id","onSubmit","requestData","imageIds","map","image","expiryDate","isMyExpire","toISOString","discountStartAt","undefined","discountEndAt","Grid","container","spacing","item","md","name","label","display","justifyContent","Box","rules","required","optionsUrl","dataProp","TextEditor","alignItems","htmlFor","Switch","checked","message","disableTime","readOnly","minDate","inputProps","max","Number","options","DISCOUNT_TYPES","maxDate","multiple","getImage","prev","accept","src","process","url","alt","onClick","filter","prevImg","columns","field","renderCell","row","get","numberFormat","useProductColumns","hasAccess","useRoleManager","dis","useAppDispatch","useForm","useState","setEditingProductId","productId","setProductId","renderHeader","width","sm","filterName","placeholder","price","salePrice","inStock","discountValue","discountType","imageUrl","isActive","discountEnabled","measureId","dataUrl","searchable","headerChildren","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","FORM_ID","isEditing","customTitle","onClose","PAYMENT_TYPES","trans_key","SETTINGS_TABS","key","role","RATINGS","rate","number","toLocaleString","replaceAll"],"sourceRoot":""}