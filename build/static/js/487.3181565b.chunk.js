"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[487],{62487:function(n,e,i){i.r(e),i.d(e,{default:function(){return _}});var l,d,t,s=i(1413),a=i(29439),o=i(61889),r=i(98921),c=i(59460),u=i(35980),f=i(67783),x=i(62750),p=i(87910),h=i(72791),g=i(61134),m=i(39230),j=i(75985),v=i(30168),b=i(17939),y=b.default.div(l||(l=(0,v.Z)(["\n  display: flex;\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 12px;\n  height: 100%;\n  .card {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 180px;\n    height: 100px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n"]))),k=b.default.div(d||(d=(0,v.Z)(["\n  padding: 20px;\n  width: 880px;\n  height: 440px;\n  border-radius: 12px;\n  background-color: #ffffff;\n  position: relative !important;\n  box-sizing: border-box;\n\n  .integration-logo {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    img {\n      width: 200px;\n      max-height: 180px;\n      object-fit: contain;\n    }\n  }\n\n  .integration_loader {\n    position: relative;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n  }\n"]))),Z=b.default.div(t||(t=(0,v.Z)(["\n  max-height: 100%;\n\n  h2 {\n    font-size: 22px;\n    text-align: center;\n    padding: 15px 0;\n  }\n  p {\n    font-size: 14px;\n  }\n\n  .fields_val {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    padding-top: 10px;\n\n    li {\n      list-style-type: none;\n      padding: 0 10px;\n      font-size: 14px;\n      border-left: 2px solid darkgoldenrod;\n      display: flex;\n\n      span {\n        color: darkgrey;\n        cursor: pointer;\n        display: flex;\n        gap: 10px;\n        word-break: break-all;\n\n        i {\n          width: 88%;\n        }\n\n        svg {\n          path {\n            fill: #eb469f;\n          }\n        }\n      }\n    }\n  }\n"]))),N=i(763),C=i(80184),V=function(){var n,e=(0,h.useState)(""),i=(0,a.Z)(e,2),l=i[0],d=i[1],t=(0,h.useState)(),v=(0,a.Z)(t,2),b=v[0],V=v[1],_=(0,h.useState)(!1),w=(0,a.Z)(_,2),S=w[0],z=w[1],I=(0,g.cI)(),T=I.control,O=I.handleSubmit,F=I.setValue,P=(0,g.Dq)({control:T,name:"fields"}).fields,q=(0,m.$G)().t,A=(0,x.uC)("integration","post",{}),D=A.data,G=A.reset,L=A.isLoading,X=(0,p.Z)(),$=(0,a.Z)(X,2),B=($[0],$[1]),E=(0,x.uC)("integration/".concat(l),"put",{onSuccess:function(){G(),Q(),j.Am.success(q("general.success"))}}).mutate,H=O((function(n){var e=(0,s.Z)((0,s.Z)({},b),{},{fields:n.fields});E(e)})),J=(0,x.h_)("integration/".concat(l),{},{enabled:!!l,onSuccess:function(n){V(null===n||void 0===n?void 0:n.data)}}),K=J.data,M=J.isFetching,Q=J.refetch,R=function(n){E({isInstalled:n})};return(0,C.jsxs)(y,{children:[null===D||void 0===D||null===(n=D.data)||void 0===n?void 0:n.map((function(n){return(0,C.jsx)("div",{className:"card",onClick:function(){F("fields",n.fields),d(n._id)},children:(0,C.jsx)("h3",{className:"name",children:n.name})})})),(0,C.jsx)(u.u_,{open:!!l,onClose:function(){d(""),z(!1)},children:(0,C.jsx)(k,{children:M?(0,C.jsx)("div",{className:"integration_loader",children:(0,C.jsx)(u.Xd,{})}):(0,C.jsxs)(o.ZP,{container:!0,children:[(0,C.jsx)(o.ZP,{item:!0,md:6,children:(0,C.jsxs)("div",{className:"integration-logo",children:[(0,C.jsx)("img",{src:"https://backend.uygaayt.kahero.uz/employee-api/v1/"+(null===b||void 0===b?void 0:b.logo),alt:"integration.logo"}),(0,C.jsx)("h3",{className:"py-2",children:null===b||void 0===b?void 0:b.name}),(0,C.jsx)("div",{children:null!==b&&void 0!==b&&b.isInstalled?(0,C.jsxs)("div",{className:"d-flex gap-3",children:[(0,C.jsx)(f.Z,{title:"O'rnatilgan",disabled:!0}),(0,C.jsx)(f.Z,{title:"O'chirish",disabled:L,onClick:function(){return R(!1)}})]}):(0,C.jsx)(f.Z,{title:"O'rnatish",className:"designed",disabled:L,onClick:function(){return R(!0)}})})]})}),(0,C.jsx)(o.ZP,{item:!0,md:6,children:(0,C.jsxs)(r.Z,{sx:{height:"400px",boxSizing:"border-box",overflow:"auto"},children:[(null===b||void 0===b?void 0:b.isInstalled)&&!S&&(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)(f.Z,{title:"Tahrirlash",onClick:function(){return z(!0)}})}),S?(0,C.jsxs)(C.Fragment,{children:[P.map((function(n,e){var i;return"input"===n.fieldType?(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsx)(u.oi,{control:T,name:"fields.".concat(e,".fieldValue"),label:n.fieldName})},n.id):"select"===n.fieldType?(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsx)(u.p7,{control:T,name:"fields.".concat(e,".fieldValue"),options:null===(i=n.options)||void 0===i?void 0:i.map((function(n){return{_id:n.value,name:n.text}})),label:n.fieldName})},n.id):""})),(0,C.jsxs)("div",{className:"d-flex justify-content-end gap-2 py-2",children:[(0,C.jsx)(f.Z,{title:"Orqaga",onClick:function(){return z(!1)}}),(0,C.jsx)(f.Z,{title:q("general.save"),className:"designed",onClick:H})]})]}):(0,C.jsxs)(Z,{children:[(0,C.jsx)("h2",{children:"Tarif"}),(0,C.jsx)("p",{children:null===b||void 0===b?void 0:b.description}),(0,C.jsxs)("ul",{className:"fields_val",children:[P.map((function(n){return(0,C.jsxs)("li",{children:[n.fieldName,":"," ",n.fieldValue&&(0,C.jsxs)("span",{children:[(0,C.jsxs)("i",{children:["\xa0 ",n.fieldValue]}),(0,C.jsx)(c.TI,{onClick:function(){return B(n.fieldValue)}})]})]},n.fieldValue)})),(0,N.get)(K,"data.infoFields",[]).map((function(n){return(0,C.jsxs)("li",{children:[n.fieldName,":"," ",n.fieldValue&&(0,C.jsxs)("span",{children:[(0,C.jsxs)("i",{children:["\xa0 ",n.fieldValue]}),(0,C.jsx)(c.TI,{onClick:function(){return B(n.fieldValue)}})]})]},n.fieldValue)}))]})]})]})})]})})})]})},_=function(){return(0,C.jsx)(V,{})}}}]);
//# sourceMappingURL=487.3181565b.chunk.js.map