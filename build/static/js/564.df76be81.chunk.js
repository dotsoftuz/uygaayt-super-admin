"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[564],{91564:function(e,t,r){r.r(t),r.d(t,{default:function(){return Ce}});var n=r(57689),o=r(71796),i=r(97892),a=r.n(i),l=r(763),s=r(39230),c=r(90816),d=r(61889),u=r(80184),v=function(){var e=(0,n.s0)(),t=function(){var e=(0,s.$G)().t;return[{field:e("common.firstName"),renderCell:function(e){var t=e.row;return(0,l.get)(t,"firstName","")}},{field:e("common.lastName"),renderCell:function(e){var t=e.row;return(0,l.get)(t,"lastName","")}},{field:e("common.phoneNumber"),renderCell:function(e){var t=e.row;return(0,l.get)(t,"phoneNumber","")}},{field:e("common.orderAmount"),renderCell:function(e){var t=e.row;return(0,l.get)(t,"totalOrders","")}},{field:e("common.orderPrice"),renderCell:function(e){var t=e.row;return(0,c.Y)((0,l.get)(t,"totalOrdersPrice",""))}},{field:e("common.date"),renderCell:function(e){var t=e.row;return a()((0,l.get)(t,"createdAt","")).format("YYYY-MM-DD HH:mm")}}]}(),r=(0,u.jsxs)(d.ZP,{className:"lg:w-[80%] w-full flex justify-end gap-2 items-center pb-2",children:[(0,u.jsx)(d.ZP,{children:(0,u.jsx)(o.$m,{})}),(0,u.jsx)(d.ZP,{item:!0,children:(0,u.jsx)(o.j3,{url:"/customer/export"})})]});return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.iA,{columns:t,dataUrl:"customer/paging",searchable:!0,headerChildren:r,exQueryParams:{stateId:void 0},onRowClick:function(t){return e("/customer/".concat(t._id))}})})},x=r(29439),m=r(72791),f=r(35527),h=r(697),p=r(93044),y=r(20890),b=r(39504),j=r(94939),g=r(29749),Z=function(e){var t,r,n,o,i,a,d,v=e.customerInfoData,x=(0,g.Z)().state.data,m=(0,s.$G)().t;return(0,u.jsxs)(f.Z,{elevation:3,sx:{borderRadius:4,overflow:"hidden"},children:[(0,u.jsxs)(h.Z,{sx:{background:"linear-gradient(135deg, #EB7B00 0%, #EB5B00 100%)",pt:6,pb:8,px:4,textAlign:"center",color:"white",position:"relative"},children:[(0,u.jsx)(p.Z,{src:"http://localhost:3003/v1/"+(null===v||void 0===v||null===(t=v.data)||void 0===t||null===(r=t.image)||void 0===r?void 0:r.url),sx:{width:120,height:120,mx:"auto",border:"4px solid white",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}),(0,u.jsx)(y.Z,{variant:"h4",sx:{mt:2,fontWeight:"bold"},children:null===v||void 0===v||null===(n=v.data)||void 0===n?void 0:n.firstName}),(0,u.jsxs)(y.Z,{variant:"h6",sx:{mt:2},children:[(0,u.jsx)("span",{className:"font-bold",children:m("general.balance")}),": ",(0,c.Y)(null===v||void 0===v||null===(o=v.data)||void 0===o?void 0:o.balance)||0," ",(0,l.get)(x,"currency","uzs")]})]}),(0,u.jsx)(b.Z,{sx:{backgroundColor:"white",borderRadius:"20px 20px 0 0",px:4,py:3},children:(0,u.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,u.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",gap:2,p:2,backgroundColor:"#F7FAFC",borderRadius:2,transition:"transform 0.2s ease","&:hover":{transform:"translateX(8px)"}},children:[(0,u.jsx)(j.Z,{style:{fontSize:20,color:"#6B46C1"}}),(0,u.jsx)(y.Z,{variant:"body1",color:"text.primary",children:null===v||void 0===v||null===(i=v.data)||void 0===i?void 0:i.phoneNumber})]}),(0,u.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",gap:2,p:2,backgroundColor:"#F7FAFC",borderRadius:2,transition:"transform 0.2s ease","&:hover":{transform:"translateX(8px)"}},children:(0,u.jsx)(y.Z,{variant:"body1",className:"".concat(null!==v&&void 0!==v&&null!==(a=v.data)&&void 0!==a&&a.isPremium?"text-green-500":"text-red-500"),children:null!==v&&void 0!==v&&null!==(d=v.data)&&void 0!==d&&d.isPremium?"Ushbu mijoz Premium obunasini sotib olgan.":"Ushbu mijoz hali Premium obunasini sotib olmagan."})})]})})]})},_=r(32188),C=r(35834),T=r(4942),E=r(1413),R=r(45987),F=r(13603),w=r(43896),D=r(94294),A=r(89736),O=r(10401),S=r(71025),I=r(88161),k=r(16818),B=r.n(k),P=r(11087),Y=function(e){if(!e||e<=0)return"0 daqiqa";var t=Math.round(e),r=Math.floor(t/60),n=t%60;return r>0?"".concat(r," soat ").concat(n," daqiqa"):"".concat(n," daqiqa")},z=r(31727),M=r(81918),V=function(){var e=(0,s.$G)().t,t=function(e){return e.includes("VIEW")?"primary":e.includes("ADD")||e.includes("CREATED")?"success":e.includes("REMOVE")?"error":"SEARCH"===e?"info":"default"},r=function(e){var t,r,n,o;if(null!==(t=e.product)&&void 0!==t&&t.name){var i=e.product.name;return"string"===typeof i?i:i.uz||i.ru||""}if(null!==(r=e.store)&&void 0!==r&&r.name)return e.store.name;if(null!==(n=e.category)&&void 0!==n&&n.name){var a=e.category.name;return"string"===typeof a?a:a.uz||a.ru||""}return null!==(o=e.search)&&void 0!==o&&o.query?e.search.query:"-"};return[{field:e("activity.event_type"),renderCell:function(r){var n,o=r.row;return(0,u.jsx)(M.Z,{label:(n=o.eventType,{PRODUCT_VIEW:e("activity.product_view"),PRODUCT_ADD_TO_BASKET:e("activity.product_add_to_basket"),PRODUCT_REMOVE_FROM_BASKET:e("activity.product_remove_from_basket"),STORE_VIEW:e("activity.store_view"),CATEGORY_VIEW:e("activity.category_view"),SEARCH:e("activity.search"),FAVORITE_ADD:e("activity.favorite_add"),FAVORITE_REMOVE:e("activity.favorite_remove"),ORDER_CREATED:e("activity.order_created"),PRODUCT_LIST_VIEW:e("activity.product_view"),STORE_LIST_VIEW:e("activity.store_view")}[n]||n),color:t(o.eventType),size:"small"})},flex:1},{field:e("activity.entity_name"),renderCell:function(e){var t=e.row;return r(t)},flex:1.5},{field:e("activity.description"),renderCell:function(t){return function(t){return t.product?"".concat(e("activity.product"),": ").concat(r(t)):t.store?"".concat(e("activity.store"),": ").concat(r(t)):t.category?"".concat(e("activity.category"),": ").concat(r(t)):t.search?"".concat(e("activity.search_query"),": ").concat(r(t)):"-"}(t.row)},flex:2},{field:e("activity.date_time"),renderCell:function(e){var t=e.row;return t.createdAt&&a()(t.createdAt).format("DD.MM.YYYY HH:mm:ss")},flex:1}]},W=r(10284),U=r(3710),N=r(85947),G=r(89357),H=r(14361),$=function(e){var t,r,n,o,i,a,l,c,v=e.customerId,x=(0,s.$G)().t,m=(0,C.Z)(),p=(0,_.h_)("customer-analytics/statistics/".concat(v),{dateFrom:m.dateFrom,dateTo:m.dateTo},{enabled:!!v,suspense:!1}).data,b=(null===p||void 0===p?void 0:p.data)||{},j=[{title:x("activity.total_events"),value:b.totalEvents||0,icon:(0,u.jsx)(W.Z,{sx:{fontSize:20,color:"#6B46C1"}}),color:"#6B46C1"},{title:x("activity.today_events"),value:b.todayEvents||0,icon:(0,u.jsx)(U.Z,{sx:{fontSize:20,color:"#10B981"}}),color:"#10B981"},{title:x("activity.product_views"),value:(null===(t=b.eventTypeDistribution)||void 0===t||null===(r=t.find((function(e){return"PRODUCT_VIEW"===e.eventType})))||void 0===r?void 0:r.count)||0,icon:(0,u.jsx)(U.Z,{sx:{fontSize:20,color:"#3B82F6"}}),color:"#3B82F6"},{title:x("activity.basket_adds"),value:(null===(n=b.eventTypeDistribution)||void 0===n||null===(o=n.find((function(e){return"PRODUCT_ADD_TO_BASKET"===e.eventType})))||void 0===o?void 0:o.count)||0,icon:(0,u.jsx)(N.Z,{sx:{fontSize:20,color:"#F59E0B"}}),color:"#F59E0B"},{title:x("activity.basket_removes"),value:(null===(i=b.eventTypeDistribution)||void 0===i||null===(a=i.find((function(e){return"PRODUCT_REMOVE_FROM_BASKET"===e.eventType})))||void 0===a?void 0:a.count)||0,icon:(0,u.jsx)(G.Z,{sx:{fontSize:20,color:"#EF4444"}}),color:"#EF4444"},{title:x("activity.favorites"),value:(null===(l=b.eventTypeDistribution)||void 0===l||null===(c=l.find((function(e){return"FAVORITE_ADD"===e.eventType})))||void 0===c?void 0:c.count)||0,icon:(0,u.jsx)(H.Z,{sx:{fontSize:20,color:"#8B5CF6"}}),color:"#8B5CF6"}];return(0,u.jsx)(d.ZP,{container:!0,spacing:2,sx:{mb:3},children:j.map((function(e,t){return(0,u.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,u.jsxs)(f.Z,{elevation:2,sx:{p:3,borderRadius:2,backgroundColor:"#F7FAFC",transition:"transform 0.2s ease, box-shadow 0.2s ease",position:"relative","&:hover":{transform:"translateY(-4px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},children:[(0,u.jsxs)(h.Z,{children:[(0,u.jsx)(y.Z,{variant:"subtitle2",color:"text.secondary",mb:1,children:e.title}),(0,u.jsx)(y.Z,{variant:"h4",fontWeight:"bold",sx:{color:e.color},children:e.value})]}),(0,u.jsx)(h.Z,{sx:{position:"absolute",top:10,right:10,backgroundColor:"".concat(e.color,"15"),borderRadius:"50%",p:1,display:"flex",alignItems:"center",justifyContent:"center"},children:e.icon})]})},t)}))})},q=r(68096),K=r(58406),L=r(23786),Q="PRODUCT_VIEW",X="PRODUCT_ADD_TO_BASKET",J="PRODUCT_REMOVE_FROM_BASKET",ee="STORE_VIEW",te="CATEGORY_VIEW",re="FAVORITE_ADD",ne="FAVORITE_REMOVE",oe="ORDER_CREATED",ie="PRODUCT",ae="STORE",le="CATEGORY",se=function(e){var t=e.onFilterChange,r=(0,s.$G)().t,n=(0,P.lr)(),o=(0,x.Z)(n,2),i=(o[0],o[1]),a=(0,C.Z)(),l=[{value:"",label:r("activity.all_events")},{value:Q,label:r("activity.product_view")},{value:X,label:r("activity.product_add_to_basket")},{value:J,label:r("activity.product_remove_from_basket")},{value:ee,label:r("activity.store_view")},{value:te,label:r("activity.category_view")},{value:re,label:r("activity.favorite_add")},{value:ne,label:r("activity.favorite_remove")},{value:oe,label:r("activity.order_created")}],c=[{value:"",label:r("activity.all_entities")},{value:ie,label:r("activity.product")},{value:ae,label:r("activity.store")},{value:le,label:r("activity.category")}];return(0,u.jsxs)(h.Z,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[(0,u.jsx)(q.Z,{sx:{minWidth:200},children:(0,u.jsx)(K.Z,{value:a.eventType||"",onChange:function(e){var r=e.target.value;i((0,E.Z)((0,E.Z)({},a),{},{eventType:r||""})),null===t||void 0===t||t({eventType:r||void 0})},displayEmpty:!0,sx:{backgroundColor:"white",borderRadius:1},children:l.map((function(e){return(0,u.jsx)(L.Z,{value:e.value,children:e.label},e.value)}))})}),(0,u.jsx)(q.Z,{sx:{minWidth:200},children:(0,u.jsx)(K.Z,{value:a.entityType||"",onChange:function(e){var r=e.target.value;i((0,E.Z)((0,E.Z)({},a),{},{entityType:r||""})),null===t||void 0===t||t({entityType:r||void 0})},displayEmpty:!0,sx:{backgroundColor:"white",borderRadius:1},children:c.map((function(e){return(0,u.jsx)(L.Z,{value:e.value,children:e.label},e.value)}))})})]})},ce=r(19913),de=r(75754),ue=r(82839),ve=r(90466),xe=r(12891),me=r(71827),fe=r(27281),he=r(62066),pe=function(e){var t,r=e.customerId,n=(0,s.$G)().t,o=(0,C.Z)(),i=(0,_.h_)("customer-analytics/statistics/".concat(r),{dateFrom:o.dateFrom,dateTo:o.dateTo},{enabled:!!r,suspense:!1}).data,a=(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.last7Days)||[];return a&&0!==a.length?(0,u.jsxs)(f.Z,{sx:{p:3,mb:3},children:[(0,u.jsx)(y.Z,{variant:"h6",mb:2,children:n("activity.activity_chart")}),(0,u.jsx)(ce.h,{width:"100%",height:300,children:(0,u.jsxs)(de.w,{data:a,children:[(0,u.jsx)(ue.q,{strokeDasharray:"3 3"}),(0,u.jsx)(ve.K,{dataKey:"date"}),(0,u.jsx)(xe.B,{}),(0,u.jsx)(me.u,{}),(0,u.jsx)(fe.D,{}),(0,u.jsx)(he.x,{type:"monotone",dataKey:"count",stroke:"#6B46C1",strokeWidth:2,name:n("activity.events_count")||""})]})})]}):(0,u.jsxs)(f.Z,{sx:{p:3,mb:3},children:[(0,u.jsx)(y.Z,{variant:"h6",mb:2,children:n("activity.activity_chart")}),(0,u.jsx)(h.Z,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:n("activity.no_data")})]})},ye=function(e){var t=e.customerId,r=V(),n=(0,C.Z)();if(!t)return(0,u.jsx)(h.Z,{sx:{width:"100%",p:2},children:"Customer ID not provided"});var i={customerId:t};return n.eventType&&(i.eventType=n.eventType),n.entityType&&(i.entityType=n.entityType),(0,u.jsxs)(h.Z,{sx:{width:"100%"},children:[(0,u.jsx)($,{customerId:t}),(0,u.jsx)(pe,{customerId:t}),(0,u.jsx)(se,{}),(0,u.jsx)(o.iA,{columns:r,dataUrl:"customer-analytics/paging",exQueryParams:i})]})},be=["children","value","index"];function je(e){var t=e.children,r=e.value,n=e.index,o=(0,R.Z)(e,be);return(0,u.jsx)("div",(0,E.Z)((0,E.Z)({role:"tabpanel",hidden:r!==n,id:"customer-tabpanel-".concat(n),"aria-labelledby":"customer-tab-".concat(n)},o),{},{children:r===n&&(0,u.jsx)(h.Z,{sx:{p:3},children:t})}))}a().extend(B());var ge=function(e){var t=e._id,r=e.id,o=e.amount,i=e.status,a=e.currency,l=e.date,d=e.status_color,v=(0,n.s0)(),x=(0,s.$G)().t;return(0,u.jsxs)(h.Z,{sx:{mb:2,p:3,backgroundColor:"#F7FAFC",borderRadius:2,cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},onClick:function(){return v("/order/".concat(t))},children:[(0,u.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,u.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,u.jsx)(S.Z,{style:{fontSize:20,color:"#6B46C1"}}),(0,u.jsxs)(y.Z,{variant:"subtitle1",fontWeight:"bold",children:[x("general.order")," #",r]})]}),(0,u.jsx)("span",{style:{backgroundColor:d,color:"white",padding:"8px",borderRadius:"10px",fontSize:"13px"},children:i})]}),(0,u.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)(y.Z,{variant:"body2",color:"text.secondary",children:l}),(0,u.jsxs)(y.Z,{variant:"subtitle1",fontWeight:"bold",color:"#6B46C1",children:[(0,c.Y)(o)," ",a]})]})]})},Ze=function(e){var t,r,n,i,d,v=e.historyOrders,p=e.customerReportData,b=e.customerId,j=m.useState(0),Z=(0,x.Z)(j,2),_=Z[0],R=Z[1],S=(0,s.$G)().t,k=(0,P.lr)(),B=(0,x.Z)(k,2),M=B[0],V=B[1],W=((0,C.Z)(),function(){var e=(0,s.$G)().t;return[{field:e("enum.amount"),renderCell:function(e){var t=e.row;return(0,u.jsx)("span",{style:{color:"income"===t.type?"#17C657":"#EB5757"},children:"income"===t.type?"+".concat((0,c.Y)(t.amount)):"-".concat((0,c.Y)(t.amount))})},flex:.5},{field:e("common.type"),renderCell:function(t){var r=t.row.customType;return e("type.".concat(r))}},{field:e("common.date"),renderCell:function(e){var t=e.row;return t.createdAt&&a()(t.createdAt).format("DD.MM.YYYY HH:mm")},flex:.6},{field:e("type.order"),renderCell:function(e){var t,r=e.row;return"#"+(null===r||void 0===r||null===(t=r.order)||void 0===t?void 0:t.number)},flex:.4}]}()),U=(0,g.Z)().state.data;return(0,u.jsxs)(f.Z,{elevation:3,sx:{width:"75%",borderRadius:4,overflow:"hidden"},children:[(0,u.jsx)(h.Z,{sx:{borderBottom:1,borderColor:"divider",backgroundColor:"#F7FAFC"},children:(0,u.jsxs)(F.Z,{value:_,onChange:function(e,t){R(t)},variant:"scrollable",scrollButtons:"auto",sx:function(e){return{overflow:"auto","& .MuiTab-root":(0,T.Z)({minHeight:64,fontSize:"1rem"},e.breakpoints.down("sm"),{fontSize:"0.8rem",minHeight:48,padding:"6px 8px"}),"& .Mui-selected":{color:"#6B46C1 !important"},"& .MuiTabs-indicator":{backgroundColor:"#6B46C1"}}},children:[(0,u.jsx)(w.Z,{icon:(0,u.jsx)(A.Z,{style:{fontSize:20,marginRight:4}}),iconPosition:"start",label:S("tabs.order_history")}),(0,u.jsx)(w.Z,{icon:(0,u.jsx)(z.Z,{style:{fontSize:20,marginRight:4}}),iconPosition:"start",label:S("tabs.customer_statistics")}),(0,u.jsx)(w.Z,{icon:(0,u.jsx)(z.Z,{style:{fontSize:20,marginRight:4}}),iconPosition:"start",label:S("tabs.transaction_history")}),(0,u.jsx)(w.Z,{icon:(0,u.jsx)(I.Z,{style:{fontSize:20,marginRight:4}}),iconPosition:"start",label:S("tabs.customer_activity")})]})}),(0,u.jsx)(h.Z,{sx:{p:2,backgroundColor:"white"},children:(0,u.jsx)(o.$m,{})}),(0,u.jsx)(je,{value:_,index:0,children:(0,u.jsx)(h.Z,{sx:{maxHeight:"500px",overflowY:"auto"},children:null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.map((function(e){var t,r;return(0,u.jsx)(ge,{id:null===e||void 0===e?void 0:e.number,_id:null===e||void 0===e?void 0:e._id,amount:null===e||void 0===e?void 0:e.totalPrice,status:null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.name,status_color:null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.color,currency:(0,l.get)(U,"currency","uzs"),date:null!==e&&void 0!==e&&e.createdAt?a()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"):"N/A"},null===e||void 0===e?void 0:e.number)}))})}),(0,u.jsx)(je,{value:_,index:1,children:(0,u.jsxs)(h.Z,{sx:{p:1},children:[(0,u.jsx)(h.Z,{sx:{mb:1},children:(0,u.jsx)(D.Z,{variant:"contained",color:"primary",onClick:function(){var e=a()().startOf("year"),t=a()();V((0,E.Z)((0,E.Z)({},Object.fromEntries(M.entries())),{},{dateFrom:e.toISOString(),dateTo:t.toISOString()}))},children:S("customer_info.years")})}),(0,u.jsxs)(h.Z,{sx:{mb:4},children:[(0,u.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,u.jsx)(O.Z,{style:{fontSize:24,color:"#6B46C1"}}),(0,u.jsx)(y.Z,{variant:"h6",children:S("customer_info.total_purchases")})]}),(0,u.jsx)(y.Z,{variant:"h4",color:"#6B46C1",fontWeight:"bold",mb:1,children:null===p||void 0===p||null===(r=p.data)||void 0===r?void 0:r.total_amount})]}),(0,u.jsxs)(h.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:3},children:[(0,u.jsxs)(f.Z,{sx:{p:3,backgroundColor:"#F7FAFC"},children:[(0,u.jsx)(y.Z,{variant:"subtitle2",color:"text.secondary",mb:1,children:S("customer_info.total_amount")}),(0,u.jsx)(y.Z,{variant:"h6",children:(0,c.Y)(null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.total_price)+" "+(0,l.get)(U,"currency","uzs")})]}),(0,u.jsxs)(f.Z,{sx:{p:3,backgroundColor:"#F7FAFC"},children:[(0,u.jsx)(y.Z,{variant:"subtitle2",color:"text.secondary",mb:1,children:S("customer_info.savings_money")}),(0,u.jsx)(y.Z,{variant:"h6",children:(0,c.Y)(null===p||void 0===p||null===(i=p.data)||void 0===i?void 0:i.saved_amount)+" "+(0,l.get)(U,"currency","uzs")})]}),(0,u.jsxs)(f.Z,{sx:{p:3,backgroundColor:"#F7FAFC"},children:[(0,u.jsx)(y.Z,{variant:"subtitle2",color:"text.secondary",mb:1,children:S("customer_info.savings_time")}),(0,u.jsx)(y.Z,{variant:"h6",children:Y(null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.saved_time)})]})]})]})}),(0,u.jsx)(je,{value:_,index:2,children:(0,u.jsx)(o.iA,{columns:W,dataUrl:"balance/paging",exQueryParams:{customerId:b}})}),(0,u.jsx)(je,{value:_,index:3,children:b&&(0,u.jsx)(ye,{customerId:b})})]})},_e=function(){var e=(0,m.useState)("orders"),t=(0,x.Z)(e,2),r=(t[0],t[1],(0,s.$G)().t,(0,n.UO)().id),o=(0,C.Z)(),i=(0,_.h_)("customer/get-by-id/".concat(r),{},{enabled:!!r,suspense:!1}),a=i.data,l=(i.status,(0,_.uC)("order/paging","post",{onSuccess:function(e){}})),c=l.mutate,v=l.data,f=(0,_.uC)("order/customer/report","post",{onSuccess:function(e){}}),h=f.mutate,p=f.data;return(0,m.useEffect)((function(){c({customerId:r,dateFrom:o.dateFrom,dateTo:o.dateTo})}),[o.dateFrom,o.dateTo]),(0,m.useEffect)((function(){h({customerId:r,dateFrom:o.dateFrom,dateTo:o.dateTo})}),[o.dateFrom,o.dateTo]),(0,u.jsx)(u.Fragment,{children:r&&(0,u.jsxs)(d.ZP,{className:"grid lg:flex gap-4 p-2",children:[(0,u.jsx)(Z,{customerInfoData:a}),(0,u.jsx)(Ze,{historyOrders:null===v||void 0===v?void 0:v.data,customerReportData:p,customerId:r||""})]})})},Ce=function(){return(0,u.jsxs)(n.Z5,{children:[(0,u.jsx)(n.AW,{path:":id",element:(0,u.jsx)(_e,{})}),(0,u.jsx)(n.AW,{path:"*",element:(0,u.jsx)(v,{})})]})}},90816:function(e,t,r){r.d(t,{Y:function(){return n}});var n=function(e){return e||0===e?(Math.round(100*(e+Number.EPSILON))/100).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).replaceAll(","," "):""}}}]);
//# sourceMappingURL=564.df76be81.chunk.js.map