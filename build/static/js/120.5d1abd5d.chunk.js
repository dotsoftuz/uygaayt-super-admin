"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[120],{77120:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var s=n(5468),a=n(65043),r=n(49752),l=n(74117),d=n(70579);var m=n(72473),o=n(13094),i=n(24858),c=n(83501),u=n(477),h=n(89379),p=n(68903),j=n(61698);const x=e=>{let{formStore:t,editingPaymentMethodId:n,resetForm:r}=e;const{t:m}=(0,l.Bd)(),{control:o,handleSubmit:i,reset:c,watch:u,setValue:x}=t,{mutate:y,status:b}=(0,j.L2)(n?"/payment-method/update":"/payment-method/create",n?"put":"post"),{data:f,status:g}=(0,j.gf)("payment-method/get-by-id/".concat(n),{},{enabled:!!n,suspense:!1});(0,a.useEffect)(()=>{"success"===b&&r()},[b]);return(0,a.useEffect)(()=>{"success"===g&&c({name:f.data.name,link:f.data.link})},[g,f]),(0,a.useEffect)(()=>{n||c({name:"",link:""})},[n,c]),(0,d.jsx)("div",{className:"custom-drawer",children:(0,d.jsx)("form",{id:"payment-method",onSubmit:i(e=>{y((0,h.A)((0,h.A)({_id:n},e),{},{link:e.link.url}))}),children:(0,d.jsxs)(p.Ay,{container:!0,spacing:2,children:[(0,d.jsx)(p.Ay,{item:!0,md:12,children:(0,d.jsx)(s.ks,{control:o,name:"name",label:m("common.title")})}),(0,d.jsxs)(p.Ay,{item:!0,md:12,children:[(0,d.jsx)("label",{className:"py-2",htmlFor:"",children:"QR code"}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(s.ME,{rules:{required:!1},control:o,setValue:x,name:"link"}),(0,d.jsx)("br",{}),(0,d.jsx)("label",{className:"py-2",htmlFor:"",children:m("general.recommendation_img")})]})]})})})},y=()=>{const[e,t]=(0,a.useState)(),[n,h]=(0,a.useState)(),p=(()=>{const{t:e}=(0,l.Bd)();return[{field:e("common.name"),renderCell(e){let{row:t}=e;const n=null===t||void 0===t?void 0:t.name,s=(null===n||void 0===n?void 0:n.length)>50?"".concat(n.substring(0,50),"..."):n;return(0,d.jsx)(r.A,{title:n,arrow:!0,children:(0,d.jsx)("span",{children:s})})}}]})(),{t:j}=((0,c.L)(),(0,l.Bd)()),y=(0,m.j)(),b=(0,i.mN)(),f=()=>{t(void 0),b.reset({name:""})},g=(0,a.useMemo)(()=>({}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.XI,{dataUrl:"payment-method/paging",columns:p,searchable:!0,onAddButton:()=>{y((0,o.GF)(!0))},onEditColumn:e=>{t(e._id),y((0,o.GF)(!0))},onDeleteColumn:e=>h(e._id),exQueryParams:g}),(0,d.jsx)(u.A,{open:n,setOpen:h,url:"payment-method/delete"}),(0,d.jsx)(s.wA,{FORM_ID:"payment-method",isEditing:!!e,customTitle:j("general.payment_method"),onClose:f,children:(0,d.jsx)(x,{formStore:b,resetForm:f,editingPaymentMethodId:e})})]})}}}]);
//# sourceMappingURL=120.5d1abd5d.chunk.js.map