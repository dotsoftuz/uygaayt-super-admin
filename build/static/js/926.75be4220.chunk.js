"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[926],{3613:(n,e,t)=>{t.d(e,{A:()=>s});var r,a=t(57528),d=t(29769);const o=(0,t(66253).default)(d.dS)(r||(r=(0,a.A)(["\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n"])));var i=t(70579);const s=n=>{const{value:e,onChange:t,onImageUpload:r,isError:a,type:d}=n;return(0,i.jsx)(o,{controls:[["bold","italic","underline","strike","clean","unorderedList","orderedList","alignLeft","alignCenter","alignRight"]],isError:!!a,value:e,onChange:t,onImageUpload:r,type:d})}},58926:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(5468),a=t(65043),d=t(49752),o=t(74117),i=t(70579);var s=t(72473),l=t(13094),c=t(24858),m=t(89379),u=t(68903),p=t(61698),x=t(3613);const g=n=>{let{formStore:e,editingBannerId:t,resetForm:d}=n;const{t:s}=(0,o.Bd)(),{control:l,handleSubmit:g,reset:b,watch:h,setValue:f}=e,{mutate:j,status:v}=(0,p.L2)(t?"/banner/update":"/banner/create",t?"put":"post"),{data:I,status:A}=(0,p.gf)("banner/get-by-id/".concat(t),{},{enabled:!!t,suspense:!1});(0,a.useEffect)(()=>{"success"===v&&d()},[v]);return(0,a.useEffect)(()=>{"success"===A&&b({title:I.data.title,imageId:I.data.image,productId:I.data.productId,description:I.data.description})},[A,I]),(0,i.jsx)("div",{className:"custom-drawer",children:(0,i.jsx)("form",{id:"banner",onSubmit:g(n=>{var e;j((0,m.A)((0,m.A)({_id:t},n),{},{imageId:null===(e=n.imageId)||void 0===e?void 0:e._id,productId:n.productId}))}),children:(0,i.jsxs)(u.Ay,{container:!0,spacing:2,children:[(0,i.jsx)(u.Ay,{item:!0,md:12,children:(0,i.jsx)(r.ks,{control:l,name:"title",label:s("common.name")})}),(0,i.jsx)(u.Ay,{item:!0,md:12,children:(0,i.jsx)(r.r6,{control:l,name:"productId",optionsUrl:"product/choose",dataProp:"data.data",label:s("common.product"),rules:{required:!1}})}),(0,i.jsx)(u.Ay,{item:!0,md:12,children:(0,i.jsx)(c.xI,{name:"description",control:l,render:n=>{let{field:e}=n;return(0,i.jsx)(x.A,{value:e.value,onChange:n=>{e.onChange(n)}})}})}),(0,i.jsxs)(u.Ay,{item:!0,md:12,children:[(0,i.jsx)("label",{className:"py-2",htmlFor:"",children:s("general.recommendation_img")}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(r.ME,{control:l,setValue:f,name:"imageId"}),(0,i.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,i.jsx)("span",{children:"O'lcham"}),(0,i.jsx)("span",{children:"1080(px) - 250(px)"})]})]})]})})})};var b=t(83501),h=t(477);const f=()=>{const[n,e]=(0,a.useState)(),[t,m]=(0,a.useState)(),u=(()=>{const{t:n}=(0,o.Bd)();return[{field:n("common.name"),renderCell(n){let{row:e}=n;const t=null===e||void 0===e?void 0:e.title,r=(null===t||void 0===t?void 0:t.length)>50?"".concat(t.substring(0,50),"..."):t;return(0,i.jsx)(d.A,{title:t,arrow:!0,children:(0,i.jsx)("span",{children:r})})}}]})(),p=(0,b.L)(),{t:x}=(0,o.Bd)(),f=(0,s.j)(),j=(0,c.mN)(),v=()=>{e(void 0),j.reset({title:"",imageId:"",description:""})},I=(0,a.useMemo)(()=>({}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.XI,{dataUrl:"banner/paging",columns:u,searchable:!0,onAddButton:p("bannerCreate")?()=>f((0,l.GF)(!0)):void 0,onEditColumn:p("bannerUpdate")?n=>{e(n._id),f((0,l.GF)(!0))}:void 0,onDeleteColumn:p("bannerDelete")?n=>m(n._id):void 0,exQueryParams:I}),(0,i.jsx)(h.A,{open:t,setOpen:m,url:"banner/delete"}),(0,i.jsx)(r.wA,{FORM_ID:"banner",isEditing:!!n,customTitle:x(n?"general.editBanner":"general.addBanner"),onClose:v,children:(0,i.jsx)(g,{formStore:j,resetForm:v,editingBannerId:n})})]})}}}]);
//# sourceMappingURL=926.75be4220.chunk.js.map