"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[196],{79196:function(e,o,r){r.r(o),r.d(o,{default:function(){return oe}});var t=r(29439),n=r(35980),a=r(72791),l=r(61134),i=r(79405),s=r(1413),d=r(84506),c=r(4942),u=r(63366),p=r(87462),b=(r(57441),r(28182)),m=r(94419),f=r(33685),h=r(31402),x=r(56125),g=r(35527);var v=a.createContext({}),Z=r(98278),R=r(75878),y=r(21217);function C(e){return(0,y.ZP)("MuiAccordion",e)}var j=(0,R.Z)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),M=r(80184),A=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],S=(0,f.ZP)(g.Z,{name:"MuiAccordion",slot:"Root",overridesResolver:function(e,o){var r=e.ownerState;return[(0,c.Z)({},"& .".concat(j.region),o.region),o.root,!r.square&&o.rounded,!r.disableGutters&&o.gutters]}})((function(e){var o,r=e.theme,t={duration:r.transitions.duration.shortest};return o={position:"relative",transition:r.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(r.vars||r).palette.divider,transition:r.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}}},(0,c.Z)(o,"&.".concat(j.expanded),{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}}),(0,c.Z)(o,"&.".concat(j.disabled),{backgroundColor:(r.vars||r).palette.action.disabledBackground}),o}),(function(e){var o=e.theme,r=e.ownerState;return(0,p.Z)({},!r.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(o.vars||o).shape.borderRadius,borderBottomRightRadius:(o.vars||o).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!r.disableGutters&&(0,c.Z)({},"&.".concat(j.expanded),{margin:"16px 0"}))})),k=a.forwardRef((function(e,o){var r=(0,h.Z)({props:e,name:"MuiAccordion"}),n=r.children,l=r.className,i=r.defaultExpanded,s=void 0!==i&&i,c=r.disabled,f=void 0!==c&&c,g=r.disableGutters,R=void 0!==g&&g,y=r.expanded,j=r.onChange,k=r.square,w=void 0!==k&&k,G=r.TransitionComponent,N=void 0===G?x.Z:G,P=r.TransitionProps,D=(0,u.Z)(r,A),U=(0,Z.Z)({controlled:y,default:s,name:"Accordion",state:"expanded"}),I=(0,t.Z)(U,2),V=I[0],E=I[1],_=a.useCallback((function(e){E(!V),j&&j(e,!V)}),[V,j,E]),T=a.Children.toArray(n),W=(0,d.Z)(T),q=W[0],B=W.slice(1),F=a.useMemo((function(){return{expanded:V,disabled:f,disableGutters:R,toggle:_}}),[V,f,R,_]),$=(0,p.Z)({},r,{square:w,disabled:f,disableGutters:R,expanded:V}),L=function(e){var o=e.classes,r={root:["root",!e.square&&"rounded",e.expanded&&"expanded",e.disabled&&"disabled",!e.disableGutters&&"gutters"],region:["region"]};return(0,m.Z)(r,C,o)}($);return(0,M.jsxs)(S,(0,p.Z)({className:(0,b.Z)(L.root,l),ref:o,ownerState:$,square:w},D,{children:[(0,M.jsx)(v.Provider,{value:F,children:q}),(0,M.jsx)(N,(0,p.Z)({in:V,timeout:"auto"},P,{children:(0,M.jsx)("div",{"aria-labelledby":q.props.id,id:q.props["aria-controls"],role:"region",className:L.region,children:B})}))]}))})),w=r(95080);function G(e){return(0,y.ZP)("MuiAccordionSummary",e)}var N=(0,R.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),P=["children","className","expandIcon","focusVisibleClassName","onClick"],D=(0,f.ZP)(w.Z,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:function(e,o){return o.root}})((function(e){var o,r=e.theme,t=e.ownerState,n={duration:r.transitions.duration.shortest};return(0,p.Z)((o={display:"flex",minHeight:48,padding:r.spacing(0,2),transition:r.transitions.create(["min-height","background-color"],n)},(0,c.Z)(o,"&.".concat(N.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),(0,c.Z)(o,"&.".concat(N.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity}),(0,c.Z)(o,"&:hover:not(.".concat(N.disabled,")"),{cursor:"pointer"}),o),!t.disableGutters&&(0,c.Z)({},"&.".concat(N.expanded),{minHeight:64}))})),U=(0,f.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:function(e,o){return o.content}})((function(e){var o=e.theme,r=e.ownerState;return(0,p.Z)({display:"flex",flexGrow:1,margin:"12px 0"},!r.disableGutters&&(0,c.Z)({transition:o.transitions.create(["margin"],{duration:o.transitions.duration.shortest})},"&.".concat(N.expanded),{margin:"20px 0"}))})),I=(0,f.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:function(e,o){return o.expandIconWrapper}})((function(e){var o=e.theme;return(0,c.Z)({display:"flex",color:(o.vars||o).palette.action.active,transform:"rotate(0deg)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shortest})},"&.".concat(N.expanded),{transform:"rotate(180deg)"})})),V=a.forwardRef((function(e,o){var r=(0,h.Z)({props:e,name:"MuiAccordionSummary"}),t=r.children,n=r.className,l=r.expandIcon,i=r.focusVisibleClassName,s=r.onClick,d=(0,u.Z)(r,P),c=a.useContext(v),f=c.disabled,x=void 0!==f&&f,g=c.disableGutters,Z=c.expanded,R=c.toggle,y=(0,p.Z)({},r,{expanded:Z,disabled:x,disableGutters:g}),C=function(e){var o=e.classes,r=e.expanded,t=e.disabled,n=e.disableGutters,a={root:["root",r&&"expanded",t&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]};return(0,m.Z)(a,G,o)}(y);return(0,M.jsxs)(D,(0,p.Z)({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":Z,className:(0,b.Z)(C.root,n),focusVisibleClassName:(0,b.Z)(C.focusVisible,i),onClick:function(e){R&&R(e),s&&s(e)},ref:o,ownerState:y},d,{children:[(0,M.jsx)(U,{className:C.content,ownerState:y,children:t}),l&&(0,M.jsx)(I,{className:C.expandIconWrapper,ownerState:y,children:l})]}))}));function E(e){return(0,y.ZP)("MuiAccordionDetails",e)}(0,R.Z)("MuiAccordionDetails",["root"]);var _,T=["className"],W=(0,f.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:function(e,o){return o.root}})((function(e){return{padding:e.theme.spacing(1,2,2)}})),q=a.forwardRef((function(e,o){var r=(0,h.Z)({props:e,name:"MuiAccordionDetails"}),t=r.className,n=(0,u.Z)(r,T),a=r,l=function(e){var o=e.classes;return(0,m.Z)({root:["root"]},E,o)}(a);return(0,M.jsx)(W,(0,p.Z)({className:(0,b.Z)(l.root,t),ref:o,ownerState:a},n))})),B=r(81131),F=r(61889),$=r(62750),L=r(30168),O=r(17939).default.div(_||(_=(0,L.Z)(["\n  .role-checkbox {\n    padding: 0;\n    background-color: transparent !important;\n  }\n  .MuiAccordion-root,\n  .MuiAccordionSummary-content {\n    margin: 0 !important;\n  }\n  .MuiAccordionSummary-root {\n    padding: 0;\n    border: none !important;\n    margin-bottom: 5px;\n  }\n  .MuiPaper-root {\n    box-shadow: none;\n    &::before {\n      display: none;\n    }\n  }\n  .MuiAccordionDetails-root {\n    padding: 0;\n  }\n  .MuiCheckbox-root {\n    padding: 6px;\n  }\n"]))),X=[{role:"order",label:"order",childRoles:[{role:"orderCreate",label:"create"},{role:"orderUpdate",label:"update"},{role:"orderDelete",label:"delete"}]},{role:"order",label:"order",childRoles:[{role:"orderCreate",label:"create"},{role:"orderUpdate",label:"update"},{role:"orderDelete",label:"delete"}]},{role:"customer",label:"customer",childRoles:[{role:"customerCreate",label:"create"},{role:"customerUpdate",label:"update"},{role:"customerDelete",label:"delete"}]},{role:"product",label:"product",childRoles:[{role:"productCreate",label:"create"},{role:"productUpdate",label:"update"},{role:"productDelete",label:"delete"}]},{role:"category",label:"category",childRoles:[{role:"categoryCreate",label:"create"},{role:"categoryUpdate",label:"update"},{role:"categoryDelete",label:"delete"}]},{role:"employee",label:"employee",childRoles:[{role:"employeeCreate",label:"create"},{role:"employeeUpdate",label:"update"},{role:"employeeDelete",label:"delete"}]},{role:"role",label:"role",childRoles:[{role:"roleCreate",label:"create"},{role:"roleUpdate",label:"update"},{role:"roleDelete",label:"delete"}]},{role:"courier",label:"courier",childRoles:[{role:"courierCreate",label:"create"},{role:"courierUpdate",label:"update"},{role:"courierDelete",label:"delete"}]},{role:"banner",label:"banner",childRoles:[{role:"bannerCreate",label:"create"},{role:"bannerUpdate",label:"update"},{role:"bannerDelete",label:"delete"}]},{role:"store",label:"store",childRoles:[{role:"storeUpdate",label:"update"}]},{role:"integration",label:"integration",childRoles:[{role:"integrationUpdate",label:"update"}]},{role:"stateMap",label:"stateMap"},{role:"transaction",label:"transaction",childRoles:[{role:"transactionCreate",label:"create"}]},{role:"settings",label:"settings",childRoles:[{role:"settingsUpdate",label:"update"}]}],H=r(39230),Q=function(e){var o,r=e.control,t=e.checkbox,a=e.setValue,l=(0,H.$G)().t;return(0,M.jsxs)(k,{children:[(0,M.jsx)(V,{expandIcon:(0,M.jsx)(B.Z,{}),children:(0,M.jsx)(n.XZ,{label:l("role.".concat(t.label)),name:t.role,control:r,onChange:function(e,o){return function(e,o){var r=X.find((function(e){return e.role===o}));a(null===r||void 0===r?void 0:r.role,e),null!==r&&void 0!==r&&r.childRoles&&r.childRoles.map((function(o){return a(o.role,e)}))}(e,o.target.name)},isFullWidth:!0,className:"role-checkbox"})}),(0,M.jsx)(q,{children:(0,M.jsx)(F.ZP,{container:!0,display:"flex",justifyContent:"flex-end",spacing:1,className:"mb-2",children:null===t||void 0===t||null===(o=t.childRoles)||void 0===o?void 0:o.map((function(e,o){return(0,M.jsx)(F.ZP,{item:!0,md:11,children:(0,M.jsx)(n.XZ,{control:r,name:e.role,label:l("role.".concat(e.label)),isFullWidth:!0,className:"role-checkbox"})},e.role)}))})})]})},z=function(e){var o=e.formStore,r=e.editingRoleId,t=e.resetForm,l=o.control,i=o.handleSubmit,d=o.setValue,c=o.reset,u=(0,H.$G)().t,p=(0,$.uC)(r?"role/update":"role/create",r?"put":"post",{}),b=p.mutate,m=p.status,f=(0,$.h_)("role/get-by-id/".concat(r),{},{enabled:!!r,suspense:!1}),h=f.data,x=f.status;(0,a.useEffect)((function(){"success"===m&&t()}),[m]),(0,a.useEffect)((function(){"success"===x&&c((0,s.Z)({},h.data))}),[x,h]);return(0,M.jsx)(O,{className:"custom-drawer",children:(0,M.jsx)("form",{id:"role",onSubmit:i((function(e){b(e)})),children:(0,M.jsxs)(F.ZP,{container:!0,spacing:3,children:[(0,M.jsx)(F.ZP,{item:!0,md:12,children:(0,M.jsx)(n.oi,{control:l,name:"name",label:u("common.name")})}),(0,M.jsxs)(F.ZP,{item:!0,md:12,children:[(0,M.jsx)(n.XZ,{control:l,label:u("common.all"),onChange:function(e){return function(e){X.forEach((function(o){d(o.role,e),o.childRoles.forEach((function(o){return d(o.role,e)}))}))}(e)},name:"_select_all"}),(0,M.jsx)("br",{}),X.map((function(e){return(0,M.jsx)(Q,{control:l,checkbox:e,setValue:d})}))]})]})})})},J=r(36978),K=r(84544),Y=r(29001),ee=function(){var e=(0,l.cI)(),o=[{field:(0,(0,H.$G)().t)("common.name"),renderCell:function(e){return e.row.name}}],r=(0,a.useState)(),s=(0,t.Z)(r,2),d=s[0],c=s[1],u=(0,i.T)(),p=(0,H.$G)().t,b=(0,a.useState)(),m=(0,t.Z)(b,2),f=m[0],h=m[1],x=(0,Y.w)(),g=function(){c(null),e.reset({name:"",_select_all:!1}),X.forEach((function(o){var r;e.setValue(o.role,!1),null===o||void 0===o||null===(r=o.childRoles)||void 0===r||r.forEach((function(o){return e.setValue(o.role,!1)}))}))};return(0,M.jsxs)("div",{children:[(0,M.jsx)(n.iA,{columns:o,dataUrl:"role/paging",onAddButton:x("roleCreate")?function(){return u((0,J.dl)(!0))}:void 0,onEditColumn:x("roleUpdate")?function(e){c(e._id),u((0,J.dl)(!0))}:void 0,onDeleteColumn:x("roleDelete")?function(e){return h(e._id)}:void 0,searchable:!0,exQueryParams:{}}),(0,M.jsx)(K.Z,{open:f,setOpen:h,url:"role/delete"}),(0,M.jsx)(n._8,{onClose:g,customTitle:p("general.addRole"),FORM_ID:"role",isEditing:!!d,children:(0,M.jsx)(z,{formStore:e,editingRoleId:d,resetForm:g})})]})},oe=ee}}]);
//# sourceMappingURL=196.640dc7ef.chunk.js.map