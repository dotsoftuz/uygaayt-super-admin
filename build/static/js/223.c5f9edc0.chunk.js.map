{"version":3,"file":"static/js/223.c5f9edc0.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/news/components/NewsForm.tsx","pages/news/container/News.tsx","pages/news/index.tsx","pages/news/container/news.columns.tsx"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\r\nimport styled from \"styled-components\";\r\nimport { ITextEditorStyled } from \"./TextEditor.types\";\r\n\r\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border: none;\r\n  width: 100%;\r\n  padding-bottom: 20px;\r\n  .quill {\r\n    .ql-container {\r\n      .ql-tooltip {\r\n        transform: translateX(97px);\r\n        z-index: 10;\r\n      }\r\n      .ql-editor {\r\n        background-color: #fff;\r\n        padding: 15px;\r\n        border-radius: 12px;\r\n        min-height: 80px;\r\n        transition: all 0.3s;\r\n        border: 1px solid #d9d9d9;\r\n        p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-toolbar {\r\n    padding: 0;\r\n    transition: opacity 1s ease-out;\r\n    border-radius: 0;\r\n    border-bottom: none;\r\n    margin-top: 10px;\r\n    button {\r\n      border: none;\r\n      margin: 0 5px;\r\n      svg {\r\n        width: 24px !important;\r\n        height: 24px !important;\r\n        fill: #000 !important;\r\n        path {\r\n          fill: #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-editing {\r\n    left: 30px !important;\r\n    transform: translateX(0px) !important;\r\n    z-index: 100;\r\n  }\r\n`;\r\n","import { FC } from \"react\";\r\nimport { TextEditorStyled } from \"./TextEditor.style\";\r\nimport { TextEditorPropsType } from \"./TextEditor.types\";\r\n\r\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\r\n  const { value, onChange, onImageUpload, isError, type } = props;\r\n\r\n  return (\r\n    <TextEditorStyled\r\n      controls={[\r\n        [\r\n          \"bold\",\r\n          \"italic\",\r\n          \"underline\",\r\n          \"strike\",\r\n          \"clean\",\r\n          \"unorderedList\",\r\n          \"orderedList\",\r\n          \"alignLeft\",\r\n          \"alignCenter\",\r\n          \"alignRight\",\r\n        ],\r\n      ]}\r\n      isError={!!isError}\r\n      value={value}\r\n      onChange={onChange}\r\n      onImageUpload={onImageUpload}\r\n      type={type}\r\n    ></TextEditorStyled>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import { FC, useEffect } from \"react\";\r\nimport { Box, Grid, Typography } from \"@mui/material\";\r\nimport { AutoCompleteForm, ImageInput, TextInput } from \"components\";\r\nimport { Controller, UseFormReturn } from \"react-hook-form\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\r\nimport { debounce } from \"lodash\";\r\n\r\ninterface IEmployeesForm {\r\n  formStore: UseFormReturn<any>;\r\n  editingNewsId: string;\r\n  resetForm: () => void;\r\n}\r\nconst BannerForm: FC<IEmployeesForm> = ({\r\n  formStore,\r\n  editingNewsId,\r\n  resetForm,\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { control, handleSubmit, reset, watch, setValue } = formStore;\r\n\r\n  const { mutate, status } = useApiMutation(\r\n    editingNewsId ? `/news/update` : \"/news/create\",\r\n    editingNewsId ? \"post\" : \"post\"\r\n  );\r\n\r\n  const { data: getByIdData, status: getByIdStatus } = useApi(\r\n    `news/get-by-id/${editingNewsId}`,\r\n    {},\r\n    {\r\n      enabled: !!editingNewsId,\r\n      suspense: false,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      resetForm();\r\n    }\r\n  }, [status]);\r\n\r\n  const submit = (data: any) => {\r\n    mutate({\r\n      _id: editingNewsId,\r\n      ...data,\r\n      imageId: data.imageId?._id,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getByIdStatus === \"success\") {\r\n      reset({\r\n        title: getByIdData.data.title,\r\n        imageId: getByIdData.data.image,\r\n        description: getByIdData.data.description,\r\n      });\r\n    }\r\n  }, [getByIdStatus, getByIdData]);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"custom-drawer\">\r\n      <form id=\"banner\" onSubmit={handleSubmit(submit)}>\r\n        <Grid container spacing={2}>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"title.uz\"\r\n              label={t('common.title') + ' (Uz)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"title.ru\"\r\n              label={t('common.title') + ' (Ru)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"title.en\"\r\n              label={t('common.title') + ' (En)'}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n                {t('common.description') + '(Uz)'}\r\n              </Typography>\r\n              <Controller\r\n                name=\"description.uz\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <TextEditor\r\n                    value={field.value}\r\n                    onChange={(value) => {\r\n                      field.onChange(value);\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n                {t('common.description') + '(Ru)'}\r\n              </Typography>\r\n              <Controller\r\n                name=\"description.ru\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <TextEditor\r\n                    value={field.value}\r\n                    onChange={(value) => {\r\n                      field.onChange(value);\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n                {t('common.description') + '(En)'}\r\n              </Typography>\r\n              <Controller\r\n                name=\"description.en\"\r\n                control={control}\r\n                render={({ field }) => (\r\n                  <TextEditor\r\n                    value={field.value}\r\n                    onChange={(value) => {\r\n                      field.onChange(value);\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n            </Box>\r\n\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\r\n            <ImageInput control={control} setValue={setValue} name=\"imageId\" />\r\n            <div className=\"d-flex justify-content-between mt-3\">\r\n              <span>O'lcham</span>\r\n              <span>1080(px) - 250(px)</span>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BannerForm;\r\n","import { FormDrawer, Table } from \"components\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { useBannerColumns } from \"./news.columns\";\r\nimport { useAppDispatch } from \"../../../store/storeHooks\";\r\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport BannerForm from \"../components/NewsForm\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useRoleManager } from \"services/useRoleManager\";\r\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\r\n\r\nconst News = () => {\r\n  const [editingNewsId, setEditingNewsId] = useState<any>();\r\n  const [newsId, setNewsId] = useState<any>();\r\n  const columns = useBannerColumns();\r\n  const hasAccess = useRoleManager();\r\n  const { t } = useTranslation();\r\n  const dis = useAppDispatch();\r\n  const formStore = useForm<any>();\r\n\r\n  const resetForm = () => {\r\n    setEditingNewsId(undefined);\r\n    formStore.reset({\r\n      title: { uz: \"\", ru: \"\", en: \"\" },\r\n      imageId: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const queryParams = useMemo(() => ({}), []);\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        dataUrl=\"news/paging\"\r\n        columns={columns}\r\n        searchable\r\n        onAddButton={() => dis(setOpenDrawer(true))}\r\n        onEditColumn={(row) => {\r\n          setEditingNewsId(row._id);\r\n          dis(setOpenDrawer(true));\r\n        }}\r\n        onDeleteColumn={(row) => setNewsId(row._id)}\r\n        exQueryParams={queryParams}\r\n      />\r\n      <WarningModal open={newsId} setOpen={setNewsId} url=\"news/delete\" />\r\n      <FormDrawer\r\n        FORM_ID=\"banner\"\r\n        isEditing={!!editingNewsId}\r\n        customTitle={t(\"general.addNews\")}\r\n        onClose={resetForm}\r\n      >\r\n        <BannerForm\r\n          formStore={formStore}\r\n          resetForm={resetForm}\r\n          editingNewsId={editingNewsId}\r\n        />\r\n      </FormDrawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","import News from \"./container/News\";\r\n\r\nexport default News;\r\n","import { GridColumns } from \"@mui/x-data-grid\";\r\nimport { Tooltip } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const useBannerColumns = (): GridColumns => {\r\n  const { t } = useTranslation();\r\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\"; \r\n\r\n  return [\r\n    {\r\n      field: t(\"common.name\"),\r\n      renderCell({ row }) {\r\n        const title = row?.title?.[currentLang];\r\n        const truncatedTitle = title?.length > 50 ? `${title.substring(0, 50)}...` : title;\r\n    \r\n        return (\r\n          <Tooltip title={title} arrow>\r\n            <span>{truncatedTitle}</span>\r\n          </Tooltip>\r\n        );\r\n      },\r\n    }\r\n    \r\n    // {\r\n    //   field: t(\"common.store\"),\r\n    //   renderCell({ row }) {\r\n    //     return get(row, \"store.name\", \"-\");\r\n    //   },\r\n    // },\r\n  ];\r\n};\r\n"],"names":["TextEditorStyled","styled","RichTextEditor","_templateObject","_taggedTemplateLiteral","props","value","onChange","onImageUpload","isError","type","_jsx","controls","_ref","formStore","editingNewsId","resetForm","t","useTranslation","control","handleSubmit","reset","watch","setValue","mutate","status","useApiMutation","data","getByIdData","getByIdStatus","useApi","concat","enabled","suspense","useEffect","title","imageId","image","description","className","children","id","onSubmit","_data$imageId","_objectSpread","_id","_jsxs","Grid","container","spacing","item","md","TextInput","name","label","Box","sx","mb","Typography","variant","Controller","render","_ref2","field","TextEditor","_ref3","_ref4","htmlFor","ImageInput","News","setEditingNewsId","useState","newsId","setNewsId","columns","useBannerColumns","currentLang","localStorage","getItem","renderCell","_row$title","row","truncatedTitle","length","substring","Tooltip","arrow","useRoleManager","dis","useAppDispatch","useForm","undefined","uz","ru","en","queryParams","useMemo","_Fragment","Table","dataUrl","searchable","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","url","FormDrawer","FORM_ID","isEditing","customTitle","onClose","BannerForm"],"sourceRoot":""}