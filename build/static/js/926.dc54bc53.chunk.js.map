{"version":3,"file":"static/js/926.dc54bc53.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/banner/components/BannerForm.tsx","pages/banner/container/Banner.tsx","pages/banner/index.tsx","pages/banner/container/banner.columns.tsx"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\r\nimport styled from \"styled-components\";\r\nimport { ITextEditorStyled } from \"./TextEditor.types\";\r\n\r\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border: none;\r\n  width: 100%;\r\n  padding-bottom: 20px;\r\n  .quill {\r\n    .ql-container {\r\n      .ql-tooltip {\r\n        transform: translateX(97px);\r\n        z-index: 10;\r\n      }\r\n      .ql-editor {\r\n        background-color: #fff;\r\n        padding: 15px;\r\n        border-radius: 12px;\r\n        min-height: 80px;\r\n        transition: all 0.3s;\r\n        border: 1px solid #d9d9d9;\r\n        p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-toolbar {\r\n    padding: 0;\r\n    transition: opacity 1s ease-out;\r\n    border-radius: 0;\r\n    border-bottom: none;\r\n    margin-top: 10px;\r\n    button {\r\n      border: none;\r\n      margin: 0 5px;\r\n      svg {\r\n        width: 24px !important;\r\n        height: 24px !important;\r\n        fill: #000 !important;\r\n        path {\r\n          fill: #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ql-editing {\r\n    left: 30px !important;\r\n    transform: translateX(0px) !important;\r\n    z-index: 100;\r\n  }\r\n`;\r\n","import { FC } from \"react\";\r\nimport { TextEditorStyled } from \"./TextEditor.style\";\r\nimport { TextEditorPropsType } from \"./TextEditor.types\";\r\n\r\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\r\n  const { value, onChange, onImageUpload, isError, type } = props;\r\n\r\n  return (\r\n    <TextEditorStyled\r\n      controls={[\r\n        [\r\n          \"bold\",\r\n          \"italic\",\r\n          \"underline\",\r\n          \"strike\",\r\n          \"clean\",\r\n          \"unorderedList\",\r\n          \"orderedList\",\r\n          \"alignLeft\",\r\n          \"alignCenter\",\r\n          \"alignRight\",\r\n        ],\r\n      ]}\r\n      isError={!!isError}\r\n      value={value}\r\n      onChange={onChange}\r\n      onImageUpload={onImageUpload}\r\n      type={type}\r\n    ></TextEditorStyled>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import { FC, useEffect } from \"react\";\r\nimport { Grid } from \"@mui/material\";\r\nimport { AutoCompleteForm, ImageInput, TextInput } from \"components\";\r\nimport { Controller, UseFormReturn } from \"react-hook-form\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\r\nimport { debounce } from \"lodash\";\r\n\r\ninterface IEmployeesForm {\r\n  formStore: UseFormReturn<any>;\r\n  editingBannerId: string;\r\n  resetForm: () => void;\r\n}\r\nconst BannerForm: FC<IEmployeesForm> = ({\r\n  formStore,\r\n  editingBannerId,\r\n  resetForm,\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { control, handleSubmit, reset, watch, setValue } = formStore;\r\n\r\n  const { mutate, status } = useApiMutation(\r\n    editingBannerId ? `/banner/update` : \"/banner/create\",\r\n    editingBannerId ? \"put\" : \"post\"\r\n  );\r\n\r\n  const { data: getByIdData, status: getByIdStatus } = useApi(\r\n    `banner/get-by-id/${editingBannerId}`,\r\n    {},\r\n    {\r\n      enabled: !!editingBannerId,\r\n      suspense: false,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      resetForm();\r\n    }\r\n  }, [status]);\r\n\r\n  const submit = (data: any) => {\r\n    mutate({\r\n      _id: editingBannerId,\r\n      ...data,\r\n      imageId: data.imageId?._id,\r\n      productId: data.productId,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getByIdStatus === \"success\") {\r\n      reset({\r\n        title: getByIdData.data.title,\r\n        imageId: getByIdData.data.image,\r\n        productId: getByIdData.data.productId,\r\n        description: getByIdData.data.description,\r\n      });\r\n    }\r\n  }, [getByIdStatus, getByIdData]);\r\n\r\n\r\n  return (\r\n    <div className=\"custom-drawer\">\r\n      <form id=\"banner\" onSubmit={handleSubmit(submit)}>\r\n        <Grid container spacing={2}>\r\n          <Grid item md={12}>\r\n            <TextInput\r\n              control={control}\r\n              name=\"title\"\r\n              label={t(\"common.name\")}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <AutoCompleteForm\r\n              control={control}\r\n              name=\"productId\"\r\n              optionsUrl=\"product/choose\"\r\n              dataProp=\"data.data\"\r\n              label={t(\"common.product\")}\r\n              rules={{ required: false }}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <Controller\r\n              name=\"description\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <TextEditor\r\n                  value={field.value}\r\n                  onChange={(value) => {\r\n                    field.onChange(value);\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid item md={12}>\r\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\r\n            <ImageInput control={control} setValue={setValue} name=\"imageId\" />\r\n            <div className=\"d-flex justify-content-between mt-3\">\r\n              <span>O'lcham</span>\r\n              <span>1080(px) - 250(px)</span>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BannerForm;\r\n","import { FormDrawer, Table } from \"components\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { useBannerColumns } from \"./banner.columns\";\r\nimport { useAppDispatch } from \"../../../store/storeHooks\";\r\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport BannerForm from \"../components/BannerForm\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useRoleManager } from \"services/useRoleManager\";\r\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\n\r\nconst Banner = () => {\r\n  const [editingBannerId, setEditingBannerId] = useState<any>();\r\n  const [bannerId, setBannerId] = useState<any>();\r\n  const columns = useBannerColumns();\r\n  const hasAccess = useRoleManager();\r\n  const { t } = useTranslation();\r\n  const dis = useAppDispatch();\r\n  const formStore = useForm<any>();\r\n\r\n  const resetForm = () => {\r\n    setEditingBannerId(undefined);\r\n    formStore.reset({\r\n      title: \"\",\r\n      imageId: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const queryParams = useMemo(() => ({}), []);\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        dataUrl=\"banner/paging\"\r\n        columns={columns}\r\n        searchable\r\n        onAddButton={hasAccess(\"bannerCreate\")\r\n          ? () => dis(setOpenDrawer(true))\r\n          : undefined}\r\n        onEditColumn={hasAccess(\"bannerUpdate\") ? (row) => {\r\n          setEditingBannerId(row._id);\r\n          dis(setOpenDrawer(true));\r\n        } : undefined}\r\n        onDeleteColumn={hasAccess(\"bannerDelete\") ? (row) => setBannerId(row._id) : undefined}\r\n        exQueryParams={queryParams}\r\n      />\r\n      <WarningModal open={bannerId} setOpen={setBannerId} url=\"banner/delete\" />\r\n      <FormDrawer\r\n        FORM_ID=\"banner\"\r\n        isEditing={!!editingBannerId}\r\n        customTitle={editingBannerId ? t(\"general.editBanner\") : t(\"general.addBanner\")}\r\n        onClose={resetForm}\r\n      >\r\n        <BannerForm\r\n          formStore={formStore}\r\n          resetForm={resetForm}\r\n          editingBannerId={editingBannerId}\r\n        />\r\n      </FormDrawer>\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import Banner from \"./container/Banner\";\r\n\r\nexport default Banner;\r\n","import { GridColumns } from \"@mui/x-data-grid\";\r\nimport { Tooltip } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport const useBannerColumns = (): GridColumns => {\r\n  const { t } = useTranslation();\r\n\r\n  return [\r\n \r\n    {\r\n      field: t(\"common.name\"),\r\n      renderCell({ row }) {\r\n        const title = row?.title;\r\n        const truncatedTitle = title?.length > 50 ? `${title.substring(0, 50)}...` : title;\r\n    \r\n        return (\r\n          <Tooltip title={title} arrow>\r\n            <span>{truncatedTitle}</span>\r\n          </Tooltip>\r\n        );\r\n      },\r\n    }\r\n    // {\r\n    //   field: t(\"common.store\"),\r\n    //   renderCell({ row }) {\r\n    //     return get(row, \"store.name\", \"-\");\r\n    //   },\r\n    // },\r\n  ];\r\n};\r\n"],"names":["TextEditorStyled","styled","RichTextEditor","_templateObject","_taggedTemplateLiteral","props","value","onChange","onImageUpload","isError","type","_jsx","controls","_ref","formStore","editingBannerId","resetForm","t","useTranslation","control","handleSubmit","reset","watch","setValue","mutate","status","useApiMutation","data","getByIdData","getByIdStatus","useApi","concat","enabled","suspense","useEffect","title","imageId","image","productId","description","className","children","id","onSubmit","_data$imageId","_objectSpread","_id","_jsxs","Grid","container","spacing","item","md","TextInput","name","label","AutoCompleteForm","optionsUrl","dataProp","rules","required","Controller","render","_ref2","field","TextEditor","htmlFor","ImageInput","Banner","setEditingBannerId","useState","bannerId","setBannerId","columns","useBannerColumns","renderCell","row","truncatedTitle","length","substring","Tooltip","arrow","hasAccess","useRoleManager","dis","useAppDispatch","useForm","undefined","queryParams","useMemo","_Fragment","Table","dataUrl","searchable","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","url","FormDrawer","FORM_ID","isEditing","customTitle","onClose","BannerForm"],"sourceRoot":""}