"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[669],{93669:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(29439),r=n(71796),u=n(72791),o=n(50131),a=n(39230),s=n(80184),c=n(79405),l=n(36978),d=n(61134),m=n(1413),f=n(61889),b=n(32188),h=function(e){var t=e.formStore,n=e.editingAttributeId,i=e.resetForm,o=(0,a.$G)().t,c=t.control,l=t.handleSubmit,d=t.reset,h=(t.watch,t.setValue,(0,b.uC)(n?"/attribute/update":"/attribute/create","post")),x=h.mutate,j=h.status,g=(0,b.h_)("attribute/get-by-id/".concat(n),{},{enabled:!!n,suspense:!1}),v=g.data,p=g.status;(0,u.useEffect)((function(){"success"===j&&i()}),[j]);return(0,u.useEffect)((function(){"success"===p&&d({name:v.data.name})}),[p,v]),(0,u.useEffect)((function(){n||d({name:""})}),[n,d]),(0,s.jsx)("div",{className:"custom-drawer",children:(0,s.jsx)("form",{id:"attribute",onSubmit:l((function(e){x((0,m.Z)({_id:n},e))})),children:(0,s.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(f.ZP,{item:!0,md:12,children:(0,s.jsx)(r.oi,{control:c,name:"name.uz",label:o("common.title")+" (Uz)"})}),(0,s.jsx)(f.ZP,{item:!0,md:12,children:(0,s.jsx)(r.oi,{control:c,name:"name.ru",label:o("common.title")+" (Ru)"})}),(0,s.jsx)(f.ZP,{item:!0,md:12,children:(0,s.jsx)(r.oi,{control:c,name:"name.en",label:o("common.title")+" (En)"})})]})})})},x=n(29001),j=n(84544),g=function(){var e=(0,u.useState)(),t=(0,i.Z)(e,2),n=t[0],m=t[1],f=(0,u.useState)(),b=(0,i.Z)(f,2),g=b[0],v=b[1],p=function(){var e=(0,a.$G)().t,t=localStorage.getItem("i18nextLng")||"uz";return[{field:e("common.name"),renderCell:function(e){var n,i=e.row,r=null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n[t],u=(null===r||void 0===r?void 0:r.length)>50?"".concat(r.substring(0,50),"..."):r;return(0,s.jsx)(o.Z,{title:r,arrow:!0,children:(0,s.jsx)("span",{children:u})})}}]}(),Z=((0,x.w)(),(0,a.$G)().t),_=(0,c.T)(),w=(0,d.cI)(),C=function(){m(void 0),w.reset({name:{uz:"",ru:"",en:""}})},S=(0,u.useMemo)((function(){return{}}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.iA,{dataUrl:"attribute/paging",columns:p,searchable:!0,onAddButton:function(){_((0,l.dl)(!0))},onEditColumn:function(e){m(e._id),_((0,l.dl)(!0))},onDeleteColumn:function(e){return v(e._id)},exQueryParams:S}),(0,s.jsx)(j.Z,{open:g,setOpen:v,url:"attribute/delete"}),(0,s.jsx)(r._8,{FORM_ID:"attribute",isEditing:!!n,customTitle:Z("attribute.add"),onClose:C,children:(0,s.jsx)(h,{formStore:w,resetForm:C,editingAttributeId:n})})]})}}}]);
//# sourceMappingURL=669.9b6289d0.chunk.js.map