"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[301],{55301:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r,i=t(29439),a=t(45489),o=t(72791),s=t(763),d=t(39230),u=t(79405),c=t(36978),l=t(61134),m=t(1413),f=t(61889),g=t(62750),p=t(80184),x=function(e){var n=e.formStore,t=e.editingRatingId,r=e.resetForm,i=e.rate,s=(0,d.$G)().t,u=n.control,c=n.handleSubmit,l=n.reset,x=(n.watch,n.setValue),h=(0,g.uC)(t?"rate-comment/update":"rate-comment/create",t?"put":"post"),j=h.mutate,b=h.status,v=(0,g.h_)("rate-comment/get-by-id/".concat(t),{},{enabled:!!t,suspense:!1}),_=v.data,y=v.status;(0,o.useEffect)((function(){"success"===b&&r()}),[b]);return(0,o.useEffect)((function(){"success"===y&&l({title:_.data.title,imageId:_.data.image})}),[y,_]),(0,p.jsx)("div",{className:"custom-drawer",children:(0,p.jsx)("form",{id:"rating",onSubmit:c((function(e){var n;j((0,m.Z)((0,m.Z)({_id:t},e),{},{imageId:null===(n=e.imageId)||void 0===n?void 0:n._id,rate:i}))})),children:(0,p.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(f.ZP,{item:!0,md:12,children:(0,p.jsx)(a.oi,{control:u,name:"title.uz",label:"Uz"})}),(0,p.jsx)(f.ZP,{item:!0,md:12,children:(0,p.jsx)(a.oi,{control:u,name:"title.ru",label:"Ru"})}),(0,p.jsx)(f.ZP,{item:!0,md:12,children:(0,p.jsx)(a.oi,{control:u,name:"title.en",label:"En"})}),(0,p.jsxs)(f.ZP,{item:!0,md:12,children:[(0,p.jsx)("label",{className:"py-2",htmlFor:"",children:s("general.recommendation_img")}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(a.aG,{control:u,setValue:x,name:"imageId"})]})]})})})},h=t(84544),j=t(30168),b=t(17939).default.div(r||(r=(0,j.Z)(["\n  margin-top: 10px;\n  .ratings {\n    left: 20px;\n    padding: 10px 20px;\n    margin: auto !important;\n    .rating {\n      display: flex;\n      margin: auto !important;\n      align-items: center;\n      justify-content: center;\n      margin-right: 8px;\n      border-radius: 12px;\n      border: 1px solid #f3f3f8;\n      padding: 4px 12px;\n      width: 112px;\n      cursor: pointer;\n      &.active {\n        background: #EB5B00;\n        border: 1px solid #EB5B00;\n      }\n      svg {\n        margin: 0 1px;\n      }\n    }\n  }\n"]))),v=t(30709),_=t(59460),y=t(29001),k=function(){var e=(0,o.useState)(),n=(0,i.Z)(e,2),t=n[0],r=n[1],m=(0,o.useState)(),f=(0,i.Z)(m,2),g=f[0],j=f[1],k=[{field:(0,(0,d.$G)().t)("common.name"),renderCell:function(e){var n=e.row;return(0,s.get)(n,"title.uz","")}}],C=(0,d.$G)().t,Z=(0,u.T)(),w=(0,l.cI)(),I=(0,o.useState)(5),E=(0,i.Z)(I,2),F=E[0],S=E[1],B=function(){r(void 0),w.reset({title:{uz:"",ru:"",en:""},imageId:""})},P=(0,p.jsx)("div",{className:"w-full lg:w-[80%] ratings gap-2 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-5",children:v.Fv.map((function(e){return(0,p.jsx)("div",{className:"rating  ".concat(F===e.rate&&"active"),onClick:function(){return S(e.rate)},children:Array.from({length:e.rate},(function(e,n){return n+1})).map((function(e){return(0,p.jsx)(_.r7,{})}))})}))}),z=(0,y.w)(),G=(0,o.useMemo)((function(){return{rate:F}}),[F]);return(0,p.jsxs)(b,{children:[(0,p.jsx)(a.iA,{dataUrl:"rate-comment/paging",columns:k,headerChildren:P,exQueryParams:G,onAddButton:z("rateCommentCreate")?function(){return Z((0,c.dl)(!0))}:void 0,onEditColumn:z("rateCommentUpdate")?function(e){r(e._id),Z((0,c.dl)(!0))}:void 0,onDeleteColumn:z("rateCommentDelete")?function(e){return j(e._id)}:void 0}),(0,p.jsx)(h.Z,{open:g,setOpen:j,url:"rate-comment/delete"}),(0,p.jsx)(a._8,{FORM_ID:"rating",isEditing:!!t,customTitle:C("general.addBanner"),onClose:B,children:(0,p.jsx)(x,{formStore:w,resetForm:B,editingRatingId:t,rate:F})})]})}},30709:function(e,n,t){t.d(n,{Fv:function(){return o},G4:function(){return r},od:function(){return a},v5:function(){return i}});var r=[{_id:"cash",name:"Naqd",trans_key:"cash"}],i=[{_id:"percent",name:"Foiz",trans_key:"percent"},{_id:"amount",name:"Miqdor",trans_key:"amount"}],a=[{name:"functionality",key:"functionality",role:"role"},{name:"discounts",key:"discountOrder",role:"role"},{name:"bonus",key:"bonusOrder",role:"role"},{name:"premium_discounts",key:"premiumDiscountOrder",role:"role"},{name:"main_address",key:"mainAddress",role:"role"},{name:"website_conditions",key:"websiteConditions",role:"role"}],o=[{rate:5},{rate:4},{rate:3},{rate:2},{rate:1}]}}]);
//# sourceMappingURL=301.3fd7d908.chunk.js.map