"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[487],{87910:function(n,e,i){var t=i(74165),r=i(15861),l=i(29439),a=i(72791),s=i(75985);e.Z=function(){var n=(0,a.useState)(null),e=(0,l.Z)(n,2),i=e[0],o=e[1],d=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(e){var i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==(i=navigator)&&void 0!==i&&i.clipboard){n.next=3;break}return console.warn("Clipboard not supported"),n.abrupt("return",!1);case 3:return n.prev=3,n.next=6,navigator.clipboard.writeText(e);case 6:return o(e),s.Am.success("Nusxa olindi!"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),console.warn("Copy failed",n.t0),o(null),n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}();return[i,d]}},62487:function(n,e,i){i.r(e),i.d(e,{default:function(){return T}});var t,r,l,a=i(1413),s=i(29439),o=i(697),d=i(61889),c=i(57621),u=i(20890),f=i(27391),x=i(59460),p=i(45489),h=i(67783),m=i(62750),v=i(87910),g=i(72791),j=i(61134),b=i(39230),Z=i(75985),y=i(30168),w=i(17939),N=w.default.div(t||(t=(0,y.Z)(["\n  display: flex;\n  background-color: #fff;\n  padding: 5px;\n  border-radius: 12px;\n  .card {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 180px;\n    height: 100px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n"]))),k=w.default.div(r||(r=(0,y.Z)(["\n  padding: 20px;\n  width: 880px;\n  border-radius: 12px;\n  background-color: #ffffff;\n  position: relative !important;\n  box-sizing: border-box;\n\n  .integration-logo {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    img {\n      width: 200px;\n      max-height: 180px;\n      object-fit: contain;\n    }\n  }\n\n  .integration_loader {\n    position: relative;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n  }\n"]))),C=w.default.div(l||(l=(0,y.Z)(["\n  max-height: 100%;\n\n  h2 {\n    font-size: 22px;\n    text-align: center;\n    padding: 15px 0;\n  }\n  p {\n    font-size: 14px;\n  }\n\n  .fields_val {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    padding-top: 10px;\n\n    li {\n      list-style-type: none;\n      padding: 0 10px;\n      font-size: 14px;\n      border-left: 2px solid darkgoldenrod;\n      display: flex;\n\n      span {\n        color: darkgrey;\n        cursor: pointer;\n        display: flex;\n        gap: 10px;\n        word-break: break-all;\n\n        i {\n          width: 88%;\n        }\n\n        svg {\n          path {\n            fill: #eb469f;\n          }\n        }\n      }\n    }\n  }\n"]))),_=i(763),V=i(80184),S=function(){var n,e=(0,g.useState)(""),i=(0,s.Z)(e,2),t=i[0],r=i[1],l=(0,g.useState)(),y=(0,s.Z)(l,2),w=y[0],S=y[1],T=(0,g.useState)(!1),I=(0,s.Z)(T,2),P=I[0],z=I[1],M=(0,j.cI)(),O=M.control,R=M.handleSubmit,A=M.setValue,F=(0,j.Dq)({control:O,name:"fields"}).fields,q=(0,b.$G)().t,D=(0,m.h_)("integration/get-all"),G=D.data,W=D.refetch,L=D.isLoading,Q=(0,v.Z)(),X=(0,s.Z)(Q,2),$=(X[0],X[1]),B=(0,m.uC)("integration/update","put",{onSuccess:function(){W(),U(),Z.Am.success(q("general.success"))}}).mutate,E=R((function(n){var e=(0,a.Z)((0,a.Z)({},w),{},{fields:n.fields,_id:t});B(e)})),H=(0,m.h_)("integration/get-by-id/".concat(t),{},{enabled:!!t,onSuccess:function(n){S(null===n||void 0===n?void 0:n.data)}}),J=H.data,K=H.isFetching,U=H.refetch,Y=function(n){B({isInstalled:n,_id:t})};return console.log(G),(0,V.jsxs)(N,{children:[(0,V.jsx)(o.Z,{sx:{flexGrow:1,p:2},children:(0,V.jsx)(d.ZP,{container:!0,spacing:3,children:null===G||void 0===G||null===(n=G.data)||void 0===n?void 0:n.map((function(n){return(0,V.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,V.jsx)(c.Z,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:2,borderRadius:2,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:1},cursor:"pointer"},onClick:function(){A("fields",n.fields),r(n._id)},children:(0,V.jsx)(u.Z,{variant:"h6",fontWeight:"bold",textAlign:"center",color:"primary.main",children:n.name})})},n._id)}))})}),(0,V.jsx)(p.u_,{open:!!t,onClose:function(){r(""),z(!1)},children:(0,V.jsx)(k,{children:K?(0,V.jsx)("div",{className:"integration_loader",children:(0,V.jsx)(p.Xd,{})}):(0,V.jsxs)(d.ZP,{container:!0,children:[(0,V.jsx)(d.ZP,{item:!0,md:6,children:(0,V.jsxs)("div",{className:"integration-logo",children:[(0,V.jsx)("img",{src:"http://localhost:3003/v1"+(null===w||void 0===w?void 0:w.logo),alt:"integration.logo"}),(0,V.jsx)("h3",{className:"py-2",children:null===w||void 0===w?void 0:w.name}),(0,V.jsx)("div",{children:null!==w&&void 0!==w&&w.isInstalled?(0,V.jsxs)("div",{className:"d-flex gap-3",children:[(0,V.jsx)(h.Z,{title:"O'rnatilgan",disabled:!0}),(0,V.jsx)(h.Z,{title:"O'chirish",disabled:L,onClick:function(){return Y(!1)}})]}):(0,V.jsx)(h.Z,{title:"O'rnatish",className:"designed",disabled:L,onClick:function(){return Y(!0)}})})]})}),(0,V.jsx)(d.ZP,{item:!0,md:6,children:(0,V.jsxs)(o.Z,{sx:{height:"400px",boxSizing:"border-box",overflow:"auto"},children:[(null===w||void 0===w?void 0:w.isInstalled)&&!P&&(0,V.jsx)("div",{className:"d-flex justify-content-end",children:(0,V.jsx)(h.Z,{title:"Tahrirlash",onClick:function(){return z(!0)}})}),P?(0,V.jsxs)(V.Fragment,{children:[F.map((function(n,e){var i;return"input"===n.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(p.oi,{control:O,name:"fields.".concat(e,".fieldValue"),label:n.fieldName})},n.id):"select"===n.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(p.p7,{control:O,name:"fields.".concat(e,".fieldValue"),options:null===(i=n.options)||void 0===i?void 0:i.map((function(n){return{_id:n.value,name:n.text}})),label:n.fieldName})},n.id):"textarea"===n.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(j.Qr,{control:O,name:"fields.".concat(e,".fieldValue"),render:function(e){var i=e.field;return(0,V.jsx)(f.Z,(0,a.Z)((0,a.Z)({},i),{},{label:n.fieldName,multiline:!0,rows:4,fullWidth:!0}))}})},n.id):""})),(0,V.jsxs)("div",{className:"d-flex justify-content-end gap-2 py-2",children:[(0,V.jsx)(h.Z,{title:"Orqaga",onClick:function(){return z(!1)}}),(0,V.jsx)(h.Z,{title:q("general.save"),className:"designed",onClick:E})]})]}):(0,V.jsxs)(C,{children:[(0,V.jsx)("h2",{children:"Tarif"}),(0,V.jsx)("p",{children:null===w||void 0===w?void 0:w.description}),(0,V.jsxs)("ul",{className:"fields_val",children:[F.map((function(n){return(0,V.jsxs)("li",{children:[n.fieldName,":"," ",n.fieldValue&&(0,V.jsxs)("span",{children:[(0,V.jsxs)("i",{children:["\xa0 ",n.fieldValue]}),(0,V.jsx)(x.TI,{onClick:function(){return $(n.fieldValue)}})]})]},n.fieldValue)})),(0,_.get)(J,"data.infoFields",[]).map((function(n){return(0,V.jsxs)("li",{children:[n.fieldName,":"," ",n.fieldValue&&(0,V.jsxs)("span",{children:[(0,V.jsxs)("i",{children:["\xa0 ",n.fieldValue]}),(0,V.jsx)(x.TI,{onClick:function(){return $(n.fieldValue)}})]})]},n.fieldValue)}))]})]})]})})]})})})]})},T=function(){return(0,V.jsx)(S,{})}},57621:function(n,e,i){i.d(e,{Z:function(){return v}});var t=i(87462),r=i(63366),l=i(72791),a=i(59278),s=i(94419),o=i(66934),d=i(98357),c=i(35527),u=i(75878),f=i(21217);function x(n){return(0,f.ZP)("MuiCard",n)}(0,u.Z)("MuiCard",["root"]);var p=i(80184),h=["className","raised"],m=(0,o.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(n,e){return e.root}})((function(){return{overflow:"hidden"}})),v=l.forwardRef((function(n,e){var i=(0,d.i)({props:n,name:"MuiCard"}),l=i.className,o=i.raised,c=void 0!==o&&o,u=(0,r.Z)(i,h),f=(0,t.Z)({},i,{raised:c}),v=function(n){var e=n.classes;return(0,s.Z)({root:["root"]},x,e)}(f);return(0,p.jsx)(m,(0,t.Z)({className:(0,a.Z)(v.root,l),elevation:c?8:void 0,ref:e,ownerState:f},u))}))}}]);
//# sourceMappingURL=487.29d6f1d0.chunk.js.map