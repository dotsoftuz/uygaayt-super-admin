"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[223],{3613:(e,n,t)=>{t.d(n,{A:()=>a});var r,i=t(57528),s=t(29769);const o=(0,t(66253).default)(s.dS)(r||(r=(0,i.A)(["\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n"])));var l=t(70579);const a=e=>{const{value:n,onChange:t,onImageUpload:r,isError:i,type:s}=e;return(0,l.jsx)(o,{controls:[["bold","italic","underline","strike","clean","unorderedList","orderedList","alignLeft","alignCenter","alignRight"]],isError:!!i,value:n,onChange:t,onImageUpload:r,type:s})}},76223:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var r=t(5468),i=t(65043),s=t(49752),o=t(74117),l=t(70579);var a=t(72473),d=t(13094),c=t(24858),m=t(89379),u=t(68903),x=t(96446),p=t(85865),h=t(61698),g=t(3613);const j=e=>{let{formStore:n,editingNewsId:t,resetForm:s}=e;const{t:a}=(0,o.Bd)(),{control:d,handleSubmit:j,reset:b,watch:f,setValue:v}=n,{mutate:A,status:w}=(0,h.L2)(t?"/news/update":"/news/create","post"),{data:y,status:C}=(0,h.gf)("news/get-by-id/".concat(t),{},{enabled:!!t,suspense:!1});(0,i.useEffect)(()=>{"success"===w&&s()},[w]);return(0,i.useEffect)(()=>{"success"===C&&b({title:y.data.title,imageId:y.data.image,description:y.data.description})},[C,y]),(0,l.jsx)("div",{className:"custom-drawer",children:(0,l.jsx)("form",{id:"banner",onSubmit:j(e=>{var n;A((0,m.A)((0,m.A)({_id:t},e),{},{imageId:null===(n=e.imageId)||void 0===n?void 0:n._id}))}),children:(0,l.jsxs)(u.Ay,{container:!0,spacing:2,children:[(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsx)(r.ks,{control:d,name:"title.uz",label:a("common.title")+" (Uz)"})}),(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsx)(r.ks,{control:d,name:"title.ru",label:a("common.title")+" (Ru)"})}),(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsx)(r.ks,{control:d,name:"title.en",label:a("common.title")+" (En)"})}),(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsxs)(x.A,{sx:{mb:2},children:[(0,l.jsx)(p.A,{variant:"subtitle1",sx:{mb:1},children:a("common.description")+"(Uz)"}),(0,l.jsx)(c.xI,{name:"description.uz",control:d,render:e=>{let{field:n}=e;return(0,l.jsx)(g.A,{value:n.value,onChange:e=>{n.onChange(e)}})}})]})}),(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsxs)(x.A,{sx:{mb:2},children:[(0,l.jsx)(p.A,{variant:"subtitle1",sx:{mb:1},children:a("common.description")+"(Ru)"}),(0,l.jsx)(c.xI,{name:"description.ru",control:d,render:e=>{let{field:n}=e;return(0,l.jsx)(g.A,{value:n.value,onChange:e=>{n.onChange(e)}})}})]})}),(0,l.jsx)(u.Ay,{item:!0,md:12,children:(0,l.jsxs)(x.A,{sx:{mb:2},children:[(0,l.jsx)(p.A,{variant:"subtitle1",sx:{mb:1},children:a("common.description")+"(En)"}),(0,l.jsx)(c.xI,{name:"description.en",control:d,render:e=>{let{field:n}=e;return(0,l.jsx)(g.A,{value:n.value,onChange:e=>{n.onChange(e)}})}})]})}),(0,l.jsxs)(u.Ay,{item:!0,md:12,children:[(0,l.jsx)("label",{className:"py-2",htmlFor:"",children:a("general.recommendation_img")}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(r.ME,{control:d,setValue:v,name:"imageId"}),(0,l.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,l.jsx)("span",{children:"O'lcham"}),(0,l.jsx)("span",{children:"1080(px) - 250(px)"})]})]})]})})})};var b=t(83501),f=t(477);const v=()=>{const[e,n]=(0,i.useState)(),[t,m]=(0,i.useState)(),u=(()=>{const{t:e}=(0,o.Bd)(),n=localStorage.getItem("i18nextLng")||"uz";return[{field:e("common.name"),renderCell(e){var t;let{row:r}=e;const i=null===r||void 0===r||null===(t=r.title)||void 0===t?void 0:t[n],o=(null===i||void 0===i?void 0:i.length)>50?"".concat(i.substring(0,50),"..."):i;return(0,l.jsx)(s.A,{title:i,arrow:!0,children:(0,l.jsx)("span",{children:o})})}}]})(),{t:x}=((0,b.L)(),(0,o.Bd)()),p=(0,a.j)(),h=(0,c.mN)(),g=()=>{n(void 0),h.reset({title:{uz:"",ru:"",en:""},imageId:"",description:""})},v=(0,i.useMemo)(()=>({}),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.XI,{dataUrl:"news/paging",columns:u,searchable:!0,onAddButton:()=>p((0,d.GF)(!0)),onEditColumn:e=>{n(e._id),p((0,d.GF)(!0))},onDeleteColumn:e=>m(e._id),exQueryParams:v}),(0,l.jsx)(f.A,{open:t,setOpen:m,url:"news/delete"}),(0,l.jsx)(r.wA,{FORM_ID:"banner",isEditing:!!e,customTitle:x("general.addNews"),onClose:g,children:(0,l.jsx)(j,{formStore:h,resetForm:g,editingNewsId:e})})]})}}}]);
//# sourceMappingURL=223.c5f9edc0.chunk.js.map