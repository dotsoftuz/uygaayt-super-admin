"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[622],{1622:(e,n,i)=>{i.r(n),i.d(n,{default:()=>_});var l,s,a,d=i(89379),t=i(96446),r=i(68903),o=i(12110),c=i(85865),x=i(15795),f=i(58885),u=i(19303),p=i(99866),h=i(61698),m=i(69990),g=i(65043),j=i(24858),v=i(74117),b=i(47503),A=i(57528),y=i(66253);const N=y.default.div(l||(l=(0,A.A)(["\n  display: flex;\n  background-color: #fff;\n  padding: 5px;\n  border-radius: 12px;\n  .card {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 180px;\n    height: 100px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n"]))),w=y.default.div(s||(s=(0,A.A)(["\n  padding: 20px;\n  width: 880px;\n  border-radius: 12px;\n  background-color: #ffffff;\n  position: relative !important;\n  box-sizing: border-box;\n\n  .integration-logo {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    img {\n      width: 200px;\n      max-height: 180px;\n      object-fit: contain;\n    }\n  }\n\n  .integration_loader {\n    position: relative;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n  }\n"]))),k=y.default.div(a||(a=(0,A.A)(["\n  max-height: 100%;\n\n  h2 {\n    font-size: 22px;\n    text-align: center;\n    padding: 15px 0;\n  }\n  p {\n    font-size: 14px;\n  }\n\n  .fields_val {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    padding-top: 10px;\n\n    li {\n      list-style-type: none;\n      padding: 0 10px;\n      font-size: 14px;\n      border-left: 2px solid darkgoldenrod;\n      display: flex;\n\n      span {\n        color: darkgrey;\n        cursor: pointer;\n        display: flex;\n        gap: 10px;\n        word-break: break-all;\n\n        i {\n          width: 88%;\n        }\n\n        svg {\n          path {\n            fill: #eb469f;\n          }\n        }\n      }\n    }\n  }\n"])));var C=i(53536),V=i(70579);const S=()=>{var e;const[n,i]=(0,g.useState)(""),[l,s]=(0,g.useState)(),[a,A]=(0,g.useState)(!1),{control:y,handleSubmit:S,setValue:_}=(0,j.mN)(),{fields:T}=(0,j.jz)({control:y,name:"fields"}),{t:R}=(0,v.Bd)(),{data:z,refetch:I,isLoading:F}=(0,h.gf)("integration/get-all"),[M,O]=(0,m.A)(),{mutate:L}=(0,h.L2)("integration/update","put",{onSuccess(){I(),D(),b.oR.success(R("general.success"))}}),W=S(e=>{const i=(0,d.A)((0,d.A)({},l),{},{fields:e.fields,_id:n});L(i)}),{data:q,isFetching:B,refetch:D}=(0,h.gf)("integration/get-by-id/".concat(n),{},{enabled:!!n,onSuccess(e){s(null===e||void 0===e?void 0:e.data)}}),G=e=>{L({isInstalled:e,_id:n})};return console.log(z),(0,V.jsxs)(N,{children:[(0,V.jsx)(t.A,{sx:{flexGrow:1,p:2},children:(0,V.jsx)(r.Ay,{container:!0,spacing:3,children:null===z||void 0===z||null===(e=z.data)||void 0===e?void 0:e.map(e=>(0,V.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,V.jsx)(o.A,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:2,borderRadius:2,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:1},cursor:"pointer"},onClick:()=>{_("fields",e.fields),i(e._id)},children:(0,V.jsx)(c.A,{variant:"h6",fontWeight:"bold",textAlign:"center",color:"primary.main",children:e.name})})},e._id))})}),(0,V.jsx)(u.aF,{open:!!n,onClose:()=>{i(""),A(!1)},children:(0,V.jsx)(w,{children:B?(0,V.jsx)("div",{className:"integration_loader",children:(0,V.jsx)(u.HY,{})}):(0,V.jsxs)(r.Ay,{container:!0,children:[(0,V.jsx)(r.Ay,{item:!0,md:6,children:(0,V.jsxs)("div",{className:"integration-logo",children:[(0,V.jsx)("img",{src:"http://165.227.153.9"+(null===l||void 0===l?void 0:l.logo),alt:"integration.logo"}),(0,V.jsx)("h3",{className:"py-2",children:null===l||void 0===l?void 0:l.name}),(0,V.jsx)("div",{children:null!==l&&void 0!==l&&l.isInstalled?(0,V.jsxs)("div",{className:"d-flex gap-3",children:[(0,V.jsx)(p.A,{title:"O'rnatilgan",disabled:!0}),(0,V.jsx)(p.A,{title:"O'chirish",disabled:F,onClick:()=>G(!1)})]}):(0,V.jsx)(p.A,{title:"O'rnatish",className:"designed",disabled:F,onClick:()=>G(!0)})})]})}),(0,V.jsx)(r.Ay,{item:!0,md:6,children:(0,V.jsxs)(t.A,{sx:{height:"400px",boxSizing:"border-box",overflow:"auto"},children:[(null===l||void 0===l?void 0:l.isInstalled)&&!a&&(0,V.jsx)("div",{className:"d-flex justify-content-end",children:(0,V.jsx)(p.A,{title:"Tahrirlash",onClick:()=>A(!0)})}),a?(0,V.jsxs)(V.Fragment,{children:[T.map((e,n)=>{var i;return"input"===e.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(u.ks,{control:y,name:"fields.".concat(n,".fieldValue"),label:e.fieldName})},e.id):"select"===e.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(u.RZ,{control:y,name:"fields.".concat(n,".fieldValue"),options:null===(i=e.options)||void 0===i?void 0:i.map(e=>({_id:e.value,name:e.text})),label:e.fieldName})},e.id):"textarea"===e.fieldType?(0,V.jsx)("div",{className:"mb-2",children:(0,V.jsx)(j.xI,{control:y,name:"fields.".concat(n,".fieldValue"),render:n=>{let{field:i}=n;return(0,V.jsx)(x.A,(0,d.A)((0,d.A)({},i),{},{label:e.fieldName,multiline:!0,rows:4,fullWidth:!0}))}})},e.id):""}),(0,V.jsxs)("div",{className:"d-flex justify-content-end gap-2 py-2",children:[(0,V.jsx)(p.A,{title:"Orqaga",onClick:()=>A(!1)}),(0,V.jsx)(p.A,{title:R("general.save"),className:"designed",onClick:W})]})]}):(0,V.jsxs)(k,{children:[(0,V.jsx)("h2",{children:"Tarif"}),(0,V.jsx)("p",{children:null===l||void 0===l?void 0:l.description}),(0,V.jsxs)("ul",{className:"fields_val",children:[T.map(e=>(0,V.jsxs)("li",{children:[e.fieldName,":"," ",e.fieldValue&&(0,V.jsxs)("span",{children:[(0,V.jsxs)("i",{children:["\xa0 ",e.fieldValue]}),(0,V.jsx)(f.Td,{onClick:()=>O(e.fieldValue)})]})]},e.fieldValue)),(0,C.get)(q,"data.infoFields",[]).map(e=>(0,V.jsxs)("li",{children:[e.fieldName,":"," ",e.fieldValue&&(0,V.jsxs)("span",{children:[(0,V.jsxs)("i",{children:["\xa0 ",e.fieldValue]}),(0,V.jsx)(f.Td,{onClick:()=>O(e.fieldValue)})]})]},e.fieldValue))]})]})]})})]})})})]})},_=()=>(0,V.jsx)(S,{})},12110:(e,n,i)=>{i.d(n,{A:()=>g});var l=i(58168),s=i(98587),a=i(65043),d=i(58387),t=i(98610),r=i(34535),o=i(6431),c=i(63336),x=i(92532),f=i(72372);function u(e){return(0,f.Ay)("MuiCard",e)}(0,x.A)("MuiCard",["root"]);var p=i(70579);const h=["className","raised"],m=(0,r.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})(()=>({overflow:"hidden"})),g=a.forwardRef(function(e,n){const i=(0,o.b)({props:e,name:"MuiCard"}),{className:a,raised:r=!1}=i,c=(0,s.A)(i,h),x=(0,l.A)({},i,{raised:r}),f=(e=>{const{classes:n}=e;return(0,t.A)({root:["root"]},u,n)})(x);return(0,p.jsx)(m,(0,l.A)({className:(0,d.A)(f.root,a),elevation:r?8:void 0,ref:n,ownerState:x},c))})},69990:(e,n,i)=>{i.d(n,{A:()=>a});var l=i(65043),s=i(47503);const a=function(){const[e,n]=(0,l.useState)(null);return[e,async e=>{var i;if(null===(i=navigator)||void 0===i||!i.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),s.oR.success("Nusxa olindi!"),!0}catch(l){return console.warn("Copy failed",l),n(null),!1}}]}}}]);
//# sourceMappingURL=622.0810c50a.chunk.js.map