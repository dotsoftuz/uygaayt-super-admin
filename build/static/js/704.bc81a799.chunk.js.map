{"version":3,"file":"static/js/704.bc81a799.chunk.js","mappings":"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","sources":["pages/payment-method/components/PaymentMethodForm.tsx","pages/payment-method/index.tsx","pages/payment-method/container/PaymentMethod.tsx","pages/payment-method/container/payment-method.columns.tsx"],"sourcesContent":["import { FC, useEffect } from \"react\";\nimport { Grid, Typography } from \"@mui/material\";\nimport { ImageInput, TextInput } from \"components\";\nimport { Controller, UseFormReturn } from \"react-hook-form\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\n\ninterface IEmployeesForm {\n  formStore: UseFormReturn<any>;\n  editingPaymentMethodId: string | undefined;\n  resetForm: () => void;\n}\n\nconst PaymentMethodForm: FC<IEmployeesForm> = ({\n  formStore,\n  editingPaymentMethodId,\n  resetForm,\n}) => {\n  const { t } = useTranslation();\n  const { control, handleSubmit, reset, watch, setValue } = formStore;\n\n  const { mutate, status } = useApiMutation(\n    editingPaymentMethodId ? `/payment-method/update` : \"/payment-method/create\",\n    editingPaymentMethodId ? \"put\" : \"post\"\n  );\n\n  const { data: getByIdData, status: getByIdStatus } = useApi(\n    `payment-method/get-by-id/${editingPaymentMethodId}`,\n    {},\n    {\n      enabled: !!editingPaymentMethodId,\n      suspense: false,\n    }\n  );\n\n  useEffect(() => {\n    if (status === \"success\") {\n      resetForm(); // Reset form after successful submission\n    }\n  }, [status]);\n\n  const submit = (data: any) => {\n    mutate({\n      _id: editingPaymentMethodId,\n      ...data,\n      link: data.link.url\n    });\n  };\n\n  useEffect(() => {\n    if (getByIdStatus === \"success\") {\n      reset({\n        name: getByIdData.data.name,\n        link: getByIdData.data.link\n      });\n    }\n  }, [getByIdStatus, getByIdData]);\n\n  useEffect(() => {\n    // Reset the form if editingAttributeId changes to undefined (for create mode)\n    if (!editingPaymentMethodId) {\n      reset({\n        name: \"\",\n        link: \"\",\n      });\n    }\n  }, [editingPaymentMethodId, reset]);\n\n  return (\n    <div className=\"custom-drawer\">\n      <form id=\"payment-method\" onSubmit={handleSubmit(submit)}>\n        <Grid container spacing={2}>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"name\"\n              label={t('common.title')}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <label className=\"py-2\" htmlFor=\"\">QR code</label><br /><br />\n            <ImageInput rules={{ required: false }} control={control} setValue={setValue} name=\"link\" /><br />\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label>\n          </Grid>\n        </Grid>\n      </form>\n    </div>\n  );\n};\n\nexport default PaymentMethodForm;\n","import Attribute from \"./container/PaymentMethod\";\n\nexport default Attribute;\n","import { FormDrawer, Table } from \"components\";\nimport { useMemo, useState } from \"react\";\nimport { usePaymentMethodColumns } from \"./payment-method.columns\";\nimport { useAppDispatch } from \"../../../store/storeHooks\";\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\nimport { useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\nimport PaymentMethodForm from \"../components/PaymentMethodForm\";\n\nconst PaymentMethod = () => {\n  const [editingPaymentMethodId, setEditingPaymentMethodId] = useState<any>();\n  const [paymentMethodId, setPaymentMethodId] = useState<any>();\n  const columns = usePaymentMethodColumns();\n  const hasAccess = useRoleManager();\n  const { t } = useTranslation();\n  const dis = useAppDispatch();\n  const formStore = useForm<any>();\n\n  const resetForm = () => {\n    setEditingPaymentMethodId(undefined);\n    formStore.reset({\n      name: \"\",\n    });\n  };\n\n  const queryParams = useMemo(() => ({\n\n  }), []);\n\n  return (\n    <>\n      <Table\n        dataUrl=\"payment-method/paging\"\n        columns={columns}\n        searchable\n        onAddButton={() => {\n          dis(setOpenDrawer(true));\n        }}\n        onEditColumn={(row) => {\n          setEditingPaymentMethodId(row._id);\n          dis(setOpenDrawer(true));\n        }}\n        onDeleteColumn={(row) => setPaymentMethodId(row._id)}\n        exQueryParams={queryParams}\n      />\n      <WarningModal open={paymentMethodId} setOpen={setPaymentMethodId} url=\"payment-method/delete\" />\n      <FormDrawer\n        FORM_ID=\"payment-method\"\n        isEditing={!!editingPaymentMethodId}\n        customTitle={t(\"general.payment_method\")}\n        onClose={resetForm}\n      >\n        <PaymentMethodForm\n          formStore={formStore}\n          resetForm={resetForm}\n          editingPaymentMethodId={editingPaymentMethodId}\n        />\n      </FormDrawer>\n    </>\n  );\n};\n\nexport default PaymentMethod;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { Tooltip } from \"antd\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const usePaymentMethodColumns = (): GridColumns => {\n  const { t } = useTranslation();\n\n  return [\n    {\n      field: t(\"common.name\"),\n      renderCell({ row }) {\n        const title = row?.name;\n        const truncatedTitle = title?.length > 50 ? `${title.substring(0, 50)}...` : title;\n    \n        return (\n          <Tooltip title={title} arrow>\n            <span>{truncatedTitle}</span>\n          </Tooltip>\n        );\n      },\n    }\n    \n    // {\n    //   field: t(\"common.store\"),\n    //   renderCell({ row }) {\n    //     return get(row, \"store.name\", \"-\");\n    //   },\n    // },\n  ];\n};\n"],"names":["formStore","editingPaymentMethodId","resetForm","t","useTranslation","control","handleSubmit","reset","setValue","watch","useApiMutation","mutate","status","useApi","enabled","suspense","getByIdData","data","getByIdStatus","useEffect","name","link","className","id","onSubmit","_id","url","Grid","container","spacing","item","md","label","htmlFor","rules","required","useState","setEditingPaymentMethodId","paymentMethodId","setPaymentMethodId","columns","field","renderCell","row","title","truncatedTitle","length","substring","arrow","useRoleManager","dis","useAppDispatch","useForm","undefined","queryParams","useMemo","dataUrl","searchable","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","exQueryParams","WarningModal","open","setOpen","FORM_ID","isEditing","customTitle","onClose"],"sourceRoot":""}