{"version":3,"file":"static/js/310.0fe5fb2e.chunk.js","mappings":"6LAEaA,E,SAAoBC,QAAAA,IAAU,y9C,qHCkF3C,EA1EoB,WAClB,IAAMC,ICJSC,EAAAA,EAAAA,MAANC,EAED,CAOJ,CACGC,MAAO,SACPC,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OACG,iBACGC,MAAO,CACJC,MAAoB,WAAbF,EAAIG,KAAoB,UAAY,WAC5C,SAEY,WAAbH,EAAIG,KAAiB,YAAOC,EAAAA,EAAAA,GAAaJ,EAAIK,SAAO,YAASD,EAAAA,EAAAA,GAAaJ,EAAIK,UAGxF,GAEH,CACGP,MAAO,OACPC,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OAAOA,EAAIM,WAAaC,IAAMP,EAAIM,WAAWE,OAAO,mBACvD,GAEH,CACGV,MAAO,OACPC,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OAAO,SAACS,EAAA,EAAO,CAACC,MAAOV,EAAIW,QAASC,UAAU,MAAK,UAAC,iBAAMC,UAAU,UAAS,SAAEb,EAAIW,WACtF,KD1BUG,GACbC,EAAAA,EAAAA,KADFC,MAASC,KAGLC,GACJ,SAACC,EAAA,GAAI,CAACC,WAAS,EAACC,MAAO,IAAKC,QAAS,EAAE,UACrC,SAACH,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,SAAC,KAAe,QAMtB,GAAgCC,EAAAA,EAAAA,IAAe,gBAAiB,OAAQ,CACtEC,UAAS,WAEPC,GACF,IAJMC,EAAM,EAANA,OAAQD,EAAK,EAALA,MAAOV,EAAI,EAAJA,KAkBvB,OAVAY,EAAAA,EAAAA,YAAU,WACRD,EAAO,CAGL,EAEJ,GAAG,CAACA,IAEJE,QAAQC,IAAId,IAGV,UAACxB,EAAiB,YAChB,UAAC0B,EAAA,GAAI,CAACC,WAAS,EAACE,QAAS,EAAGU,GAAI,EAAE,WAChC,SAACb,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,iBAAKX,UAAU,gBAAe,WAC5B,kBAAMA,UAAU,SAAQ,WACrBT,EAAAA,EAAAA,GAAiB,OAAJa,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKZ,QAAS,KACjC4B,EAAAA,EAAAA,KAAInB,EAAc,WAAY,WAEjC,iBAAMD,UAAU,OAAM,SAAC,yBAG3B,SAACM,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,iBAAKX,UAAU,UAAS,WACtB,iBAAKA,UAAU,iBAAgB,WAC7B,iBAAMA,UAAU,QAAO,SAAC,iCACxB,kBAAMA,UAAU,SAAQ,WACrBT,EAAAA,EAAAA,GAAiB,OAAJa,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKiB,QAAS,KACjCD,EAAAA,EAAAA,KAAInB,EAAc,WAAY,cAGnC,iBAAKD,UAAU,iBAAgB,WAC7B,iBAAMA,UAAU,QAAO,SAAC,gCACxB,kBAAMA,UAAU,SAAQ,WACrBT,EAAAA,EAAAA,GAAiB,OAAJa,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKkB,SAAU,KAClCF,EAAAA,EAAAA,KAAInB,EAAc,WAAY,sBAMzC,SAAC,KAAK,CACJnB,QAASA,EACTyC,QAAQ,iBACRC,eAAgBnB,MAIxB,EE5EA,EAJc,WACX,OAAO,SAAC,EAAW,GACtB,C,wDCJO,IAAMd,EAAe,SAACkC,GAI3B,OAAIA,GAAoB,GAAVA,EACLA,EAAOC,iBAAiBC,WAAW,IAAK,KAE1C,EACT,C","sources":["pages/transaction/container/Transaction.styled.ts","pages/transaction/container/Transaction.tsx","pages/transaction/container/transaction.columns.tsx","pages/transaction/index.tsx","utils/numberFormat.ts"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const TransactionStyled = styled.div`\n  padding: 20px;\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  margin-top: 10px;\n  .total-balance {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100px;\n    border-radius: 12px;\n    background: #f3f3f8;\n    .amount {\n      font-size: 24px;\n      font-weight: 500;\n    }\n    .text {\n      color: #888a99;\n      font-size: 14px;\n      font-weight: 500;\n    }\n  }\n  .balance {\n    height: 100px;\n    border-radius: 12px;\n    background: #f3f3f8;\n    padding: 14px;\n    .amount-wrapper {\n      display: flex;\n      justify-content: space-between;\n      border-radius: 6px;\n      background: #e2e2eb;\n      padding: 9px 16px;\n      border-radius: 6px;\n      &:first-of-type {\n        margin-bottom: 7px;\n        border-left: 5px solid #17c657;\n      }\n      &:last-of-type {\n        border-left: 5px solid #eb5757;\n      }\n      .title {\n        font-size: 13px;\n        color: #333;\n      }\n      .amount {\n        font-size: 13px;\n        font-weight: 600;\n      }\n    }\n  }\n  .buttons {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100px;\n    .income {\n      background-color: #17c657 !important;\n    }\n    .outcome {\n      background-color: #eb5757 !important;\n    }\n  }\n  .comment {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n","import { Grid } from \"@mui/material\";\nimport { TransactionStyled } from \"./Transaction.styled\";\nimport { RangeDatePicker, Table } from \"components\";\nimport { useTransactionColumns } from \"./transaction.columns\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { numberFormat } from \"utils/numberFormat\";\nimport useCommonContext from \"context/useCommon\";\nimport { get } from \"lodash\";\nimport { useEffect } from \"react\";\n\nconst Transaction = () => {\n  const columns = useTransactionColumns();\n\n  const {\n    state: { data: settingsData },\n  } = useCommonContext();\n\n  const renderHeader = (\n    <Grid container width={235} spacing={2}>\n      <Grid item sm={6}>\n        <RangeDatePicker />\n      </Grid>\n    </Grid>\n  );\n\n\n  const { mutate, reset, data } = useApiMutation(\"balance/total\", \"post\", {\n    onSuccess() {\n      // toast.success(t(\"general.success\"));\n      reset();\n    },\n  });\n\n\n  useEffect(() => {\n    mutate({\n      // ...queryParams,\n      // ...allParams,\n      // ...exQueryParams,\n    });\n  }, [mutate]);\n\n  console.log(data)\n\n  return (\n    <TransactionStyled>\n      <Grid container spacing={2} mb={2}>\n        <Grid item sm={6}>\n          <div className=\"total-balance\">\n            <span className=\"amount\">\n              {numberFormat(data?.data.amount)}{\" \"}\n              {get(settingsData, \"currency\", \"uzs\")}\n            </span>\n            <span className=\"text\">umumiy balansi</span>\n          </div>\n        </Grid>\n        <Grid item sm={6}>\n          <div className=\"balance\">\n            <div className=\"amount-wrapper\">\n              <span className=\"title\">Umumiy to'ldirilgan miqdor:</span>\n              <span className=\"amount\">\n                {numberFormat(data?.data.income)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n            <div className=\"amount-wrapper\">\n              <span className=\"title\">Umumiy chiqarilgan miqdor:</span>\n              <span className=\"amount\">\n                {numberFormat(data?.data.expence)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n          </div>\n        </Grid>\n      </Grid>\n      <Table\n        columns={columns}\n        dataUrl=\"balance/paging\"\n        headerChildren={renderHeader}\n      />\n    </TransactionStyled>\n  );\n};\n\nexport default Transaction;\n","import { Tooltip } from \"@mui/material\";\nimport { GridColumns } from \"@mui/x-data-grid\";\nimport dayjs from \"dayjs\";\nimport { useTranslation } from \"react-i18next\";\nimport { numberFormat } from \"utils/numberFormat\";\n\nexport const useTransactionColumns = (): GridColumns => {\n   const { t } = useTranslation();\n\n   return [\n      // {\n      //    field: \"Do'kon nomi\",\n      //    renderCell({ row }) {\n      //       return row.store?.name;\n      //    },\n      // },\n      {\n         field: \"Miqdor\",\n         renderCell({ row }) {\n            return (\n               <span\n                  style={{\n                     color: row.type === 'income' ? \"#17C657\" : \"#EB5757\"\n                  }}\n               >\n                  {row.type === 'income' ? `+${numberFormat(row.amount)}` : `-${numberFormat(row.amount)}`}\n               </span>\n            )\n         },\n      },\n      {\n         field: \"Sana\",\n         renderCell({ row }) {\n            return row.createdAt && dayjs(row.createdAt).format('DD.MM.YYYY HH:mm');\n         },\n      },\n      {\n         field: \"Izoh\",\n         renderCell({ row }) {\n            return <Tooltip title={row.comment} placement=\"top\"><span className=\"comment\">{row.comment}</span></Tooltip>\n         },\n      },\n   ];\n};\n","import Transaction from './container/Transaction'\n\nconst index = () => {\n   return <Transaction />\n}\n\nexport default index\n","export const numberFormat = (number: any) => {\n  // if (number?.toString()?.includes(\".\")) {\n  //   return number?.toString();\n  // }\n  if (number || number == 0) {\n    return number.toLocaleString().replaceAll(\",\", \" \");\n  }\n  return \"\";\n};\n"],"names":["TransactionStyled","styled","columns","useTranslation","t","field","renderCell","row","style","color","type","numberFormat","amount","createdAt","dayjs","format","Tooltip","title","comment","placement","className","settingsData","useCommonContext","state","data","renderHeader","Grid","container","width","spacing","item","sm","useApiMutation","onSuccess","reset","mutate","useEffect","console","log","mb","get","income","expence","dataUrl","headerChildren","number","toLocaleString","replaceAll"],"sourceRoot":""}