"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[966],{88892:function(e,n,r){var t=r(29439),i=r(72791),a=r(73405),o=r(80184);n.Z=function(e){var n=e.getCoordinate,r=e.center,s=e.height,l=(0,i.useState)(r),c=(0,t.Z)(l,2),d=c[0],u=c[1],m=(0,i.useRef)(null);(0,i.useEffect)((function(){r&&(u(r),m.current&&m.current.setCenter([r.latitude,r.longitude]))}),[r]);return(0,o.jsx)(a.Yy,{children:(0,o.jsxs)(a.D5,{width:"100%",height:s||"500px",defaultState:{center:null!==r&&void 0!==r&&r.latitude?[null===r||void 0===r?void 0:r.latitude,null===r||void 0===r?void 0:r.longitude]:[41.315163390767026,69.27958692367339],zoom:14,behaviors:["default","scrollZoom"]},instanceRef:function(e){m.current=e},onClick:function(e){var r={latitude:e.get("coords")[0],longitude:e.get("coords")[1]};u(r),n(r)},children:[(0,o.jsx)(a.ah,{geometry:[null===d||void 0===d?void 0:d.latitude,null===d||void 0===d?void 0:d.longitude]}),(0,o.jsx)(a.ot,{}),(0,o.jsx)(a.Bo,{options:{float:"left"},onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var r={latitude:e.coords.latitude,longitude:e.coords.longitude};u(r),n(r),m.current&&m.current.setCenter([r.latitude,r.longitude],14)}),(function(e){console.error("Geolocation error:",e)})):console.error("Geolocation is not supported by this browser.")}}),(0,o.jsx)(a.Sj,{options:{float:"right"}}),(0,o.jsx)(a.Ly,{options:{float:"right"}})]})})}},1903:function(e,n,r){r.d(n,{Z:function(){return l}});var t,i=r(30168),a=r(47191),o=(0,r(17939).default)(a.LD)(t||(t=(0,i.Z)(["\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n"]))),s=r(80184),l=function(e){var n=e.value,r=e.onChange,t=e.onImageUpload,i=e.isError,a=e.type;return(0,s.jsx)(o,{controls:[["bold","italic","underline","strike","clean","unorderedList","orderedList","alignLeft","alignCenter","alignRight"]],isError:!!i,value:n,onChange:r,onImageUpload:t,type:a})}},95894:function(e,n,r){r.d(n,{Z:function(){return x}});var t,i,a=r(72791),o=r(61134),s=r(30168),l=r(17939),c=((0,l.default)("div")(t||(t=(0,s.Z)(['\n  border: 1px solid;\n  border-color: "grey" !important;\n  outline: none;\n']))),(0,l.default)("div")(i||(i=(0,s.Z)(["\n  .react-time-picker {\n    width: 100%;\n    .react-time-picker__wrapper {\n      width: 100%;\n      border-radius: 8px;\n      border: 1px solid #d9d9d9;\n      box-sizing: border-box;\n      color: #333333 !important;\n      padding: 9px 16px;\n      font-size: 16px;\n      line-height: 20px;\n      letter-spacing: -0.02em;\n      outline: none;\n      font-weight: 500;\n      transition: all 0.1s ease-out;\n      font-weight: 500;\n      transition: 0.2s ease all;\n      .react-time-picker__inputGroup {\n        input {\n          outline-color: #949494;\n        }\n      }\n    }\n    .react-time-picker__clock {\n      display: none;\n    }\n  }\n"])))),d=r(64717),u=r(39230),m=r(80184),p=function(e){var n=e.control,r=e.name,t=e.errors,i=e.rules,a=e.label,s=(0,u.$G)().t;return(0,m.jsxs)(c,{children:[a&&(0,m.jsx)("label",{className:"custom-label",children:a}),(0,m.jsx)(o.Qr,{control:n,name:r,rules:i,render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,m.jsx)(d.Z,{clockIcon:null,className:"time-picker",onChange:r,value:t,format:"HH:mm",hourPlaceholder:"HH",minutePlaceholder:"mm",locale:"uz-UZ"})}}),!!t[r]&&(0,m.jsx)("h6",{className:"text-error mt-1",children:s("general.required")})]})},x=(0,a.memo)(p)},87910:function(e,n,r){var t=r(74165),i=r(15861),a=r(29439),o=r(72791),s=r(75985);n.Z=function(){var e=(0,o.useState)(null),n=(0,a.Z)(e,2),r=n[0],l=n[1],c=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=navigator)&&void 0!==r&&r.clipboard){e.next=3;break}return console.warn("Clipboard not supported"),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,navigator.clipboard.writeText(n);case 6:return l(n),s.Am.success("Nusxa olindi!"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),console.warn("Copy failed",e.t0),l(null),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return[r,c]}},90610:function(e,n,r){r.r(n),r.d(n,{default:function(){return Ie}});var t,i=r(74165),a=r(93433),o=r(15861),s=r(1413),l=r(29439),c=r(61889),d=r(94721),u=r(94925),m=r(697),p=r(94294),x=r(57621),h=r(39504),f=r(93044),g=r(20890),v=r(369),b=r(81918),Z=r(30168),j=r(17939).default.div(t||(t=(0,Z.Z)(["\n  padding: 20px;\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  .working-time {\n    > div {\n      width: 48%;\n    }\n  }\n  .address-options {\n    position: absolute;\n    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n    padding: 10px 0;\n    border-radius: 10px;\n    background-color: #fff;\n    max-height: 300px;\n    overflow: auto;\n    z-index: 10;\n    .option {\n      padding: 8px 15px;\n      cursor: pointer;\n      &:hover {\n        background-color: #f5f5f5;\n      }\n    }\n  }\n  .save-btn {\n    text-align: right;\n  }\n\n  .copyBtn {\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n    background-color: #f5f5f5;\n\n    svg {\n      path {\n        fill: blue;\n      }\n    }\n  }\n"]))),y=r(71796),k=r(61134),w=r(39230),C=r(1903),S=r(95894),z=r(32188),P=r(72791),I=r(88892),N=r(71257),T=r(87910),_=r(5397),A=r(76189),M=r(80184),q=(0,A.Z)((0,M.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),R=r(76086),E=(0,A.Z)((0,M.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),W=(0,A.Z)((0,M.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),L=(0,A.Z)((0,M.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),F=r(37762),D=r(13400),U=r(94454),O=r(5574),$=r(87462),V=r(63366),B=r(59278),H=r(94419),X=r(66934),K=r(98357),G=r(17673),Q=r(85090),Y=["className","id"],J=(0,X.ZP)(g.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),ee=P.forwardRef((function(e,n){var r=(0,K.i)({props:e,name:"MuiDialogTitle"}),t=r.className,i=r.id,a=(0,V.Z)(r,Y),o=r,s=function(e){var n=e.classes;return(0,H.Z)({root:["root"]},G.a,n)}(o),l=P.useContext(Q.Z).titleId,c=void 0===l?i:l;return(0,M.jsx)(J,(0,$.Z)({component:"h2",className:(0,B.Z)(s.root,t),ownerState:o,ref:n,variant:"h6",id:null!=i?i:c},a))})),ne=r(39157),re=r(27391),te=r(75878),ie=r(21217);function ae(e){return(0,ie.ZP)("MuiCardMedia",e)}(0,te.Z)("MuiCardMedia",["root","media","img"]);var oe=["children","className","component","image","src","style"],se=(0,X.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState,t=r.isMediaComponent,i=r.isImageComponent;return[n.root,t&&n.media,i&&n.img]}})((function(e){var n=e.ownerState;return(0,$.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),le=["video","audio","picture","iframe","img"],ce=["picture","img"],de=P.forwardRef((function(e,n){var r=(0,K.i)({props:e,name:"MuiCardMedia"}),t=r.children,i=r.className,a=r.component,o=void 0===a?"div":a,s=r.image,l=r.src,c=r.style,d=(0,V.Z)(r,oe),u=-1!==le.indexOf(o),m=!u&&s?(0,$.Z)({backgroundImage:'url("'.concat(s,'")')},c):c,p=(0,$.Z)({},r,{component:o,isMediaComponent:u,isImageComponent:-1!==ce.indexOf(o)}),x=function(e){var n=e.classes,r={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,H.Z)(r,ae,n)}(p);return(0,M.jsx)(se,(0,$.Z)({className:(0,B.Z)(x.root,i),as:o,role:!u&&s?"img":void 0,ref:n,style:m,ownerState:p,src:u?s||l:void 0},d,{children:t}))})),ue=r(13239),me=r(74989),pe=r(89891),xe=r(97123),he=r(75985),fe=(0,A.Z)((0,M.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),ge=(0,A.Z)((0,M.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),ve=(0,A.Z)((0,M.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),be=(0,A.Z)((0,M.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Ze=r(72081),je=r(93502),ye=function(e){return e?"object"===typeof e&&e.$oid?String(e.$oid):"object"===typeof e&&e.toString?String(e.toString()):String(e):null},ke=[{id:"paper-bag",name:{uz:"Qog'oz paket",ru:"\u0411\u0443\u043c\u0430\u0436\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442",en:"Paper bag"},image:"/assets/packages/paper-bag.jpeg"},{id:"plastic-container",name:{uz:"Plastik idish",ru:"\u041f\u043b\u0430\u0441\u0442\u0438\u043a\u043e\u0432\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440",en:"Plastic container"},image:"/assets/packages/plastic-container.jpg"},{id:"plastic-package",name:{uz:"Plastik paket",ru:"\u041f\u043b\u0430\u0441\u0442\u0438\u043a\u043e\u0432\u0430\u044f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430",en:"Plastic package"},image:"/assets/packages/plastic-package.webp"},{id:"reusable-bag",name:{uz:"Mato sumka",ru:"\u0422\u043a\u0430\u043d\u0435\u0432\u0430\u044f \u0441\u0443\u043c\u043a\u0430",en:"Fabric bag"},image:"/assets/packages/reusable-bag.jpeg"}],we=["image/jpeg","image/jpg","image/png","image/webp"];function Ce(e,n,r){return new Promise((function(t){var i=new FileReader;i.onload=function(i){var a,o=new Image;o.onload=function(){var i=o.width,a=o.height;i>a?i>n&&(a=a*n/i,i=n):a>r&&(i=i*r/a,a=r);var s=document.createElement("canvas");s.width=i,s.height=a;var l=s.getContext("2d");l?(l.drawImage(o,0,0,i,a),s.toBlob((function(n){t(n?new File([n],e.name,{type:e.type}):e)}),e.type,.9)):t(e)},o.src=null===(a=i.target)||void 0===a?void 0:a.result},i.readAsDataURL(e)}))}var Se=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,r,t,s,l,c,d,u,m,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=200,t=function(e){return e?"object"===typeof e&&e.toString?e.toString():String(e):null},s=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,o,s,l,c,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1,o=!0;case 2:if(!o){e.next=14;break}return e.next=5,Ze.Z.post("/category/paging",{page:t,limit:r});case 5:c=e.sent,d=[],null!==c&&void 0!==c&&c.data&&Array.isArray(c.data)?d=c.data:null!==c&&void 0!==c&&null!==(s=c.data)&&void 0!==s&&s.data&&Array.isArray(c.data.data)&&(d=c.data.data),n.push.apply(n,(0,a.Z)(d)),u=(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.total)||0,o=d.length===r&&n.length<u,t++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(o){var s,c,d,u,m,p,x,h,f,g,v,b,Z,j;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t(o)){e.next=3;break}return e.abrupt("return");case 3:c=1,d=!0,u=[];case 6:if(!d){e.next=20;break}return e.next=9,Ze.Z.post("/category/paging",{page:c,limit:r,parentId:s});case 9:x=e.sent,h=[],null!==x&&void 0!==x&&x.data&&Array.isArray(x.data)?h=x.data:null!==x&&void 0!==x&&null!==(m=x.data)&&void 0!==m&&m.data&&Array.isArray(x.data.data)&&(h=x.data.data),f=h.filter((function(e){var r=t(e._id);return!n.some((function(e){return t(e._id)===r}))})),u.push.apply(u,(0,a.Z)(f)),n.push.apply(n,(0,a.Z)(f)),g=(null===x||void 0===x||null===(p=x.data)||void 0===p?void 0:p.total)||0,d=h.length===r&&u.length<g,c++,e.next=6;break;case 20:v=0,b=u;case 21:if(!(v<b.length)){e.next=30;break}if(Z=b[v],!(j=t(Z._id))){e.next=27;break}return e.next=27,l(j);case 27:v++,e.next=21;break;case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.next=7,s();case 7:c=[].concat(n),d=(0,F.Z)(c),e.prev=9,d.s();case 11:if((u=d.n()).done){e.next=19;break}if(m=u.value,!(p=t(m._id))){e.next=17;break}return e.next=17,l(p);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),d.e(e.t0);case 24:return e.prev=24,d.f(),e.finish(24);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),ze=function(e){var n=e.open,r=e.onClose,t=e.packageItem,d=e.onSave,u=(0,P.useState)([]),f=(0,l.Z)(u,2),v=f[0],b=f[1],Z=(0,P.useState)(void 0),j=(0,l.Z)(Z,2),y=j[0],w=j[1],C=(0,P.useState)([]),S=(0,l.Z)(C,2),z=S[0],I=S[1],N=(0,P.useState)(!1),T=(0,l.Z)(N,2),_=T[0],A=T[1],q=(0,P.useState)(new Set),R=(0,l.Z)(q,2),W=R[0],L=R[1],F=(0,P.useState)(null),$=(0,l.Z)(F,2),V=$[0],B=$[1],H=(0,P.useState)(null),X=(0,l.Z)(H,2),K=X[0],G=X[1],Q=(0,P.useState)(null),Y=(0,l.Z)(Q,2),J=Y[0],te=Y[1],ie=(0,P.useState)(!1),ae=(0,l.Z)(ie,2),oe=ae[0],se=ae[1],le=(0,P.useRef)(null),ce=(0,P.useRef)(null),Ze=(0,je.Z)((function(e){if(null!==e&&void 0!==e&&e._id){w(e._id);var n="http://localhost:3003/v1".replace(/\/$/,""),r=e.url||"";r.startsWith("uploads/")&&(r=r.replace("uploads/","")),r&&!r.startsWith("http")?te("".concat(n,"/uploads/").concat(r)):r&&te(r),le.current&&(ce.current&&(clearTimeout(ce.current),ce.current=null),le.current.resolve(e._id),le.current=null)}})),ze=Ze.uploadImage,Pe=Ze.isUploading,Ie=oe||Pe,Ne=(0,k.cI)({defaultValues:{nameUz:"",nameRu:"",nameEn:"",price:0,isActive:!0,imageId:void 0}}),Te=(Ne.control,Ne.handleSubmit),_e=Ne.reset,Ae=(Ne.setValue,Ne.watch),Me=Ne.register;(0,P.useEffect)((function(){n&&Se().then((function(e){I(e),L(new Set)})).catch((function(e){console.error("Error fetching categories:",e),he.Am.error("Kategoriyalarni yuklashda xatolik")}))}),[n]);var qe=(0,P.useMemo)((function(){return function(e){if(!e||0===e.length)return[];var n=e.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{_id:ye(e._id)||e._id,parentId:ye(e.parentId)||e.parentId})})),r=new Map;n.forEach((function(e){r.set(e._id,(0,s.Z)((0,s.Z)({},e),{},{children:[]}))}));var t=[];return n.forEach((function(e){var n=r.get(e._id);if(e.parentId&&r.has(e.parentId)){var i=r.get(e.parentId);i&&i.children.push(n)}else t.push(n)})),function e(n){return n.map((function(n){return(0,s.Z)((0,s.Z)({},n),{},{children:n.children&&n.children.length>0?e(n.children):void 0})}))}(t)}(z)}),[z]);(0,P.useEffect)((function(){var e,r,i,a;if(n&&t)if(_e({nameUz:(null===(e=t.name)||void 0===e?void 0:e.uz)||"",nameRu:(null===(r=t.name)||void 0===r?void 0:r.ru)||"",nameEn:(null===(i=t.name)||void 0===i?void 0:i.en)||"",price:t.price||0,isActive:void 0===t.isActive||t.isActive}),b((null===(a=t.categoryIds)||void 0===a?void 0:a.map((function(e){return String(e)})))||[]),w(t.imageId),t.image){var o,s,l="http://localhost:3003/v1".replace(/\/$/,"");(s="object"===typeof t.image&&null!==(o=t.image)&&void 0!==o&&o.url?t.image.url:"string"===typeof t.image?t.image:"")&&s.startsWith("uploads/")&&(s=s.replace("uploads/","")),s&&!s.startsWith("http")?te("".concat(l,"/uploads/").concat(s)):s&&te(s),B(null),G(null)}else te(null),B(null),G(null);else n&&!t&&(_e({nameUz:"",nameRu:"",nameEn:"",price:0,isActive:!0}),b([]),w(void 0),te(null),B(null),G(null))}),[n,t,_e]);var Re=function e(n){var r=[];return n.children&&n.children.length>0&&n.children.forEach((function(n){r.push(String(n._id)),r.push.apply(r,(0,a.Z)(e(n)))})),r},Ee=function(e,n){var r,t=String(e);if(v.includes(t)){if(r=v.filter((function(e){return e!==t})),n&&n.children&&n.children.length>0){var i=Re(n);r=r.filter((function(e){return!i.includes(e)}))}}else r=[].concat((0,a.Z)(v),[t]),n&&n.children&&n.children.length>0&&Re(n).forEach((function(e){r.includes(e)||r.push(e)}));b(r)},We=function(e){var n=new Set(W);n.has(e)?n.delete(e):n.add(e),L(n)},Le=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=String(n._id),i=v.includes(t),a=n.children&&n.children.length>0,o=W.has(t),s=a?Re(n):[],l=a&&s.every((function(e){return v.includes(e)})),c=a&&s.some((function(e){return v.includes(e)}));return(0,M.jsxs)(m.Z,{sx:{mb:.5},children:[(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",pl:2*r},children:[a?(0,M.jsx)(D.Z,{size:"small",onClick:function(){return We(t)},sx:{p:.5,mr:.5},children:o?(0,M.jsx)(fe,{}):(0,M.jsx)(ge,{})}):(0,M.jsx)(m.Z,{sx:{width:32}}),(0,M.jsx)(U.Z,{checked:i||l,indeterminate:c&&!l&&!i,onChange:function(){return Ee(t,n)},size:"small"}),(0,M.jsx)(g.Z,{variant:"body2",onClick:function(){return Ee(t,n)},sx:{cursor:"pointer",flex:1,ml:1},children:Fe(n)})]}),a&&o&&(0,M.jsx)(m.Z,{sx:{pl:2},children:n.children.map((function(n){return e(n,r+1)}))})]},t)},Fe=function(e){var n,r,t=localStorage.getItem("i18nextLng")||"uz";return(null===(n=e.name)||void 0===n?void 0:n[t])||(null===(r=e.name)||void 0===r?void 0:r.uz)||e.name||"Kategoriya"},De=function(e){var n,r,t=localStorage.getItem("i18nextLng")||"uz";return(null===(n=e.name)||void 0===n?void 0:n[t])||(null===(r=e.name)||void 0===r?void 0:r.uz)||e.id},Ue=(0,P.useCallback)(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var r,t,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===(r=n.target.files)||void 0===r?void 0:r[0]){e.next=3;break}return e.abrupt("return");case 3:if(!(t.size>5242880)){e.next=6;break}return he.Am.error("Fayl hajmi 5MB dan katta"),e.abrupt("return");case 6:if(we.includes(t.type)){e.next=9;break}return he.Am.error("Noto'g'ri fayl formati"),e.abrupt("return");case 9:return se(!0),B(null),G(t),e.prev=12,a=URL.createObjectURL(t),te(a),e.next=17,Ce(t,800,800);case 17:o=e.sent,ze({imageFile:o,id:"uploaded-file"}),he.Am.success("Rasm yuklandi"),e.next=29;break;case 22:e.prev=22,e.t0=e.catch(12),console.error("Error uploading image:",e.t0),he.Am.error("Rasmni yuklashda xatolik yuz berdi"),te(null),G(null),se(!1);case 29:case"end":return e.stop()}}),e,null,[[12,22]])})));return function(n){return e.apply(this,arguments)}}(),[ze]),Oe=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){le.current={resolve:e,reject:r},ce.current=setTimeout((function(){le.current&&(le.current=null,r(new Error("Upload timeout")))}),3e4),fetch(n.image).then((function(e){return e.blob()})).then((function(e){var r=n.image.split("/").pop()||"image";return Ce(new File([e],r,{type:e.type}),800,800)})).then((function(e){ze({imageFile:e,id:"package-option"})})).catch((function(e){ce.current&&(clearTimeout(ce.current),ce.current=null),le.current=null,r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var a,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y||V||K){e.next=3;break}return he.Am.error("Rasm tanlash yoki yuklash majburiy"),e.abrupt("return");case 3:if(A(!0),se(!0),e.prev=5,a=y,!V||y){e.next=23;break}if(!(o=ke.find((function(e){return e.id===V})))){e.next=23;break}return e.prev=10,e.next=13,Oe(o);case 13:a=e.sent,e.next=23;break;case 16:return e.prev=16,e.t0=e.catch(10),console.error("Error uploading package option image:",e.t0),he.Am.error("Rasmni yuklashda xatolik yuz berdi"),se(!1),A(!1),e.abrupt("return");case 23:if(a){e.next=28;break}return he.Am.error("Rasm yuklashda xatolik yuz berdi"),se(!1),A(!1),e.abrupt("return");case 28:return l=(0,s.Z)((0,s.Z)({},(null===t||void 0===t?void 0:t._id)&&{_id:t._id}),{},{name:{uz:n.nameUz,ru:n.nameRu,en:n.nameEn},price:Number(n.price)||0,categoryIds:v,imageId:a,isActive:n.isActive}),e.next=31,d(l);case 31:he.Am.success("Qo'shimcha item saqlandi"),r(),e.next=39;break;case 35:e.prev=35,e.t1=e.catch(5),console.error("Error saving package item:",e.t1),he.Am.error("Ma'lumotlarni saqlashda xatolik yuz berdi");case 39:return e.prev=39,A(!1),se(!1),e.finish(39);case 43:case"end":return e.stop()}}),e,null,[[5,35,39,43],[10,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,M.jsx)(O.Z,{open:n,onClose:r,maxWidth:"md",fullWidth:!0,children:(0,M.jsxs)("form",{onSubmit:Te($e),children:[(0,M.jsx)(ee,{children:t?"Qo'shimcha itemni tahrirlash":"Yangi qo'shimcha item qo'shish"}),(0,M.jsx)(ne.Z,{dividers:!0,children:(0,M.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,M.jsx)(c.ZP,{item:!0,xs:12,children:(0,M.jsx)(re.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,label:"Nom (O'zbekcha)"},Me("nameUz",{required:"O'zbekcha nom majburiy"})),{},{margin:"normal"}))}),(0,M.jsx)(c.ZP,{item:!0,xs:12,children:(0,M.jsx)(re.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,label:"Nom (Ruscha)"},Me("nameRu",{required:"Ruscha nom majburiy"})),{},{margin:"normal"}))}),(0,M.jsx)(c.ZP,{item:!0,xs:12,children:(0,M.jsx)(re.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,label:"Nom (Inglizcha)"},Me("nameEn",{required:"Inglizcha nom majburiy"})),{},{margin:"normal"}))}),(0,M.jsx)(c.ZP,{item:!0,xs:12,children:(0,M.jsx)(re.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,type:"number",label:"Narx (so'm)"},Me("price",{required:"Narx majburiy",min:{value:0,message:"Narx 0 dan katta yoki teng bo'lishi kerak"}})),{},{margin:"normal"}))}),(0,M.jsx)(c.ZP,{item:!0,xs:12,children:(0,M.jsxs)(m.Z,{sx:{mb:2},children:[(0,M.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,M.jsx)(g.Z,{variant:"subtitle2",children:"Kategoriyalar"}),(0,M.jsx)(p.Z,{variant:"outlined",size:"small",onClick:function(){var e=function e(n){var r=[];return n.forEach((function(n){r.push(String(n._id)),n.children&&n.children.length>0&&r.push.apply(r,(0,a.Z)(e(n.children)))})),r}(qe);v.length===e.length?b([]):b(e)},children:v.length===z.length?"Barchasini bekor qilish":"Barchasini tanlash"})]}),(0,M.jsx)(m.Z,{sx:{border:"1px solid #e0e0e0",borderRadius:1,p:2,maxHeight:200,overflowY:"auto"},children:0===qe.length?(0,M.jsx)(g.Z,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:"Kategoriyalar topilmadi"}):qe.map((function(e){return Le(e)}))}),(0,M.jsx)(g.Z,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Agar kategoriya tanlanmagan bo'lsa, barcha kategoriyalar uchun qo'shiladi"})]})}),(0,M.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,M.jsxs)(g.Z,{variant:"subtitle2",sx:{mb:1},children:["Rasm ",(0,M.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,M.jsxs)(c.ZP,{container:!0,spacing:2,children:[ke.map((function(e){var n=V===e.id&&!K;return(0,M.jsx)(c.ZP,{item:!0,xs:6,sm:3,children:(0,M.jsxs)(x.Z,{sx:{cursor:Ie?"not-allowed":"pointer",border:n?2:1,borderColor:n?"primary.main":"divider",position:"relative",opacity:Ie?.5:1,"&:hover":{transform:Ie?"none":"scale(1.05)",transition:"transform 0.2s"},boxShadow:n?3:1},onClick:function(){return!Ie&&function(e){Ie||(B(e.id),G(null),w(void 0),te(e.image))}(e)},children:[(0,M.jsxs)(m.Z,{sx:{position:"relative",aspectRatio:"1"},children:[(0,M.jsx)(de,{component:"img",image:e.image,alt:De(e),sx:{width:"100%",height:"100%",objectFit:"cover"}}),n&&(0,M.jsx)(m.Z,{sx:{position:"absolute",inset:0,bgcolor:"primary.main",opacity:.2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(E,{sx:{color:"primary.main",bgcolor:"background.paper",borderRadius:"50%",p:.5,fontSize:30}})}),Ie&&V===e.id&&(0,M.jsx)(m.Z,{sx:{position:"absolute",inset:0,bgcolor:"background.paper",opacity:.8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(ue.Z,{size:24})})]}),(0,M.jsx)(h.Z,{sx:{p:1,"&:last-child":{pb:1}},children:(0,M.jsx)(g.Z,{variant:"caption",sx:{display:"block",textAlign:"center",fontWeight:"medium",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:De(e)})})]})},e.id)})),(0,M.jsx)(c.ZP,{item:!0,xs:6,sm:3,children:(0,M.jsx)(x.Z,{sx:{cursor:Ie?"not-allowed":"pointer",border:K?2:1,borderStyle:K?"solid":"dashed",borderColor:K?"primary.main":"divider",position:"relative",opacity:Ie?.5:1,"&:hover":{transform:oe?"none":"scale(1.05)",transition:"transform 0.2s"},boxShadow:K?3:1},children:J&&!V?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(m.Z,{sx:{position:"relative",aspectRatio:"1"},children:[(0,M.jsx)(de,{component:"img",image:J,alt:"Uploaded preview",sx:{width:"100%",height:"100%",objectFit:"cover"}}),(0,M.jsx)(D.Z,{size:"small",onClick:function(e){e.stopPropagation(),te(null),w(void 0),B(null),G(null)},disabled:Ie,sx:{position:"absolute",top:4,right:4,bgcolor:"error.main",color:"error.contrastText","&:hover":{bgcolor:"error.dark"}},children:(0,M.jsx)(ve,{fontSize:"small"})}),(0,M.jsx)(m.Z,{sx:{position:"absolute",inset:0,bgcolor:"primary.main",opacity:.2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(E,{sx:{color:"primary.main",bgcolor:"background.paper",borderRadius:"50%",p:.5,fontSize:30}})}),Ie&&(0,M.jsx)(m.Z,{sx:{position:"absolute",inset:0,bgcolor:"background.paper",opacity:.8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(ue.Z,{size:24})})]}),(0,M.jsx)(h.Z,{sx:{p:1,"&:last-child":{pb:1}},children:(0,M.jsx)(g.Z,{variant:"caption",sx:{display:"block",textAlign:"center",fontWeight:"medium",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"Yuklangan rasm"})})]}):(0,M.jsxs)(m.Z,{component:"label",sx:{position:"relative",aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:Ie?"not-allowed":"pointer",p:2},children:[(0,M.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Ue,style:{display:"none"},disabled:oe}),Ie&&!V?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(ue.Z,{size:32,sx:{mb:1}}),(0,M.jsx)(g.Z,{variant:"caption",color:"text.secondary",align:"center",children:"Yuklanmoqda..."})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(be,{sx:{fontSize:32,color:"text.secondary",mb:1}}),(0,M.jsx)(g.Z,{variant:"caption",fontWeight:"medium",align:"center",sx:{mb:.5},children:"Rasm yuklash"}),(0,M.jsx)(g.Z,{variant:"caption",color:"text.secondary",align:"center",children:"PNG, JPG, WEBP"})]})]})})})]}),!y&&(0,M.jsx)(g.Z,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"Rasm tanlash yoki yuklash majburiy"})]}),(0,M.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,M.jsx)(me.Z,{control:(0,M.jsx)(pe.Z,(0,s.Z)((0,s.Z)({},Me("isActive")),{},{defaultChecked:Ae("isActive")})),label:"Faol"}),(0,M.jsx)(g.Z,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"Package item faol bo'lsa, customer cart'ga avtomatik qo'shiladi"})]})]})}),(0,M.jsxs)(xe.Z,{children:[(0,M.jsx)(p.Z,{onClick:r,disabled:_,children:"Bekor qilish"}),(0,M.jsx)(p.Z,{type:"submit",variant:"contained",disabled:_,children:_?(0,M.jsx)(ue.Z,{size:20}):"Saqlash"})]})]})})};console.log("About");var Pe=function(){var e,n=(0,P.useState)(!1),r=(0,l.Z)(n,2),t=r[0],Z=r[1],A=(0,P.useState)(),F=(0,l.Z)(A,2),D=F[0],U=F[1],O=(0,P.useState)(""),$=(0,l.Z)(O,2),V=$[0],B=$[1],H=((0,N.Z)(V,1e3).debouncedValue,(0,T.Z)()),X=(0,l.Z)(H,2),K=(X[0],X[1],(0,P.useState)([])),G=(0,l.Z)(K,2),Q=G[0],Y=G[1],J=(0,P.useState)(!1),ee=(0,l.Z)(J,2),ne=ee[0],re=ee[1],te=(0,P.useState)(null),ie=(0,l.Z)(te,2),ae=ie[0],oe=ie[1],se=(0,P.useState)({}),le=(0,l.Z)(se,2),ce=le[0],de=le[1],ue=(0,k.cI)(),me=ue.control,pe=ue.setValue,xe=ue.handleSubmit,he=ue.formState,fe=ue.reset,ge=ue.watch,ve=(0,w.$G)().t,be=(0,z.h_)("store/get",{},{suspense:!1}),Ze=be.data,je=be.status,ye=(0,z.uC)("address/by-name","post",{onSuccess:function(){Z(!0)}}),ke=ye.mutate,we=ye.data;(0,P.useEffect)((function(){"string"===typeof V&&V.trim()&&ke({name:V})}),[V]);var Ce=(0,z.uC)("store/update","put").mutate,Se=(0,z.uC)("address/by-point","post",{onSuccess:function(e){var n=e.data;pe("addressName",null===n||void 0===n?void 0:n.name)}}),Pe=Se.mutate,Ie=(0,k.Dq)({control:me,name:"workDays"}),Ne=Ie.fields,Te=Ie.append,_e=Ie.remove;(0,P.useEffect)((function(){null!==D&&void 0!==D&&D.latitude&&null!==D&&void 0!==D&&D.longitude?Pe({latitude:D.latitude,longitude:D.longitude}):console.error("Coordinates are missing")}),[Pe,D]),(0,P.useEffect)((function(){if("success"===je){var e,n,r,t,i=null===Ze||void 0===Ze?void 0:Ze.data;fe((0,s.Z)((0,s.Z)({},i),{},{_id:i._id,email:i.email||"",website:i.website||"",type:i.type||"shop",brandColor:i.brandColor||"#ef6c1d",categoryIds:i.categoryIds||[],orderMinimumPrice:i.orderMinimumPrice||"",startTime:11===(null===(e=i.workTime)||void 0===e?void 0:e.length)?null===(n=i.workTime)||void 0===n?void 0:n.slice(0,5):"",endTime:11===(null===(r=i.workTime)||void 0===r?void 0:r.length)?null===(t=i.workTime)||void 0===t?void 0:t.slice(-5):"",workDays:i.workDays||[],addressLocation:i.addressLocation,itemPrepTimeFrom:i.itemPrepTimeFrom||"",itemPrepTimeTo:i.itemPrepTimeTo||"",descriptionTranslate:i.descriptionTranslate||{uz:"",ru:"",en:""},isActive:void 0===i.isActive||i.isActive,isVerified:void 0!==i.isVerified&&i.isVerified,isPremium:void 0!==i.isPremium&&i.isPremium,acceptCash:void 0!==i.acceptCash&&i.acceptCash,acceptCard:void 0!==i.acceptCard&&i.acceptCard,acceptOnlinePayment:void 0!==i.acceptOnlinePayment&&i.acceptOnlinePayment})),U(i.addressLocation),i.packageItems&&Y(Array.isArray(i.packageItems)?i.packageItems:[])}}),[je,Ze,fe]);var Ae=(0,z.uC)("category/paging","post",{}),Me=Ae.mutate,qe=Ae.data;(0,P.useEffect)((function(){Q.length>0&&Me({page:1,limit:200})}),[Q.length,Me]),(0,P.useEffect)((function(){var e;if(null!==qe&&void 0!==qe&&null!==(e=qe.data)&&void 0!==e&&e.data){var n={};qe.data.data.forEach((function(e){n[String(e._id)]=e})),de(n)}else if(null!==qe&&void 0!==qe&&qe.data&&Array.isArray(qe.data)){var r={};qe.data.forEach((function(e){r[String(e._id)]=e})),de(r)}}),[qe]);var Re=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var r,t,o,l,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ge(),t=(0,s.Z)({},n),ae||n._id||(o=function(){return{$oid:(Math.floor((new Date).getTime()/1e3).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)})).toLowerCase()).substring(0,24)}},t._id=o()),l=function(e){return e?"object"===typeof e&&e.$oid?e.$oid:String(e):null},c=function(e){return e.map((function(e){var n=(0,s.Z)({},e);return n._id&&"object"===typeof n._id&&n._id.$oid&&(n._id=n._id.$oid),n}))},d=(0,s.Z)((0,s.Z)({},r),{},{_id:r._id,packageItems:c(ae?Q.map((function(e){return l(e._id)===l(ae._id)?t:e})):[].concat((0,a.Z)(Q),[t]))}),Ce(d),Y(d.packageItems),re(!1),oe(null);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ee=[{value:0,label:"Yakshanba"},{value:1,label:"Dushanba"},{value:2,label:"Seshanba"},{value:3,label:"Chorshanba"},{value:4,label:"Payshanba"},{value:5,label:"Juma"},{value:6,label:"Shanba"}];return(0,M.jsxs)(j,{children:[(0,M.jsxs)("form",{onSubmit:xe((function(e){var n={_id:e._id,name:e.name,email:e.email||void 0,website:e.website||void 0,type:e.type||"shop",brandColor:e.brandColor||"#ef6c1d",categoryIds:e.categoryIds||[],orderMinimumPrice:e.orderMinimumPrice?+e.orderMinimumPrice:0,description:e.description||"",descriptionTranslate:e.descriptionTranslate||void 0,workTime:e.startTime?"".concat(e.startTime,"-").concat(e.endTime):void 0,workDays:e.workDays||[],phoneNumber:e.phoneNumber,addressName:e.addressName,addressLocation:D||void 0,itemPrepTimeFrom:e.itemPrepTimeFrom?+e.itemPrepTimeFrom:5,itemPrepTimeTo:e.itemPrepTimeTo?+e.itemPrepTimeTo:10,isActive:void 0===e.isActive||e.isActive,isVerified:void 0!==e.isVerified&&e.isVerified,isPremium:void 0!==e.isPremium&&e.isPremium,acceptCash:void 0!==e.acceptCash&&e.acceptCash,acceptCard:void 0!==e.acceptCard&&e.acceptCard,acceptOnlinePayment:void 0!==e.acceptOnlinePayment&&e.acceptOnlinePayment,packageItems:Q.map((function(e){var n=(0,s.Z)({},e);return n._id&&"object"===typeof n._id&&n._id.$oid&&(n._id=n._id.$oid),n}))};Ce(n)})),children:[(0,M.jsx)(c.ZP,{className:"w-full",children:(0,M.jsx)("div",{className:"save-btn",children:(0,M.jsx)(y.c7,{title:ve("general.save"),variant:"contained",type:"submit"})})}),(0,M.jsxs)(c.ZP,{className:"block lg:flex",children:[(0,M.jsxs)(c.ZP,{className:"lg:w-[50%] pr-3 py-3",children:[(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.oi,{control:me,name:"name",label:ve("common.companyName"),rules:{required:!0}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.sb,{control:me,name:"phoneNumber",label:ve("common.phoneNumber"),rules:{required:!1}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.oi,{control:me,name:"email",type:"email",label:"Email",placeholder:"Masalan: info@store.uz",rules:{required:!1}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.oi,{control:me,name:"website",type:"url",label:"Veb-sayt URL",placeholder:"Masalan: https://www.store.uz",rules:{required:!1}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.p7,{control:me,name:"type",label:"Turi",options:[{_id:"shop",name:"Do'kon"},{_id:"restaurant",name:"Restoran"}],rules:{required:!1}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.zH,{control:me,name:"brandColor",label:"Brend rangi",placeholder:"#ef6c1d",rules:{required:!1}})}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.Ls,{control:me,name:"categoryIds",optionsUrl:"category/paging",label:"Toifalar",returnOnlyId:!0,rules:{required:!1},multiple:!0})}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(y.oi,{control:me,name:"addressName",label:ve("common.address"),rules:{required:!1},onCustomChange:function(e){return B(e)}}),(0,M.jsx)("div",{className:"address-options",children:t&&(null===we||void 0===we||null===(e=we.data)||void 0===e?void 0:e.map((function(e){return(0,M.jsx)("div",{className:"option",onClick:function(){pe("addressName",e.name),pe("addressLocation",{latitude:e.latitude,longitude:e.longitude}),Z(!1)},children:e.name},e.name)})))})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Narxlar"}),(0,M.jsx)("div",{className:"mb-3",children:(0,M.jsx)(y.oi,{control:me,name:"orderMinimumPrice",type:"number",label:"Minimal buyurtma narxi (so'm)",placeholder:"Masalan: 50000",rules:{required:!1}})})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Tayyorlash vaqti"}),(0,M.jsxs)("div",{className:"sm:flex md:gap-0 gap-y-2 justify-between items-end working-time",children:[(0,M.jsx)(y.oi,{control:me,name:"itemPrepTimeFrom",type:"number",label:ve("settings.delivery_time"),rules:{required:!1}}),(0,M.jsx)(y.oi,{control:me,name:"itemPrepTimeTo",type:"number",label:"Tayyorlash vaqti (gacha)",rules:{required:!1}})]})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Ish vaqti"}),(0,M.jsxs)("div",{className:"sm:flex md:gap-0 gap-y-2 justify-between items-end working-time",children:[(0,M.jsx)(S.Z,{control:me,name:"startTime",errors:he.errors,label:ve("common.workTime"),rules:{required:!1}}),(0,M.jsx)(S.Z,{control:me,name:"endTime",errors:he.errors,rules:{required:!1}})]})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Hafta kunlari"}),Ne.map((function(e,n){return(0,M.jsxs)(c.ZP,{container:!0,spacing:2,sx:{mt:1,mb:2},children:[(0,M.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,M.jsx)(y.p7,{control:me,name:"workDays.".concat(n,".day"),label:"Kun",options:Ee.map((function(e){return{_id:e.value.toString(),name:e.label}})),rules:{required:!1}})}),(0,M.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,M.jsx)(S.Z,{control:me,name:"workDays.".concat(n,".startTime"),label:"Boshlanish",errors:he.errors,rules:{required:!1}})}),(0,M.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,M.jsx)(S.Z,{control:me,name:"workDays.".concat(n,".endTime"),label:"Tugash",errors:he.errors,rules:{required:!1}})}),(0,M.jsx)(c.ZP,{item:!0,xs:12,md:2,children:(0,M.jsx)(m.Z,{sx:{pt:2},children:(0,M.jsx)(y.XZ,{control:me,name:"workDays.".concat(n,".isWorking"),label:"Ishlaydi"})})}),(0,M.jsx)(c.ZP,{item:!0,xs:12,md:1,children:(0,M.jsx)(m.Z,{sx:{pt:1},children:(0,M.jsx)(p.Z,{color:"error",onClick:function(){return _e(n)},size:"small",children:(0,M.jsx)(_.Z,{})})})})]},e.id)})),(0,M.jsx)(p.Z,{variant:"outlined",startIcon:(0,M.jsx)(q,{}),onClick:function(){return Te({day:0,startTime:"09:00",endTime:"18:00",isWorking:!0})},sx:{mt:2},children:"Kun qo'shish"})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"To'lov usullari"}),(0,M.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,M.jsx)(y.XZ,{control:me,name:"acceptCard",label:"Karta"}),(0,M.jsx)(y.XZ,{control:me,name:"acceptCash",label:"Naqd"}),(0,M.jsx)(y.XZ,{control:me,name:"acceptOnlinePayment",label:"Onlayn to'lov"})]})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Statuslar"}),(0,M.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,M.jsx)(y.XZ,{control:me,name:"isActive",label:"Faol"}),(0,M.jsx)(y.XZ,{control:me,name:"isVerified",label:"Tasdiqlangan"}),(0,M.jsx)(y.XZ,{control:me,name:"isPremium",label:"Premium"})]})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)("label",{className:"custom-label",children:ve("common.description")}),(0,M.jsx)(C.Z,{value:ge("description"),onChange:function(e){return pe("description",e)}})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:2,fontWeight:600,fontSize:"16px"},children:"Ko'p tilli tavsif"}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:1},children:"O'zbekcha"}),(0,M.jsx)(C.Z,{value:ge("descriptionTranslate.uz")||"",onChange:function(e){return pe("descriptionTranslate.uz",e)}})]}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:1},children:"Ruscha"}),(0,M.jsx)(C.Z,{value:ge("descriptionTranslate.ru")||"",onChange:function(e){return pe("descriptionTranslate.ru",e)}})]}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsx)(u.Z,{sx:{mb:1},children:"Inglizcha"}),(0,M.jsx)(C.Z,{value:ge("descriptionTranslate.en")||"",onChange:function(e){return pe("descriptionTranslate.en",e)}})]})]}),(0,M.jsx)(d.Z,{sx:{my:3}}),(0,M.jsxs)("div",{className:"mb-3",children:[(0,M.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,M.jsx)(R.Z,{}),(0,M.jsx)(u.Z,{sx:{fontWeight:600,fontSize:"16px"},children:"Qo'shimcha itemlar"})]}),0===Q.length&&(0,M.jsx)(p.Z,{variant:"contained",size:"small",startIcon:(0,M.jsx)(q,{}),onClick:function(){oe(null),re(!0)},children:"Qo'shish"})]}),Q.map((function(e,n){var r,t,i,a,o=localStorage.getItem("i18nextLng")||"uz",s=(null===(r=e.name)||void 0===r?void 0:r[o])||(null===(t=e.name)||void 0===t?void 0:t.uz)||e.name||"Nomsiz",l=null;if(null!==(i=e.image)&&void 0!==i&&i.url)l=function(e){if(!e)return null;var n="http://localhost:3003/v1".replace(/\/$/,""),r="string"===typeof e?e:e.url||"";return r.startsWith("uploads/")&&(r=r.replace("uploads/","")),r.startsWith("http")?r:"".concat(n,"/uploads/").concat(r)}(e.image.url);else if(e.imageId){var c="http://localhost:3003/v1".replace(/\/$/,"");l="".concat(c,"/image/get/").concat(e.imageId)}return(0,M.jsx)(x.Z,{sx:{mb:2},children:(0,M.jsx)(h.Z,{children:(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[l?(0,M.jsx)(f.Z,{src:l,alt:s,sx:{width:64,height:64},variant:"rounded"}):(0,M.jsx)(f.Z,{sx:{width:64,height:64},variant:"rounded",children:(0,M.jsx)(R.Z,{})}),(0,M.jsxs)(m.Z,{sx:{flex:1},children:[(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,M.jsx)(g.Z,{variant:"subtitle1",fontWeight:600,children:s}),!0===e.isActive?(0,M.jsx)(v.Z,{badgeContent:(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,M.jsx)(E,{sx:{fontSize:12}}),(0,M.jsx)(g.Z,{variant:"caption",children:"Faol"})]}),color:"success"}):(0,M.jsx)(v.Z,{badgeContent:(0,M.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,M.jsx)(W,{sx:{fontSize:12}}),(0,M.jsx)(g.Z,{variant:"caption",children:"Nofaol"})]}),color:"default"})]}),(0,M.jsxs)(g.Z,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[(null===(a=e.price)||void 0===a?void 0:a.toLocaleString("uz-UZ"))||0," so'm"]}),e.categoryIds&&e.categoryIds.length>0?(0,M.jsx)(m.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.categoryIds.map((function(e){var n=function(e){var n,r,t=ce[String(e)];if(!t)return"";var i=localStorage.getItem("i18nextLng")||"uz";return(null===(n=t.name)||void 0===n?void 0:n[i])||(null===(r=t.name)||void 0===r?void 0:r.uz)||t.name||""}(e);return n?(0,M.jsx)(b.Z,{label:n,size:"small",variant:"outlined"},String(e)):null}))}):(0,M.jsx)(b.Z,{label:"Barcha kategoriyalar uchun",size:"small",variant:"outlined",color:"default"})]}),(0,M.jsx)(p.Z,{variant:"outlined",size:"small",startIcon:(0,M.jsx)(L,{}),onClick:function(){oe(e),re(!0)},children:"Tahrirlash"})]})})},e._id||n)}))]})]}),(0,M.jsx)(c.ZP,{className:"lg:w-[50%]",children:(0,M.jsxs)("div",{className:"mt-5",children:[(0,M.jsx)("br",{}),(0,M.jsx)(I.Z,{getCoordinate:U,center:ge("addressLocation"),height:"70vh"})]})})]})]}),(0,M.jsx)(ze,{open:ne,onClose:function(){re(!1),oe(null)},packageItem:ae,onSave:Re})]})},Ie=Pe},57621:function(e,n,r){r.d(n,{Z:function(){return g}});var t=r(87462),i=r(63366),a=r(72791),o=r(59278),s=r(94419),l=r(66934),c=r(98357),d=r(35527),u=r(75878),m=r(21217);function p(e){return(0,m.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var x=r(80184),h=["className","raised"],f=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),g=a.forwardRef((function(e,n){var r=(0,c.i)({props:e,name:"MuiCard"}),a=r.className,l=r.raised,d=void 0!==l&&l,u=(0,i.Z)(r,h),m=(0,t.Z)({},r,{raised:d}),g=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},p,n)}(m);return(0,x.jsx)(f,(0,t.Z)({className:(0,o.Z)(g.root,a),elevation:d?8:void 0,ref:n,ownerState:m},u))}))}}]);
//# sourceMappingURL=966.8798b4dd.chunk.js.map