{"version":3,"file":"static/js/224.07589dc8.chunk.js","mappings":"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","sources":["pages/transaction/container/Transaction.styled.ts","pages/transaction/container/Transaction.tsx","pages/transaction/container/transaction.columns.tsx","pages/transaction/index.tsx","utils/numberFormat.ts"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const TransactionStyled = styled.div`\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n  background: #fff;\r\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\r\n  margin-top: 10px;\r\n  .total-balance {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100px;\r\n    border-radius: 12px;\r\n    background: #f3f3f8;\r\n    .amount {\r\n      font-size: 24px;\r\n      font-weight: 500;\r\n    }\r\n    .text {\r\n      color: #888a99;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n  .balance {\r\n    height: 100px;\r\n    border-radius: 12px;\r\n    background: #f3f3f8;\r\n    padding: 14px;\r\n    .amount-wrapper {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      border-radius: 6px;\r\n      background: #e2e2eb;\r\n      padding: 9px 16px;\r\n      border-radius: 6px;\r\n      &:first-of-type {\r\n        margin-bottom: 7px;\r\n        border-left: 5px solid #17c657;\r\n      }\r\n      &:last-of-type {\r\n        border-left: 5px solid #eb5757;\r\n      }\r\n      .title {\r\n        font-size: 13px;\r\n        color: #333;\r\n      }\r\n      .amount {\r\n        font-size: 13px;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    height: 100px;\r\n    .income {\r\n      background-color: #17c657 !important;\r\n    }\r\n    .outcome {\r\n      background-color: #eb5757 !important;\r\n    }\r\n  }\r\n  .comment {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n`;\r\n","import { Grid } from \"@mui/material\";\r\nimport { TransactionStyled } from \"./Transaction.styled\";\r\nimport { RangeDatePicker, Table } from \"components\";\r\nimport { useTransactionColumns } from \"./transaction.columns\";\r\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { numberFormat } from \"utils/numberFormat\";\r\nimport useCommonContext from \"context/useCommon\";\r\nimport { get } from \"lodash\";\r\nimport { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Transaction = () => {\r\n  const columns = useTransactionColumns();\r\n  const { t } = useTranslation();\r\n\r\n  const {\r\n    state: { data: settingsData },\r\n  } = useCommonContext();\r\n\r\n  const renderHeader = (\r\n    <Grid container width={235} spacing={2} className=\"pb-2\">\r\n      <Grid item sm={6}>\r\n        <RangeDatePicker />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n\r\n  const { mutate, data, reset } = useApiMutation(\"balance/total\", \"post\", {\r\n    onSuccess() {\r\n      // toast.success(t(\"general.success\"));\r\n    },\r\n  });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    mutate(data);\r\n  }, [mutate]);\r\n\r\n\r\n  return (\r\n    <TransactionStyled>\r\n      <Grid className=\"grid md:grid-cols-2 gap-2\">\r\n        <Grid item sm={6}>\r\n          <div className=\"total-balance\">\r\n            <span className=\"amount\">\r\n              {numberFormat(data?.data?.storeBalance)}{\" \"}\r\n              {get(settingsData, \"currency\", \"uzs\")}\r\n            </span>\r\n            <span className=\"text\">{t('transaction.total_balance')}</span>\r\n          </div>\r\n        </Grid>\r\n        <Grid item sm={6}>\r\n          <div className=\"balance\">\r\n            <div className=\"amount-wrapper\">\r\n              <span className=\"title\">{t('transaction.total_filled_amount')}:</span>\r\n              <span className=\"amount\">\r\n                {numberFormat(data?.data?.income)}{\" \"}\r\n                {get(settingsData, \"currency\", \"uzs\")}\r\n              </span>\r\n            </div>\r\n            {/* <div className=\"amount-wrapper\">\r\n              <span className=\"title\">Umumiy chiqarilgan miqdor:</span>\r\n              <span className=\"amount\">\r\n                {numberFormat(data?.data?.expense)}{\" \"}\r\n                {get(settingsData, \"currency\", \"uzs\")}\r\n              </span>\r\n            </div> */}\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Table\r\n        columns={columns}\r\n        dataUrl=\"balance/paging\"\r\n        headerChildren={renderHeader}\r\n        exQueryParams={{}}\r\n      />\r\n    </TransactionStyled>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n","import { Tooltip } from \"@mui/material\";\r\nimport { GridColumns } from \"@mui/x-data-grid\";\r\nimport dayjs from \"dayjs\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { numberFormat } from \"utils/numberFormat\";\r\n\r\nexport const useTransactionColumns = (): GridColumns => {\r\n   const { t } = useTranslation();\r\n\r\n   return [\r\n      // {\r\n      //    field: \"Do'kon nomi\",\r\n      //    renderCell({ row }) {\r\n      //       return row.store?.name;\r\n      //    },\r\n      // },\r\n      {\r\n         field: t('enum.amount'),\r\n         renderCell({ row }) {\r\n            return (\r\n               <span\r\n                  style={{\r\n                     color: row.type === 'income' ? \"#17C657\" : \"#EB5757\"\r\n                  }}\r\n               >\r\n                  {row.type === 'income' ? `+${numberFormat(row.amount)}` : `-${numberFormat(row.amount)}`}\r\n               </span>\r\n            )\r\n         },\r\n      },\r\n      {\r\n         field: t('common.date'),\r\n         renderCell({ row }) {\r\n            return row.createdAt && dayjs(row.createdAt).format('DD.MM.YYYY HH:mm');\r\n         },\r\n      },\r\n      {\r\n         field: t('common.comment'),\r\n         renderCell({ row }) {\r\n            return <Tooltip title={row.comment} placement=\"top\"><span className=\"comment\">{row.comment}</span></Tooltip>\r\n         },\r\n      },\r\n   ];\r\n};\r\n","import Transaction from './container/Transaction'\r\n\r\nconst index = () => {\r\n   return <Transaction />\r\n}\r\n\r\nexport default index\r\n","export const numberFormat = (number: any) => {\r\n  if (number || number === 0) {\r\n    // Floating-point xatoliklarni oldini olish\r\n    const rounded = Math.round((number + Number.EPSILON) * 100) / 100;\r\n\r\n    return rounded\r\n      .toLocaleString(\"en-US\", {\r\n        minimumFractionDigits: 0, // Har doim 2 kasr\r\n        maximumFractionDigits: 0, // Kasr 2 dan oshmaydi\r\n      })\r\n      .replaceAll(\",\", \" \"); // Minglik ajratgich\r\n  }\r\n  return \"\";\r\n};\r\n"],"names":["TransactionStyled","styled","div","_templateObject","_taggedTemplateLiteral","Transaction","_data$data","_data$data2","columns","useTransactionColumns","t","useTranslation","field","renderCell","_ref","row","_jsx","style","color","type","children","concat","numberFormat","amount","_ref2","createdAt","dayjs","format","_ref3","Tooltip","title","comment","placement","className","state","data","settingsData","useCommonContext","renderHeader","Grid","container","width","spacing","item","sm","RangeDatePicker","mutate","reset","useApiMutation","onSuccess","useEffect","_jsxs","storeBalance","get","income","Table","dataUrl","headerChildren","exQueryParams","index","number","Math","round","Number","EPSILON","toLocaleString","minimumFractionDigits","maximumFractionDigits","replaceAll"],"sourceRoot":""}