{"version":3,"file":"static/js/742.e5ca49af.chunk.js","mappings":"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","sources":["components/form/TextEditor/TextEditor.style.ts","components/form/TextEditor/TextEditor.tsx","pages/product/components/ProductForm.styled.ts","pages/product/components/Fields.tsx","components/form/ImageInputPro/ImageInput.style.ts","hooks/usePostProductImage.ts","components/form/ImageInputPro/ImageInputPro.tsx","pages/product/components/ProductForm.tsx","hooks/usePostFile.ts","pages/product/components/ImportModal.tsx","pages/product/components/fetchAndDownload.tsx","pages/product/index.tsx","pages/product/container/Product.tsx","pages/product/container/product.columns.tsx","types/enums.ts","utils/numberFormat.ts"],"sourcesContent":["import { RichTextEditor } from \"@mantine/rte\";\nimport styled from \"styled-components\";\nimport { ITextEditorStyled } from \"./TextEditor.types\";\n\nexport const TextEditorStyled = styled(RichTextEditor)<ITextEditorStyled>`\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n`;\n","import { FC } from \"react\";\nimport { TextEditorStyled } from \"./TextEditor.style\";\nimport { TextEditorPropsType } from \"./TextEditor.types\";\n\nconst TextEditor: FC<TextEditorPropsType> = (props) => {\n  const { value, onChange, onImageUpload, isError, type } = props;\n\n  return (\n    <TextEditorStyled\n      controls={[\n        [\n          \"bold\",\n          \"italic\",\n          \"underline\",\n          \"strike\",\n          \"clean\",\n          \"unorderedList\",\n          \"orderedList\",\n          \"alignLeft\",\n          \"alignCenter\",\n          \"alignRight\",\n        ],\n      ]}\n      isError={!!isError}\n      value={value}\n      onChange={onChange}\n      onImageUpload={onImageUpload}\n      type={type}\n    ></TextEditorStyled>\n  );\n};\n\nexport default TextEditor;\n","import styled from \"styled-components\";\n\nexport const ProductFormStyled = styled.div`\n  width: 100%;\n  \n  form {\n    width: 100%;\n  }\n  \n  .product-images {\n    display: flex;\n    flex-wrap: wrap;\n    .input-file {\n      margin-right: 10px;\n    }\n    .product-image {\n      position: relative;\n      width: 76px;\n      height: 76px;\n      border-radius: 12px;\n      overflow: hidden;\n      margin-right: 10px;\n      margin-bottom: 10px;\n      cursor: pointer;\n      &:hover {\n        .on-hover {\n          display: flex;\n        }\n      }\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n      .on-hover {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.5);\n        .delete svg {\n          width: 20px;\n          height: 20px;\n          path {\n            fill: #fff;\n          }\n        }\n        .main-image {\n          position: absolute;\n          right: 5px;\n          top: 5px;\n          width: 15px;\n          height: 15px;\n          border-radius: 50%;\n          border: 2px solid gold;\n          &.active {\n            background-color: gold;\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const ImportStudentStyle = styled.div`\n  h2 {\n    color: black;\n  }\n  h4 {\n    color: black;\n  }\n  .import-student-box {\n    width: 100%;\n\n    label {\n      width: max-content;\n      min-height: max-content !important;\n      display: flex;\n      align-items: center;\n      gap: 20px;\n      border-radius: 10px;\n      transition: all 0.3s ease;\n      margin: 0 auto;\n      padding: 12px;\n      color: black;\n\n      .upload-input {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        opacity: 0 !important;\n        z-index: -1 !important;\n      }\n\n      &:hover {\n        background-color: gray;\n      }\n    }\n  }\n  .errors-upload {\n    margin-bottom: 12px;\n    .content {\n      width: 100%;\n      padding: 10px;\n      background-color: gray;\n      border-radius: 6px;\n      max-height: 400px;\n      overflow: auto;\n    }\n  }\n`;\n","import { useEffect, useState } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { Delete, Add } from \"@mui/icons-material\";\nimport { Input, TextInput } from \"components\";\nimport CommonButton from \"components/common/commonButton/Button\";\nimport { useTranslation } from \"react-i18next\";\nimport { useFieldArray } from \"react-hook-form\";\nimport { PlusIcon } from \"assets/svgs\";\n\ninterface Attribute {\n    id: string;\n    items: any[];\n}\n\nconst AttributeForm = ({ attributeId, control, register, getByIdData }: { attributeId: any, control: any, register: any, getByIdData: any }) => {\n    const {fields, append, remove} = useFieldArray({control, name: `attributes.${attributeId}`});\n    const { t } = useTranslation();\n\n    const handleAdd = () => {\n        append({amount: 0, attributeItem: \"\"})\n    };\n\n    const handleRemove = (index: number) => {\n        remove(index)\n    };\n\n    return (\n        <div>\n            {fields?.map((field, index) => (\n                <Grid\n                    container\n                    key={field.id}\n                    className=\"flex items-end justify-between mt-2\"\n                >\n                    <Grid item md={5}>\n                        <TextInput\n                            control={control}\n                            name={`attributes.${attributeId}.${index}.attributeItem`}\n                            type=\"text\"\n                            rules={{ required: false }}\n                            label={t('general.feature')}\n                        />\n                    </Grid>\n                    <Grid item md={5}>\n                        <Input\n                            label={t('general.Price_added')}\n                            params={{\n                                type: 'number',\n                                ...register(`attributes.${attributeId}.${index}.amount`),\n                            }}\n                        />\n                    </Grid>\n                    <Grid item md={1}>\n                        <Delete\n                            sx={{ cursor: \"pointer\", color: \"#D54239\", fontSize: \"1.5rem\" }}\n                            className=\"mb-2.5\"\n                            onClick={() => handleRemove(index)}\n                        />\n                    </Grid>\n                </Grid>\n            ))}\n            <Grid item xs={3} md={2} paddingBlock={2} className=\"flex flex-col\">\n                <CommonButton startIcon={<PlusIcon />} type=\"button\" onClick={handleAdd} />\n            </Grid>\n        </div>\n    );\n};\n\nexport default AttributeForm;\n","import styled from \"styled-components\";\n\nexport const ImageInputStyled = styled.div`\n  h3 {\n    font-size: 14px;\n    font-weight: 500;\n    color: #32324d;\n    margin-bottom: 8px;\n  }\n  .just-image,\n  .pre-loader {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    img {\n      object-fit: contain !important;\n    }\n  }\n  .input-file {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n    .image-main {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 76px;\n      height: 76px;\n      border-radius: 12px;\n      background: #f3f3f8;\n    }\n  }\n  .input-file input[type=\"file\"] {\n    position: absolute;\n    z-index: -1;\n    opacity: 0;\n    display: block;\n    width: 0;\n    height: 0;\n  }\n\n  /* Focus */\n  .input-file input[type=\"file\"]:focus + span {\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n\n  .input-file:active span {\n    background-color: #2e703a;\n  }\n\n  /* Disabled */\n  .input-file input[type=\"file\"]:disabled + span {\n    background-color: #eee;\n  }\n\n  /* Список c превью */\n  .input-file-list {\n    padding: 10px 0;\n  }\n  .input-file-list-item {\n    display: inline-block;\n    margin: 0 15px 15px;\n    width: 150px;\n    vertical-align: top;\n    position: relative;\n  }\n  .input-file-list-item img {\n    width: 150px;\n  }\n  .input-file-list-name {\n    text-align: center;\n    display: block;\n    font-size: 12px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  .input-file-list-remove {\n    color: #fff;\n    text-decoration: none;\n    display: inline-block;\n    position: absolute;\n    padding: 0;\n    margin: 0;\n    top: 5px;\n    right: 5px;\n    background: #ff0202;\n    width: 16px;\n    height: 16px;\n    text-align: center;\n    line-height: 16px;\n    border-radius: 50%;\n  }\n`;\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport interface IIdImage {\n  url: string;\n  _id?: string;\n}\nexport interface IFileImage {\n  id?: string | number;\n  imageFile?: File;\n}\nconst usePostProductImage = (onSuccess?: (idImage: IIdImage) => void) => {\n  const [imageFile, setImage] = useState<IIdImage>();\n  const [isUploading, setIsUploading] = useState<boolean>();\n  const uploadImage = (image: IFileImage) => {\n    setIsUploading(true);\n    if (image.imageFile) {\n      axios({\n        url: `${process.env.REACT_APP_BASE_URL}/image/product/upload`,\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Accept-Language\": localStorage.getItem(\"i18nextLng\"),\n          // storeId: localStorage.getItem(\"storeId\"),\n        },\n        data: {\n          file: image.imageFile,\n          type: \"img\",\n        },\n      })\n        .then((res) => {\n          const IDImage = {\n            url: res.data.data.url,\n            _id: res.data.data._id,\n          };\n          onSuccess?.(IDImage);\n          setImage(IDImage);\n          setIsUploading(false);\n        })\n        .catch((err) => {\n          console.log(err.response.data.message);\n          setIsUploading(false);\n          toast.error(err.response.data.message, {\n            position: \"top-center\",\n            autoClose: 5000,\n          });\n        });\n    } else {\n      setIsUploading(false);\n      toast.error(\"Rasm fayl tanlanmadi!\", {\n        position: \"top-center\",\n        autoClose: 3000,\n      });\n    }\n  };\n\n  return { imageFile, isUploading, uploadImage, setImage };\n};\n\nexport default usePostProductImage;\n","import { DefaultImage } from \"assets/svgs\";\nimport { Image } from \"components\";\nimport usePostImage, { IIdImage } from \"hooks/usePostImage\";\nimport { useEffect } from \"react\";\nimport {\n  Control,\n  Controller,\n  FieldPath,\n  UseFormSetValue,\n} from \"react-hook-form\";\nimport { useAppSelector } from \"store/storeHooks\";\nimport { TRules } from \"types/form.types\";\n\nimport { ImageInputStyled } from \"./ImageInput.style\";\nimport { CircularProgress } from \"@mui/material\";\nimport usePostProductImage from \"hooks/usePostProductImage\";\n\ninterface IImageProps<FormNames extends Record<string, any>> {\n  title?: string;\n  rules?: TRules<FormNames>;\n  control: Control<FormNames>;\n  name: FieldPath<FormNames>;\n  setValue: UseFormSetValue<FormNames>;\n  className?: string;\n  getImage?: (img: IIdImage) => void;\n  multiple?: boolean;\n  accept?: string;\n}\n\nfunction ImageInputPro<FormNames extends Record<string, any>>({\n  title,\n  control,\n  name,\n  setValue,\n  rules = {\n    required: {\n      value: true,\n      message: \"Rasm yuklash majburiy\",\n    },\n  },\n  className,\n  getImage,\n  multiple,\n  accept = \"image/*, image/webp\",\n}: IImageProps<FormNames>) {\n  const isOpen = useAppSelector((store) => store.formDrawerState.isOpen);\n  useEffect(() => {\n    if (!isOpen) {\n      // @ts-ignore\n      setValue(name, undefined);\n    }\n  }, [isOpen]);\n\n  const { uploadImage, imageFile, isUploading } = usePostProductImage((IDImage) => {\n    // @ts-ignore\n    setValue(name, IDImage);\n    if (getImage) {\n      getImage(IDImage);\n    }\n  });\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      rules={rules}\n      render={({ fieldState, field }) => {\n        return (\n          <ImageInputStyled className={className}>\n            {title && <h3>{title}</h3>}\n            <label className=\"input-file\">\n              <input\n                ref={field.ref}\n                id={name}\n                name={field.name}\n                onChange={(e) => {\n                  if (e.target.files?.[0]) {\n                    uploadImage({\n                      imageFile: e.target.files[0],\n                      id: name,\n                    });\n                  }\n                }}\n                type=\"file\"\n                accept={accept}\n              />\n              <div className=\"image-main\">\n                {isUploading ? (\n                  <div className=\"pre-loader\">\n                    <CircularProgress color=\"primary\" size={30} />\n                  </div>\n                ) : field?.value ? (\n                  <Image src={typeof field.value === \"string\" ? field.value : field.value.url || \"\"} />\n                ) : (\n                  <div className=\"image-top\">\n                    <DefaultImage />\n                  </div>\n                )}\n\n              </div>\n            </label>\n            {fieldState.error && !imageFile && (\n              <>\n                <h6 className=\"text-error mt-1\">{fieldState.error?.message}</h6>\n              </>\n            )}\n          </ImageInputStyled>\n        );\n      }}\n    />\n  );\n}\n\nexport default ImageInputPro;\n","import { Dispatch, SetStateAction, useCallback, useEffect, useState } from \"react\";\nimport { Box, Grid, Switch } from \"@mui/material\";\nimport {\n  AutoCompleteForm,\n  DatePickerForm,\n  ImageInput,\n  Input,\n  SelectForm,\n  TextInput,\n} from \"components\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { ProductFormStyled } from \"./ProductForm.styled\";\nimport TextEditor from \"components/form/TextEditor/TextEditor\";\nimport { IIdImage } from \"hooks/usePostFile\";\nimport { DeleteIcon, PlusIcon } from \"assets/svgs\";\nimport { DISCOUNT_TYPES } from \"types/enums\";\nimport { IProduct } from \"types/common.types\";\nimport { Controller, useFieldArray, useForm } from \"react-hook-form\";\nimport CommonButton from \"components/common/commonButton/Button\";\nimport { Delete } from \"@mui/icons-material\";\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport AttributeForm from \"./Fields\";\nimport ImageInputPro from \"components/form/ImageInputPro/ImageInputPro\";\nimport ProductLocationSelector, { SelectedLocation } from \"components/form/ProductLocationSelector\";\n\ninterface IProductForm {\n  formStore: any;\n  resetForm: () => void;\n  editingProductId: any;\n  productProps: {\n    productImages: IIdImage[];\n    setProductImages: Dispatch<SetStateAction<IIdImage[]>>;\n    mainImageId: any;\n    setMainImageId: any;\n  };\n}\n\nconst ProductForm = ({\n  formStore,\n  resetForm,\n  editingProductId,\n  productProps,\n}: IProductForm) => {\n  const { productImages, setProductImages, mainImageId, setMainImageId } =\n    productProps;\n  const { t } = useTranslation();\n  const { control, handleSubmit, reset, setValue, register, watch, formState: { errors } } = formStore;\n  const currentLang = localStorage.getItem(\"i18nextLng\") || \"uz\";\n  const [hasAttributesEnabled, setHasAttributesEnabled] = useState(false);\n  const [hasCompoundsEnabled, setHasCompoundsEnabled] = useState(false);\n\n\n  const [subCategory, setSubCategory] = useState<any>(null);\n  const [subChildCategory, setSubChildCategory] = useState<any>(null);\n\n  const [selectedParentCategory, setSelectedParentCategory] = useState<any>(null);\n  const [selectedChildCategory, setSelectedChildCategory] = useState<any>(null);\n  const [storeSections, setStoreSections] = useState<any[]>([]);\n  const [selectedLocation, setSelectedLocation] = useState<SelectedLocation | null>(null);\n  const [mapImageUrl, setMapImageUrl] = useState<string>('');\n  const [imageSize, setImageSize] = useState({ width: 837, height: 634 });\n\n  const discountEndMinDate = new Date(watch(\"discountStartAt\"));\n  discountEndMinDate.setDate(discountEndMinDate.getDate() + 1);\n\n  const { mutate, status } = useApiMutation<any>(\n    editingProductId ? `/product/update` : \"product/create\",\n    editingProductId ? \"put\" : \"post\",\n    {},\n    true\n  );\n\n  const { data: getByIdData, status: getByIdStatus } = useApi<IProduct>(\n    `product/get-by-id/${editingProductId}`,\n    {},\n    {\n      enabled: !!editingProductId,\n      suspense: false,\n    }\n  );\n\n  const submit = (data: any) => {\n    console.log(data);\n    const cleanedAttributes = Object.entries(data.attributes || {})\n      .filter(([key]) => data.attributeId?.includes(key))\n      .reduce((acc, [key, value]) => ({\n        ...acc,\n        [key]: value\n      }), {});\n    const requestData: any = {\n      // ...data,\n      name: data.name,\n      price: +data.price,\n      inStock: +data.inStock,\n      redLine: +data.redLine || null,\n      yellowLine: +data.yellowLine || null,\n      categoryId: subChildCategory ? data.categoryId : data.parentCategoryId,\n      isActive: data.isActive,\n      // categoryId: data.categoryId,\n      // parentCategoryId: data.parentCategoryId,\n      imageIds: productImages.map((image) => image._id),\n      mainImageId: productImages.length\n        ? mainImageId || productImages?.[0]?._id\n        : null,\n      expiryDate: !data.isMyExpire\n        ? null\n        : typeof data.expiryDate === \"string\"\n          ? data.expiryDate\n          : typeof data.expiryDate === \"object\"\n            ? data.expiryDate?.toISOString()\n            : null,\n      _id: editingProductId,\n      discountEnabled: data.discountEnabled,\n      description: data.description,\n      compounds: data.compounds || [],\n      attributes: hasAttributesEnabled ? Object.entries(cleanedAttributes).map(([key, item]: [string, any]) => ({\n        attributeId: key,\n        items: Array.isArray(item)\n          ? item.map((itm: any) => ({\n            attributeItem: itm?.attributeItem || null,\n            amount: Number(itm?.amount) || 0,\n          }))\n          : []\n      })) : [],\n      locationBlock: data.locationBlock || undefined,\n      locationShelf: data.locationShelf || undefined,\n      locationRow: data.locationRow || undefined,\n      location: data.location || undefined,\n    };\n\n    // discountEnabled = true bo'lganda discount ma'lumotlarini qo'shish\n    if (data.discountEnabled) {\n      requestData.discountType = data.discountType;\n      requestData.discountValue = data.discountValue;\n      requestData.discountStartAt =\n        typeof data.discountStartAt === \"string\"\n          ? data.discountStartAt\n          : typeof data.discountStartAt === \"object\"\n            ? data.discountStartAt?.toISOString()\n            : undefined;\n      requestData.discountEndAt =\n        typeof data.discountEndAt === \"string\"\n          ? data.discountEndAt\n          : typeof data.discountEndAt === \"object\"\n            ? data.discountEndAt?.toISOString()\n            : undefined;\n    }\n\n    // discountEnabled = false bo'lganda chegirma maydonlarini olib tashlash\n    if (!data.discountEnabled) {\n      delete requestData.discountType;\n      delete requestData.discountValue;\n      delete requestData.discountStartAt;\n      delete requestData.discountEndAt;\n    }\n\n    delete requestData.isMyExpire;\n\n    mutate(requestData); // API so'rovini yuborish\n  };\n\n  useEffect(() => {\n    // Agar chegirma o'chirilgan bo'lsa, qiymatlarni tozalash\n    if (!watch(\"discountEnabled\")) {\n      setValue(\"discountType\", undefined);\n      setValue(\"discountValue\", undefined);\n      setValue(\"discountStartAt\", \"\");\n      setValue(\"discountEndAt\", undefined);\n    }\n  }, [watch(\"discountEnabled\")]);\n\n\n  useEffect(() => {\n    const selectedAttributeIds = watch(\"attributeId\") || [];\n    const currentAttributes = watch(\"attributes\") || {};\n\n    // Remove attributes that are no longer selected\n    const cleanedAttributes = Object.entries(currentAttributes)\n      .filter(([key]) => selectedAttributeIds.includes(key))\n      .reduce((acc, [key, value]) => ({\n        ...acc,\n        [key]: value\n      }), {});\n\n    setValue(\"attributes\", cleanedAttributes);\n  }, [watch(\"attributeId\")]);\n\n  useEffect(() => {\n    if (status === \"success\") {\n      setSelectedLocation(null);\n      resetForm();\n    }\n  }, [status]);\n\n  useEffect(() => {\n    if (getByIdData?.data) {\n      setSubCategory(getByIdData.data.parentCategoryId || null);\n      setSubChildCategory(getByIdData.data.categoryId || null);\n      setHasAttributesEnabled(!!getByIdData.data.attributes?.length);\n      setHasCompoundsEnabled(!!getByIdData.data.compounds?.length);\n    }\n  }, [getByIdData]);\n\n  // 2. Parent category change handler\n  const handleParentCategoryChange = (item: any) => {\n    setSelectedParentCategory(item);\n    setSelectedChildCategory(null); // Reset child category\n    setValue(\"categoryId\", \"\"); // Clear form value\n    setValue(\"parentCategoryId\", item?._id || \"\"); // Update form value\n  };\n\n  // 3. Child category change handler\n  const handleChildCategoryChange = (item: any) => {\n    setSelectedChildCategory(item);\n    setValue(\"categoryId\", item?._id || \"\"); // Update form value\n  };\n\n\n  useEffect(() => {\n    if (getByIdStatus === \"success\") {\n      const productData = getByIdData.data;\n\n      // Set initial category states\n      if (productData.parentCategoryId) {\n        setSelectedParentCategory({ _id: productData.parentCategoryId });\n      }\n      if (productData.categoryId) {\n        setSelectedChildCategory({ _id: productData.categoryId });\n      }\n      reset({\n        ...getByIdData.data,\n        attributes: getByIdData.data.attributes?.reduce((acc, attr) => {\n          return {\n            ...acc,\n            [attr.attribute._id]: attr.items\n          }\n        }, {}) || [],\n        // categoryId: subChildCategory === undefined ? getByIdData.data.parentCategoryId : getByIdData.data.categoryId,\n        parentCategoryId: productData.parentCategoryId || productData.categoryId || \"\",\n        categoryId: productData.categoryId || \"\",\n        isActiveQuery: formStore.watch(\"isActiveQuery\"),\n        description: getByIdData.data.description,\n        compounds: getByIdData.data.compounds,\n        attributeId: getByIdData.data.attributeDetails.map((item: any) => (\n          item._id\n        )) || [],\n        locationBlock: getByIdData.data.locationBlock || undefined,\n        locationShelf: getByIdData.data.locationShelf || undefined,\n        locationRow: getByIdData.data.locationRow || undefined,\n        location: getByIdData.data.location || undefined,\n      });\n\n      // if (!getByIdData.data.attributes?.length) {\n      //   setValue(\"attributes\", {});\n      //   setValue(\"attributeId\", []);\n      // }\n\n      setValue(\"isMyExpire\", !!watch(\"expiryDate\"));\n\n      if (getByIdData.data.location) {\n        setSelectedLocation({\n          section_id: getByIdData.data.location.id,\n          section_name: getByIdData.data.location.name,\n          rect: getByIdData.data.location.rect,\n        });\n      } else {\n        setSelectedLocation(null);\n      }\n\n      setProductImages(getByIdData.data?.images || []);\n\n      const foundMain = getByIdData.data?.images?.find(\n        (img) => img?._id === getByIdData.data.mainImage?._id\n      );\n      if (foundMain && !!getByIdData.data?.images?.length) {\n        setMainImageId(getByIdData.data.mainImage?._id);\n      } else setMainImageId(getByIdData.data?.images?.[0]?._id);\n    }\n  }, [getByIdStatus, getByIdData]);\n\n  useEffect(() => {\n    const foundMain = productImages.find((main) => main._id === mainImageId);\n    if (foundMain) {\n      setMainImageId(foundMain._id);\n    } else if (productImages.length) {\n      setMainImageId(productImages[0]._id);\n    }\n  }, [productImages]);\n\n  useEffect(() => {\n    const loadStoreMapData = async () => {\n      try {\n        const response = await fetch('/store-map-sections.json');\n        const data = await response.json();\n        setStoreSections(data.sections || []);\n        if (data.imageSize) {\n          setImageSize(data.imageSize);\n        }\n        if (data.mapImageUrl) {\n          setMapImageUrl(data.mapImageUrl);\n        }\n      } catch (error) {\n        console.error('Error loading store map data:', error);\n      }\n    };\n    loadStoreMapData();\n  }, []);\n\n  const {\n    fields,\n    append,\n    remove,\n  } = useFieldArray({\n    name: \"compounds\",\n    control,\n  });\n\n  const selectedAttributes = watch(\"attributeId\") || [];\n\n\n  const { mutate: attributesChoose, data: attributesData, status: attributesStatus } = useApiMutation<any>(\n    \"attribute/choose\",\n    \"post\"\n  );\n\n  useEffect(() => {\n    attributesChoose({})\n  }, [])\n\n\n  const filteredAttributes = attributesData?.data?.data?.filter((item: any) =>\n    selectedAttributes?.some((selected: any) => selected === item._id)\n  );\n\n  const isActive = watch(\"isActive\");\n  const hasCompounds = watch(\"compounds\");\n\n\n  const handleSwitchChange = useCallback((name: string, value: boolean) => {\n    if (name === \"compounds\") {\n      setHasCompoundsEnabled(value);\n      if (!value) {\n        setValue(\"compounds\", []);\n      } else {\n        setValue(\"compounds\", []);\n      }\n    } else if (name === \"attributes\") {\n      setHasAttributesEnabled(value);\n      if (!value) {\n        setValue(\"attributes\", {});\n        setValue(\"attributeId\", []);\n      }\n    }\n\n    setValue(name, value);\n  }, [setValue]);\n\n\n  return (\n    <ProductFormStyled className=\"custom-drawer\">\n      <form id=\"product\" onSubmit={handleSubmit(submit)}>\n        <Grid container spacing={2}>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"name.uz\"\n              label={t('common.productName') + ' (Uz)'}\n              placeholder=\"Masalan: Olma\"\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"name.ru\"\n              label={t('common.productName') + ' (Ru)'}\n              placeholder=\"Например: Яблоко\"\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              control={control}\n              name=\"name.en\"\n              label={t('common.productName') + ' (En)'}\n              placeholder=\"For example: Apple\"\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              name=\"price\"\n              control={control}\n              label={t(\"common.price\")}\n              type=\"number\"\n              placeholder=\"Masalan: 5000\"\n            />\n          </Grid>\n          <Grid item md={12}>\n            <TextInput\n              name=\"inStock\"\n              control={control}\n              label={t(\"common.residue\")}\n              type=\"number\"\n              placeholder=\"Masalan: 100\"\n            />\n          </Grid>\n          <Grid item md={12} display={\"flex\"} justifyContent={\"space-between\"}>\n            <Box>\n              <TextInput\n                name=\"redLine\"\n                control={control}\n                type=\"number\"\n                label={t(\"Qizil chiziq\")}\n                placeholder=\"Masalan: 10\"\n                rules={{\n                  required: false,\n                }}\n              />\n            </Box>\n            <Box>\n              <TextInput\n                name=\"yellowLine\"\n                control={control}\n                label={t(\"Sariq chiziq\")}\n                type=\"number\"\n                placeholder=\"Masalan: 20\"\n                rules={{\n                  required: false,\n                }}\n              />\n            </Box>\n          </Grid>\n          {/* Product Location Fields */}\n          <Grid item md={12}>\n            <Box className=\"product-location-selector\">\n              <label className=\"custom-label\">\n                Mahsulot joylashuvi (Xarita)\n                <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span>\n              </label>\n              {storeSections.length > 0 && (\n                <ProductLocationSelector\n                  sections={storeSections}\n                  mapImageUrl={mapImageUrl || undefined}\n                  imageSize={imageSize}\n                  onLocationSelect={(location) => {\n                    setSelectedLocation(location);\n                    if (location) {\n                      setValue('location', {\n                        id: location.section_id,\n                        name: location.section_name,\n                        rect: location.rect,\n                      });\n                    } else {\n                      setValue('location', undefined);\n                    }\n                  }}\n                  selectedLocation={selectedLocation}\n                />\n              )}\n            </Box>\n          </Grid>\n          <Grid item md={4}>\n            <TextInput\n              name=\"locationBlock\"\n              control={control}\n              label=\"Blok\"\n              placeholder=\"Masalan: A blok\"\n              rules={{ required: false }}\n            />\n          </Grid>\n          <Grid item md={4}>\n            <TextInput\n              name=\"locationShelf\"\n              control={control}\n              label=\"Javon\"\n              placeholder=\"Masalan: 2 javon\"\n              rules={{ required: false }}\n            />\n          </Grid>\n          <Grid item md={4}>\n            <TextInput\n              name=\"locationRow\"\n              control={control}\n              label=\"Qator\"\n              placeholder=\"Masalan: 3 qator\"\n              rules={{ required: false }}\n            />\n          </Grid>\n          {/* <Grid item md={12}>\n            <AutoCompleteForm\n              control={control}\n              name=\"measureId\"\n              optionsUrl=\"measure\"\n              dataProp=\"data.data\"\n              label={t(\"common.measure\")}\n            />\n          </Grid> */}\n          <Grid item md={12}>\n            <AutoCompleteForm\n              control={control}\n              // name=\"parentCategoryId\"\n              name={subChildCategory !== undefined ? \"parentCategoryId\" : \"categoryId\"}\n              optionsUrl=\"category/paging\"\n              dataProp=\"data.data\"\n              label=\"Kategoriya\"\n              onChange={handleParentCategoryChange}\n            />\n            {selectedParentCategory && (\n              <AutoCompleteForm\n                control={control}\n                name=\"categoryId\"\n                optionsUrl=\"category/paging\"\n                dataProp=\"data.data\"\n                label=\"Ichki kategoriya\"\n                rules={{ required: false }}\n                onChange={handleChildCategoryChange}\n                exQueryParams={{\n                  parentId: selectedParentCategory?._id,\n                }}\n                key={`child-cat-${selectedParentCategory?._id}`} // Force re-render when parent changes\n              />\n            )}\n\n\n          </Grid>\n          <Grid item md={12}>\n            <label className=\"custom-label\">{t(\"common.description\")} <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n            <Controller\n              name=\"description\"\n              control={control}\n              rules={{ required: false }}\n              render={({ field }) => (\n                <TextEditor\n                  value={field.value}\n                  onChange={(value) => {\n                    field.onChange(value);\n                  }}\n                />\n              )}\n            />\n          </Grid>\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"isActive\">{t(\"common.isActive\")} <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n              <Switch\n                checked={!!isActive}\n                onChange={(e) => handleSwitchChange(\"isActive\", e.target.checked)}\n                id=\"isActive\"\n              />\n            </Box>\n          </Grid>\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"isMyExpire\">Muddatli mahsulot <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n              <Switch\n                checked={!!watch(\"isMyExpire\")}\n                id=\"isMyExpire\"\n                {...register(\"isMyExpire\")}\n              />\n            </Box>\n            {watch(\"isMyExpire\") && (\n              <Grid container>\n                <Grid item md={12}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"expiryDate\"\n                    rules={{ required: { value: true, message: \"Majburiy\" } }}\n                    disableTime={true}\n                    label={t(\"common.validatyPariod\")}\n                    readOnly\n                    minDate={new Date()}\n                  />\n                </Grid>\n              </Grid>\n            )}\n          </Grid>\n\n          {/* Chegirma */}\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"discountEnabled\">{t(\"common.discount\")} <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n              <Switch\n                checked={!!watch(\"discountEnabled\")}\n                id=\"discountEnabled\"\n                {...register(\"discountEnabled\")}\n              />\n            </Box>\n            {watch(\"discountEnabled\") && (\n              <Grid container spacing={2} alignItems=\"end\">\n                <Grid item md={6}>\n                  <TextInput\n                    control={control}\n                    name=\"discountValue\"\n                    label={t(\"common.discountValue\")}\n                    type=\"number\"\n                    placeholder={watch(\"discountType\") === \"percent\" ? \"Masalan: 10\" : \"Masalan: 1000\"}\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\n                    inputProps={\n                      watch(\"discountType\") === \"percent\"\n                        ? {\n                          max: 100,\n                        }\n                        : {\n                          max: Number(watch(\"price\")),\n                        }\n                    }\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <SelectForm\n                    control={control}\n                    name=\"discountType\"\n                    options={DISCOUNT_TYPES}\n                    label={t(\"common.type\")}\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"discountStartAt\"\n                    disableTime={true}\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\n                    label={t(\"common.discountStartAt\")}\n                    minDate={new Date()}\n                    readOnly\n                    maxDate={\n                      watch(\"discountEndAt\")\n                        // @ts-ignore\n                        ? new Date(watch(\"discountEndAt\"))\n                        : undefined\n                    }\n                  />\n                </Grid>\n                <Grid item md={6}>\n                  <DatePickerForm\n                    control={control}\n                    name=\"discountEndAt\"\n                    rules={{ required: { value: false, message: \"Majburiy\" } }}\n                    disableTime={true}\n                    label={t(\"common.discountEndAt\")}\n                    readOnly\n                    minDate={discountEndMinDate}\n                  />\n                </Grid>\n              </Grid>\n            )}\n          </Grid>\n\n          {/* Tarkibli tovar */}\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"compounds\">{t('general.compounds')} <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n              <Switch\n                checked={hasCompoundsEnabled}\n                onChange={(e) => handleSwitchChange(\"compounds\", e.target.checked)}\n                id=\"compounds\"\n              />\n            </Box>\n            {hasCompoundsEnabled && (\n              fields.map((field: any, index: any) => (\n                <Grid container key={field.id} className=\"flex items-end justify-between mt-2\">\n                  <Grid item md={5}>\n                    <TextInput\n                      control={control}\n                      name={`compounds.${index}.name`}\n                      type=\"text\"\n                      rules={{ required: false }}\n                      label={t('general.composition')}\n                      placeholder=\"Masalan: Suv\"\n                    />\n                  </Grid>\n                  <Grid item md={5}>\n                    <Input\n                      label={t('general.quantity')}\n                      placeholder=\"Masalan: 100ml\"\n                      params={{\n                        ...register(\n                          `compounds.${index}.value`,\n                        ),\n                      }}\n                    // error={errors?.compounds?.[index]?.value}\n                    />\n                  </Grid>\n                  <Grid item md={1}>\n                    <Delete\n                      sx={{\n                        cursor: \"pointer\",\n                        color: \"#D54239\",\n                        fontSize: \"1.5rem\",\n                      }}\n                      className=\"mb-2.5\"\n                      onClick={() => {\n                        remove(index);\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n              ))\n            )}\n          </Grid>\n          {hasCompoundsEnabled && (\n            <Grid item xs={3} md={2} paddingBlock={2} className=\"flex flex-col \">\n              <CommonButton\n                startIcon={<PlusIcon />}\n                type=\"button\"\n                // title={`${t(\"general.add\")}`}\n                onClick={() => {\n                  const newValue = {\n                    name: null,\n                    value: null,\n                  };\n                  append(newValue);\n                }}\n              />\n            </Grid>\n          )}\n\n          {/* Qoshimcha xusiyat tovar */}\n          <Grid item md={12}>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n            >\n              <label htmlFor=\"attributes\">{t('general.attributes')} <span className=\"text-muted-foreground text-sm\">(ixtiyoriy)</span></label>\n              <Switch\n                checked={hasAttributesEnabled}\n                onChange={(e) => handleSwitchChange(\"attributes\", e.target.checked)}\n                id=\"attributes\"\n              />\n            </Box>\n          </Grid>\n          {\n            hasAttributesEnabled &&\n            <Grid item md={12}>\n              <AutoCompleteForm\n                control={control}\n                name=\"attributeId\"\n                optionsUrl=\"attribute/choose\"\n                dataProp=\"data.data\"\n                rules={{ required: false }}\n                multiple\n              />\n            </Grid>\n          }\n\n\n          {hasAttributesEnabled &&\n            selectedAttributes?.map((attributeId: any) => (\n              <Grid key={attributeId} item md={12}>\n                <p className=\"text-[#EB5B00] font-bold text-xl\">\n                  {\n                    filteredAttributes\n                      ?.filter((item: any) => item?._id === attributeId)\n                      ?.map((item: any) => (\n                        <div key={item?._id}>\n                          {item.name?.[currentLang]}:\n                        </div>\n                      ))\n                  }\n                </p>\n                <AttributeForm\n                  attributeId={attributeId}\n                  getByIdData={getByIdData}\n                  control={control}\n                  register={register}\n                />\n              </Grid>\n            ))\n          }\n\n          {/* Images */}\n          <Grid item md={12}>\n            <label className=\"py-2\" htmlFor=\"\">{t('general.recommendation_img')}</label><br /><br />\n            <div className=\"product-images\">\n              <ImageInputPro\n                control={control}\n                setValue={setValue}\n                name=\"image\"\n                rules={{ required: false }}\n                multiple\n                getImage={(img) => {\n                  setProductImages((prev) => [...prev, img]);\n                  setValue(\"image\", null);\n                }}\n                accept=\".png, .jpg, .jpeg\"\n              />\n              {productImages?.map((image) => (\n                <div className=\"product-image\" key={image._id}>\n                  <img\n                    src={process.env.REACT_APP_BASE_URL + image.url}\n                    alt=\"product\"\n                  />\n                  <div className=\"on-hover flex gap-2\">\n                    <span\n                      className=\"delete\"\n                      onClick={() =>\n                        setProductImages((prev) =>\n                          prev.filter((prevImg) => prevImg._id !== image._id)\n                        )\n                      }\n                    >\n                      <DeleteIcon />\n                    </span>\n                    <span\n                      className=\"preview\"\n                      onClick={() => {\n                        const modal = document.createElement('div');\n                        modal.style.position = 'fixed';\n                        modal.style.top = '0';\n                        modal.style.left = '0';\n                        modal.style.width = '100%';\n                        modal.style.height = '100%';\n                        modal.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\n                        modal.style.display = 'flex';\n                        modal.style.justifyContent = 'center';\n                        modal.style.alignItems = 'center';\n                        modal.style.zIndex = '2000';\n\n                        const img = document.createElement('img');\n                        img.src = process.env.REACT_APP_BASE_URL + image.url;\n                        img.alt = 'preview';\n                        img.style.maxWidth = '90%';\n                        img.style.maxHeight = '90%';\n                        img.style.border = '2px solid white';\n                        img.style.borderRadius = '8px';\n\n                        const closeButton = document.createElement('span');\n                        closeButton.innerText = '×';\n                        closeButton.style.position = 'absolute';\n                        closeButton.style.top = '20px';\n                        closeButton.style.right = '20px';\n                        closeButton.style.fontSize = '2rem';\n                        closeButton.style.color = 'white';\n                        closeButton.style.cursor = 'pointer';\n\n                        closeButton.onclick = () => {\n                          document.body.removeChild(modal);\n                        };\n\n                        modal.appendChild(img);\n                        modal.appendChild(closeButton);\n                        document.body.appendChild(modal);\n                      }}\n                    >\n                      <VisibilityIcon className=\"text-white text-lg\" />\n                    </span>\n                    <span\n                      className={`main-image ${image._id === mainImageId && \"active\"\n                        }`}\n                      onClick={() => setMainImageId(image?._id)}\n                    ></span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Grid>\n        </Grid>\n      </form>\n    </ProductFormStyled>\n  );\n};\n\nexport default ProductForm;\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport interface IIdImage {\n  url: string;\n  _id?: string;\n}\nexport interface IFileImage {\n  id?: string | number;\n  imageFile?: File;\n}\nconst usePostFile = (onSuccess?: (idImage: IIdImage) => void) => {\n  const [imageFile, setImage] = useState<IIdImage>();\n  const [isUploading, setIsUploading] = useState<boolean>();\n  const uploadImage = (image: IFileImage) => {\n    setIsUploading(true);\n    if (image.imageFile) {\n      axios({\n        url: `${process.env.REACT_APP_BASE_URL}/image/file/upload`,\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Accept-Language\": localStorage.getItem(\"i18nextLng\"),\n          // storeId: localStorage.getItem(\"storeId\"),\n        },\n        data: {\n          file: image.imageFile,\n          type: \"file\",\n        },\n      })\n        .then((res) => {\n          const IDImage = {\n            url: res.data.data.url,\n            _id: res.data.data._id,\n          };\n          onSuccess?.(IDImage);\n          setImage(IDImage);\n          setIsUploading(false);\n        })\n        .catch((err) => {\n          console.log(err.response.data.message);\n          setIsUploading(false);\n          toast.error(err.response.data.message, {\n            position: \"top-center\",\n            autoClose: 5000,\n          });\n        });\n    } else {\n      setIsUploading(false);\n      toast.error(\"Rasm fayl tanlanmadi!\", {\n        position: \"top-center\",\n        autoClose: 3000,\n      });\n    }\n  };\n\n  return { imageFile, isUploading, uploadImage, setImage };\n};\n\nexport default usePostFile;\n","import { DoneIcon, ImportIcon, UploadFile } from \"assets/svgs\";\r\nimport { CommonModal, Loading } from \"components\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useApiMutation } from \"hooks/useApi/useApiHooks\";\r\nimport { get } from \"lodash\";\r\nimport { Spin } from \"antd\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useAppDispatch } from \"store/storeHooks\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport CommonButton from \"components/common/commonButton/Button\";\r\nimport { reRenderTable } from \"components/elements/Table/reducer/table.slice\";\r\nimport { fetchAndDownloadData } from \"./fetchAndDownload\";\r\nimport { ImportStudentStyle } from \"./ProductForm.styled\";\r\nimport usePostFile from \"hooks/usePostFile\";\r\nimport { Box, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from \"@mui/material\";\r\n\r\nconst ImportModal = () => {\r\n  const [open, setOpen] = useState<string>(\"\");\r\n  const [errors, setErrors] = useState<{\r\n    error_items?: Array<{ position: string; error_message: string, value: any }>;\r\n    error_count?: number | undefined;\r\n    item_count?: number | undefined;\r\n  }>({});\r\n  const [uploadedFilePath, setUploadedFilePath] = useState<string>(\"\");\r\n  const fileRef = useRef<any>(null);\r\n  const dis = useAppDispatch();\r\n  const { t } = useTranslation();\r\n\r\n  const { mutate: confirmStudent, status: confirmStatus } = useApiMutation(\r\n    \"product/import\",\r\n    \"post\",\r\n    {\r\n      onSuccess() {\r\n        setOpen(\"\");\r\n        dis(reRenderTable(true));\r\n        setUploadedFilePath(\"\");\r\n        setErrors({});\r\n      },\r\n    },\r\n    true\r\n  );\r\n\r\n  const { mutate, data, status: uploadStatus } = useApiMutation(\r\n    \"product/import/validate\",\r\n    \"post\",\r\n    {\r\n      onSuccess(data) {\r\n        setErrors(get(data, \"data\", {}));\r\n        fileRef.current.value = \"\";\r\n      },\r\n      onError(data) {\r\n        // setUploadedFilePath(get(data, \"data.uploadedFilePath\", \"\"));\r\n        setErrors(get(data, \"message.errors\", {}));\r\n      },\r\n    },\r\n    true\r\n  );\r\n\r\n  const { uploadImage } = usePostFile((response) => {\r\n    if (response?.url) {\r\n      setUploadedFilePath(response.url);\r\n      mutate({ file_path: response.url });\r\n    }\r\n  });\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      uploadImage({ imageFile: file });\r\n    }\r\n  };\r\n\r\n  console.log(uploadedFilePath)\r\n  console.log(errors)\r\n\r\n  return (\r\n    <>\r\n      <CommonButton\r\n        title=\"Import\"\r\n        className=\"import\"\r\n        startIcon={<ImportIcon />}\r\n        onClick={() => setOpen(\"open-import\")}\r\n      />\r\n      <CommonModal open={!!open} setOpen={setOpen} canClose={false} width={800}>\r\n        <ImportStudentStyle>\r\n          <h2 className=\"text-center\">{t(\"general.import\")}</h2>\r\n          <h4 className=\"my-3\">\r\n            <Trans\r\n              i18nKey=\"general.import_student\"\r\n              components={[\r\n                <span\r\n                  className=\"text-blue-500 cursor-pointer\"\r\n                  onClick={() => {\r\n                    fetchAndDownloadData(\r\n                      \"uploads/product_template.xlsx\",\r\n                      \"products.xlsx\"\r\n                    );\r\n                  }}\r\n                ></span>,\r\n              ]}\r\n            />\r\n          </h4>\r\n\r\n          <div className=\"py-3 mb-3 import-student-box\">\r\n            <label htmlFor=\"import-student\">\r\n              {errors && errors?.error_count !== 0 ? <UploadFile /> : <DoneIcon />}\r\n              <span>\r\n                {errors && errors?.error_count !== 0\r\n                  ? t(\"general.upload_file\")\r\n                  : t(\"general.uploaded_file\")}\r\n              </span>\r\n              <input\r\n                type=\"file\"\r\n                className=\"upload-input\"\r\n                id=\"import-student\"\r\n                onChange={handleFileChange}\r\n                accept=\".xlsx,.xls\"\r\n                disabled={uploadStatus === \"loading\"}\r\n                ref={fileRef}\r\n              />\r\n              {uploadStatus === \"loading\" && (\r\n                <div className=\"d-flex align-items-center\">\r\n                  <Spin />\r\n                </div>\r\n              )}\r\n            </label>\r\n          </div>\r\n\r\n          {errors?.error_count && errors.error_count > 0 && (\r\n            <div className=\"errors-upload\">\r\n              <Box className=\"error-table\" sx={{ mt: 2 }}>\r\n                <Box sx={{ display: 'flex', gap: 3, mb: 2 }}>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Jami:</strong> {errors.item_count || 0}\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Xatolar soni:</strong> {errors.error_count || 0}\r\n                  </Typography>\r\n                </Box>\r\n\r\n                <TableContainer sx={{ border: 1, borderColor: 'divider' }}>\r\n                  <Table sx={{ minWidth: 650 }} aria-label=\"error table\">\r\n                    <TableHead>\r\n                      <TableRow sx={{ backgroundColor: 'grey.100' }}>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Joylashgan o'rni</TableCell>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Qiymati</TableCell>\r\n                        <TableCell sx={{ fontWeight: 'bold' }}>Xato xabari</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {errors.error_items?.map((error, index) => (\r\n                        <TableRow\r\n                          key={index}\r\n                          sx={{ '&:nth-of-type(even)': { backgroundColor: 'grey.50' } }}\r\n                        >\r\n                          <TableCell>{error.position}</TableCell>\r\n                          <TableCell>{error.value || '-'}</TableCell>\r\n                          <TableCell sx={{ color: 'error.main' }}>{error.error_message}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Box>\r\n            </div>\r\n          )}\r\n          <div className=\"d-flex justify-content-end align-items-center gap-3\">\r\n            <CommonButton\r\n              title={t(\"general.back\")!}\r\n              onClick={() => {\r\n                setOpen(\"\");\r\n                setUploadedFilePath(\"\");\r\n                setErrors({});\r\n              }}\r\n              disabled={\r\n                confirmStatus === \"loading\" || uploadStatus === \"loading\"\r\n              }\r\n            />\r\n            <CommonButton\r\n              title={t(\"general.save\")!}\r\n              className=\"main\"\r\n              onClick={() => confirmStudent({ file_path: uploadedFilePath })}\r\n              status={confirmStatus}\r\n              disabled={confirmStatus === \"loading\" || !uploadedFilePath || (errors.error_count ?? 0) > 0}\r\n            />\r\n          </div>\r\n        </ImportStudentStyle>\r\n      </CommonModal>\r\n\r\n      {uploadStatus === \"loading\" && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImportModal;","import { toast } from \"react-toastify\";\r\n\r\nexport function fetchAndDownloadData(url: string, fileName: string): void {\r\n  const token = localStorage.getItem(\"token\");\r\n  const branchId = localStorage.getItem(\"branchId\");\r\n\r\n  fetch(process.env.REACT_APP_BASE_URL + url, {\r\n    headers: {\r\n      Authorization: `Bearer ${token} `,\r\n      \"Content-Type\": \"application/json\",\r\n      Branch: `${branchId}`,\r\n      Organization: \"test\",\r\n    },\r\n  })\r\n    .then((response) => response.blob())\r\n    .then((blob) => {\r\n      const url = window.URL.createObjectURL(new Blob([blob]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\"download\", fileName);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      // Yaratilgan linkni tozalash\r\n      document.body.removeChild(link);\r\n    })\r\n    .catch((error) => {\r\n      toast.error(\"Ma'lumot yuklashda xatolik yuz berdi\");\r\n    });\r\n}\r\n","import Product from \"./container/Product\";\n\nexport default Product;\n","import { AutoCompleteFilter, AutoCompleteForm, Checkbox, ExportButton, FormDrawer, Table } from \"components\";\nimport { useProductColumns } from \"./product.columns\";\nimport { useRoleManager } from \"services/useRoleManager\";\nimport { useAppDispatch } from \"store/storeHooks\";\nimport { setOpenDrawer } from \"components/elements/FormDrawer/formdrawer.slice\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid, InputLabel, MenuItem, Select } from \"@mui/material\";\nimport { useMemo, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport ProductForm from \"../components/ProductForm\";\nimport { IIdImage } from \"hooks/usePostFile\";\nimport WarningModal from \"components/common/WarningModal/WarningModal\";\nimport ImportModal from \"../components/ImportModal\";\n\nconst Product = () => {\n  const columns = useProductColumns();\n  const hasAccess = useRoleManager();\n  const dis = useAppDispatch();\n  const { t } = useTranslation();\n  const formStore = useForm();\n  const [editingProductId, setEditingProductId] = useState<any>();\n  const [productId, setProductId] = useState(\"\");\n  const [productImages, setProductImages] = useState<IIdImage[]>([]);\n  const [mainImageId, setMainImageId] = useState<any>();\n  const [subCategory, setSubCategory] = useState<any>();\n\n  const queryParams = useMemo(() => ({\n    isActive: formStore.watch(\"isActiveQuery\") || undefined,\n    stockState: formStore.watch(\"stockState\") || undefined,\n  }), [formStore.watch(\"isActiveQuery\"), formStore.watch(\"stockState\")]);\n\n  const exportUrl: string = \"/product/export\";\n\n  const renderHeader = (\n    <Grid className=\"lg:w-[60%] w-full gap-y-2 sm:gap-y-0 grid sm:grid-cols-6 items-center gap-x-2\">\n      <Grid item>\n        <Checkbox\n          control={formStore.control}\n          label={t(\"enum.active\")}\n          name=\"isActiveQuery\"\n        />\n      </Grid>\n      <Grid item>\n        <Select\n          style={{\n            width: \"100%\",\n            paddingBlock: \"4px\",\n            borderRadius: \"10px\",\n          }}\n          size=\"small\"\n          labelId=\"stockState-label\"\n          id=\"stockState\"\n          value={formStore.watch(\"stockState\") || \"\"}\n          onChange={(e) => formStore.setValue(\"stockState\", e.target.value)}\n          displayEmpty\n        >\n          {formStore.watch(\"stockState\") && (\n            <MenuItem value=\"\">Tozalash</MenuItem>\n          )}\n          {!formStore.watch(\"stockState\") && (\n            <MenuItem value=\"\" hidden disabled>\n              Omborni holati\n            </MenuItem>\n          )}\n          <MenuItem value=\"yellowLine\">Sariq chiziq</MenuItem>\n          <MenuItem value=\"redLine\">Qizil chiziq</MenuItem>\n\n        </Select>\n\n      </Grid>\n      <Grid item>\n        <AutoCompleteFilter\n          optionsUrl=\"category/paging\"\n          filterName=\"categoryId\"\n          placeholder={t(\"common.category\")}\n          onChange={(item: any) => {\n            setSubCategory(item);\n          }}\n        />\n      </Grid>\n      <Grid item>\n        {\n          subCategory && <AutoCompleteFilter\n            optionsUrl=\"category/paging\"\n            filterName=\"categoryId\"\n            placeholder={t(\"common.category\")}\n            onChange={() => setSubCategory((prev: any) => prev)}\n            exQueryParams={{\n              parentId: subCategory._id\n            }}\n          />\n        }\n      </Grid>\n      <Grid item>\n        <ImportModal />\n      </Grid>\n      <Grid item>\n        <ExportButton url={exportUrl} extraParams={queryParams} />\n      </Grid>\n    </Grid>\n  );\n\n  const resetForm = () => {\n    setEditingProductId(null);\n    setProductImages([]);\n    setMainImageId(null);\n    formStore.reset({\n      name: { uz: \"\", ru: \"\", en: \"\" },\n      price: \"\",\n      salePrice: \"\",\n      inStock: \"\",\n      discountValue: undefined,\n      discountType: undefined,\n      discountStartAt: undefined,\n      discountEndAt: undefined,\n      imageUrl: \"\",\n      isActive: false,\n      discountEnabled: false,\n      isActiveQuery: formStore.watch(\"isActiveQuery\"),\n      stockState: formStore.watch(\"stockState\"),\n      measureId: \"\",\n      categoryId: \"\",\n      description: \"\",\n      attributes: null,\n      compounds: null\n    });\n  };\n\n  return (\n    <>\n      <Table\n        columns={columns}\n        dataUrl=\"product/paging\"\n        searchable\n        headerChildren={renderHeader}\n        onAddButton={hasAccess(\"productCreate\") ? () => dis(setOpenDrawer(true)) : undefined}\n        onEditColumn={\n          hasAccess(\"productUpdate\")\n            ? (row) => {\n              setEditingProductId(row._id);\n              dis(setOpenDrawer(true));\n            }\n            : undefined\n        }\n        onDeleteColumn={\n          hasAccess(\"productDelete\")\n            ? (row) => setProductId(row._id)\n            : undefined\n        }\n        exQueryParams={queryParams}\n      />\n      <WarningModal open={productId} setOpen={setProductId} url=\"product/delete\" />\n      <FormDrawer\n        FORM_ID=\"product\"\n        isEditing={!!editingProductId}\n        customTitle={t(\"general.addProduct\")}\n        onClose={resetForm}\n      >\n        <ProductForm\n          formStore={formStore}\n          resetForm={resetForm}\n          editingProductId={editingProductId}\n          productProps={{\n            productImages,\n            setProductImages,\n            mainImageId,\n            setMainImageId,\n          }}\n        />\n      </FormDrawer>\n    </>\n  );\n};\n\nexport default Product;\n","import { GridColumns } from \"@mui/x-data-grid\";\nimport { Tooltip } from \"antd\";\nimport { get } from \"lodash\";\nimport { useTranslation } from \"react-i18next\";\nimport { numberFormat } from \"utils/numberFormat\";\n\nexport const useProductColumns = (): GridColumns => {\n  const { t } = useTranslation();\n\n  return [\n    {\n      field: t(\"common.productName\"),\n      renderCell({ row }) {\n        const title = row?.name;\n        const truncatedTitle = title?.length > 30 ? `${title.substring(0, 30)}...` : title;\n    \n        return (\n          <Tooltip title={title} arrow>\n            <span>{truncatedTitle}</span>\n          </Tooltip>\n        );\n      },\n    },\n    {\n      field: t(\"common.price\"),\n      renderCell({ row }) {\n        return numberFormat(get(row, \"price\", \"\"));\n      },\n    },\n    {\n      field: t(\"common.discountValue\"),\n      renderCell({ row }) {\n        const discountValue = get(row, \"discountValue\", \"\");\n        if (discountValue === 0) {\n          return \"\"; \n        }\n        return (\n          numberFormat(discountValue) + \n          (row.discountType === \"percent\" ? \"%\" : \"\")\n        );\n      },\n    },\n    {\n      field: t(\"common.residue\"),\n      renderCell({ row }) {\n        return numberFormat(get(row, \"inStock\", \"\"));\n      },\n    },\n    {\n      field: t(\"common.parent_category\"),\n      renderCell({ row }) {\n        return get(row, \"category.parent.name\", \"\") || get(row, \"category.name\", \"\");\n      },\n    },\n    {\n      field: t(\"common.child_category\"),\n      renderCell({ row }) {\n        return  get(row, \"category.parent.name\", \"\") && get(row, \"category.name\", \"\");\n      },\n    },\n  ];\n};\n","import { useTranslation } from \"react-i18next\";\nimport { IRoleData } from \"store/reducers/LoginSlice\";\n\n\nexport const PAYMENT_TYPES = [\n  {\n    _id: \"cash\",\n    name: \"Naqd\",\n    trans_key: \"cash\",\n  },\n  // {\n  //   _id: \"card\",\n  //   name: \"Karta\",\n  //   trans_key: \"card\",\n  // },\n];\n\nexport const DISCOUNT_TYPES = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\ninterface ISettingsTabs {\n  name: string;\n  key: string;\n  role: keyof IRoleData;\n}\n\nexport const SETTINGS_TABS: ISettingsTabs[] = [\n  {\n    name: \"functionality\",\n    key: \"functionality\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"discounts\",\n    key: \"discountOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"bonus\",\n    key: \"bonusOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"premium_discounts\",\n    key: \"premiumDiscountOrder\",\n    role: \"role\",  // o'zgartirish kere \n  },\n  {\n    name: \"main_address\",\n    key: \"mainAddress\",\n    role: \"role\",  // o'zgartirish kere measure\n  },\n  {\n    name: \"website_conditions\",\n    key: \"websiteConditions\",\n    role: \"role\", // o'zgartirish kere siteSettings\n  },\n  // {\n  //   name: \"Shaharlar\",\n  //   key: \"cities\",\n  //   role: \"city\",\n  // },\n];\n\nexport const MINIMUM_ORDER_OPTIONS = [\n  {\n    _id: \"percent\",\n    name: \"Foiz\",\n    trans_key: \"percent\",\n  },\n  {\n    _id: \"amount\",\n    name: \"Miqdor\",\n    trans_key: \"amount\",\n  },\n];\n\n\nexport const RATINGS = [\n  {\n    rate: 5,\n  },\n  {\n    rate: 4,\n  },\n  {\n    rate: 3,\n  },\n  {\n    rate: 2,\n  },\n  {\n    rate: 1,\n  },\n];","export const numberFormat = (number: any) => {\n  if (number || number === 0) {\n    // Floating-point xatoliklarni oldini olish\n    const rounded = Math.round((number + Number.EPSILON) * 100) / 100;\n\n    return rounded\n      .toLocaleString(\"en-US\", {\n        minimumFractionDigits: 0, // Har doim 2 kasr\n        maximumFractionDigits: 0, // Kasr 2 dan oshmaydi\n      })\n      .replaceAll(\",\", \" \"); // Minglik ajratgich\n  }\n  return \"\";\n};\n"],"names":["TextEditorStyled","styled","RichTextEditor","props","value","onChange","onImageUpload","isError","type","controls","ProductFormStyled","ImportStudentStyle","attributeId","control","register","getByIdData","useFieldArray","name","fields","append","remove","t","useTranslation","map","field","index","Grid","container","className","item","md","rules","required","label","params","Delete","sx","cursor","color","fontSize","onClick","handleRemove","id","xs","paddingBlock","startIcon","amount","attributeItem","ImageInputStyled","onSuccess","useState","imageFile","setImage","isUploading","setIsUploading","uploadImage","image","axios","url","process","method","headers","Authorization","localStorage","getItem","data","file","then","res","IDImage","_id","catch","err","console","log","response","message","toast","position","autoClose","title","setValue","getImage","multiple","accept","isOpen","useAppSelector","store","formDrawerState","useEffect","undefined","usePostProductImage","render","fieldState","ref","e","target","files","CircularProgress","size","src","error","formStore","resetForm","editingProductId","productProps","productImages","setProductImages","mainImageId","setMainImageId","handleSubmit","reset","watch","currentLang","formState","errors","hasAttributesEnabled","setHasAttributesEnabled","hasCompoundsEnabled","setHasCompoundsEnabled","setSubCategory","subChildCategory","setSubChildCategory","selectedParentCategory","setSelectedParentCategory","setSelectedChildCategory","storeSections","setStoreSections","selectedLocation","setSelectedLocation","mapImageUrl","setMapImageUrl","width","height","imageSize","setImageSize","discountEndMinDate","Date","setDate","getDate","useApiMutation","mutate","status","useApi","enabled","suspense","getByIdStatus","selectedAttributeIds","currentAttributes","cleanedAttributes","Object","entries","filter","key","includes","reduce","acc","parentCategoryId","categoryId","attributes","length","compounds","productData","attr","attribute","items","isActiveQuery","description","attributeDetails","locationBlock","locationShelf","locationRow","location","section_id","section_name","rect","images","find","img","mainImage","foundMain","main","loadStoreMapData","fetch","json","sections","selectedAttributes","attributesChoose","attributesData","filteredAttributes","some","selected","isActive","handleSwitchChange","useCallback","onSubmit","requestData","price","inStock","redLine","yellowLine","imageIds","expiryDate","isMyExpire","toISOString","discountEnabled","Array","isArray","itm","Number","discountType","discountValue","discountStartAt","discountEndAt","spacing","placeholder","display","justifyContent","Box","ProductLocationSelector","onLocationSelect","optionsUrl","dataProp","exQueryParams","parentId","TextEditor","alignItems","htmlFor","Switch","checked","disableTime","readOnly","minDate","inputProps","max","options","DISCOUNT_TYPES","maxDate","prev","alt","prevImg","modal","document","createElement","style","top","left","backgroundColor","zIndex","maxWidth","maxHeight","border","borderRadius","closeButton","innerText","right","onclick","body","removeChild","appendChild","Visibility","open","setOpen","setErrors","uploadedFilePath","setUploadedFilePath","fileRef","useRef","dis","useAppDispatch","reRenderTable","confirmStudent","confirmStatus","get","current","onError","uploadStatus","usePostFile","file_path","canClose","i18nKey","components","fileName","token","branchId","Branch","Organization","blob","window","URL","createObjectURL","Blob","link","href","setAttribute","click","fetchAndDownloadData","error_count","disabled","mt","gap","mb","Typography","variant","item_count","TableContainer","borderColor","Table","minWidth","TableHead","TableRow","TableCell","fontWeight","TableBody","error_items","error_message","columns","renderCell","row","truncatedTitle","substring","arrow","numberFormat","useProductColumns","hasAccess","useRoleManager","useForm","setEditingProductId","productId","setProductId","subCategory","queryParams","useMemo","stockState","renderHeader","Select","labelId","displayEmpty","MenuItem","hidden","filterName","extraParams","uz","ru","en","salePrice","imageUrl","measureId","dataUrl","searchable","headerChildren","onAddButton","setOpenDrawer","onEditColumn","onDeleteColumn","WarningModal","FORM_ID","isEditing","customTitle","onClose","PAYMENT_TYPES","trans_key","SETTINGS_TABS","role","RATINGS","rate","number","Math","round","EPSILON","toLocaleString","minimumFractionDigits","maximumFractionDigits","replaceAll"],"sourceRoot":""}