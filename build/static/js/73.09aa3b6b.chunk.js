"use strict";(self.webpackChunkbestune_admin=self.webpackChunkbestune_admin||[]).push([[73],{1903:function(n,e,t){t.d(e,{Z:function(){return s}});var r,o=t(30168),i=t(47191),d=(0,t(17939).default)(i.LD)(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-direction: column-reverse;\n  border: none;\n  width: 100%;\n  padding-bottom: 20px;\n  .quill {\n    .ql-container {\n      .ql-tooltip {\n        transform: translateX(97px);\n        z-index: 10;\n      }\n      .ql-editor {\n        background-color: #fff;\n        padding: 15px;\n        border-radius: 12px;\n        min-height: 80px;\n        transition: all 0.3s;\n        border: 1px solid #d9d9d9;\n        p {\n          margin: 0;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .ql-toolbar {\n    padding: 0;\n    transition: opacity 1s ease-out;\n    border-radius: 0;\n    border-bottom: none;\n    margin-top: 10px;\n    button {\n      border: none;\n      margin: 0 5px;\n      svg {\n        width: 24px !important;\n        height: 24px !important;\n        fill: #000 !important;\n        path {\n          fill: #000;\n        }\n      }\n    }\n  }\n  .ql-editing {\n    left: 30px !important;\n    transform: translateX(0px) !important;\n    z-index: 100;\n  }\n"]))),a=t(80184),s=function(n){var e=n.value,t=n.onChange,r=n.onImageUpload,o=n.isError,i=n.type;return(0,a.jsx)(d,{controls:[["bold","italic","underline","strike","clean","unorderedList","orderedList","alignLeft","alignCenter","alignRight"]],isError:!!o,value:e,onChange:t,onImageUpload:r,type:i})}},89073:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r=t(29439),o=t(71796),i=t(72791),d=t(50131),a=t(39230),s=t(80184),l=t(79405),c=t(36978),u=t(61134),m=t(1413),p=t(61889),x=t(1903),f=t(32188),g=function(n){var e=n.formStore,t=n.editingBannerId,r=n.resetForm,d=(0,a.$G)().t,l=e.control,c=e.handleSubmit,g=e.reset,h=e.setValue,b=(0,f.uC)(t?"/banner/update":"/banner/create",t?"put":"post"),j=b.mutate,v=b.status,I=(0,f.h_)("banner/get-by-id/".concat(t),{},{enabled:!!t,suspense:!1}),Z=I.data,C=I.status;(0,i.useEffect)((function(){"success"===v&&r()}),[v,r]);return(0,i.useEffect)((function(){"success"===C&&g({title:Z.data.title,imageId:Z.data.image,productId:Z.data.productId,productIds:Z.data.productIds,description:Z.data.description})}),[C,Z,g]),(0,s.jsx)("div",{className:"custom-drawer",children:(0,s.jsx)("form",{id:"banner",onSubmit:c((function(n){var e,r,o;j((0,m.Z)((0,m.Z)({_id:t},n),{},{imageId:null===(e=n.imageId)||void 0===e?void 0:e._id,productId:(null===(r=n.productId)||void 0===r?void 0:r._id)||n.productId,productIds:(null===(o=n.productIds)||void 0===o?void 0:o.map((function(n){return n._id||n})))||n.productIds}))})),children:(0,s.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(p.ZP,{item:!0,md:12,children:(0,s.jsx)(o.oi,{control:l,name:"title",label:d("common.name")})}),(0,s.jsx)(p.ZP,{item:!0,md:12,children:(0,s.jsx)(o.Ls,{control:l,name:"productId",optionsUrl:"product/choose",dataProp:"data.data",label:d("common.product"),rules:{required:!1}})}),(0,s.jsx)(p.ZP,{item:!0,md:12,children:(0,s.jsx)(o.Ls,{control:l,name:"productIds",optionsUrl:"product/choose",dataProp:"data.data",label:d("common.products"),rules:{required:!1},multiple:!0})}),(0,s.jsxs)(p.ZP,{item:!0,md:12,children:[(0,s.jsx)("label",{className:"py-2",htmlFor:"description",children:d("common.description")}),(0,s.jsx)(u.Qr,{name:"description",control:l,render:function(n){var e=n.field;return(0,s.jsx)(x.Z,{value:e.value,onChange:function(n){e.onChange(n)}})}})]}),(0,s.jsxs)(p.ZP,{item:!0,md:12,children:[(0,s.jsx)("label",{className:"py-2",htmlFor:"",children:d("general.recommendation_img")}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(o.aG,{control:l,setValue:h,name:"imageId"}),(0,s.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,s.jsx)("span",{children:"O'lcham"}),(0,s.jsx)("span",{children:"1080(px) - 250(px)"})]})]})]})})})},h=t(29001),b=t(84544),j=function(){var n=(0,i.useState)(),e=(0,r.Z)(n,2),t=e[0],m=e[1],p=(0,i.useState)(),x=(0,r.Z)(p,2),f=x[0],j=x[1],v=[{field:(0,(0,a.$G)().t)("common.name"),renderCell:function(n){var e=n.row,t=null===e||void 0===e?void 0:e.title,r=(null===t||void 0===t?void 0:t.length)>50?"".concat(t.substring(0,50),"..."):t;return(0,s.jsx)(d.Z,{title:t,arrow:!0,children:(0,s.jsx)("span",{children:r})})}}],I=(0,h.w)(),Z=(0,a.$G)().t,C=(0,l.T)(),_=(0,u.cI)(),w=function(){m(void 0),_.reset({title:"",imageId:"",description:""})},y=(0,i.useMemo)((function(){return{}}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.iA,{dataUrl:"banner/paging",columns:v,searchable:!0,onAddButton:I("bannerCreate")?function(){return C((0,c.dl)(!0))}:void 0,onEditColumn:I("bannerUpdate")?function(n){m(n._id),C((0,c.dl)(!0))}:void 0,onDeleteColumn:I("bannerDelete")?function(n){return j(n._id)}:void 0,exQueryParams:y}),(0,s.jsx)(b.Z,{open:f,setOpen:j,url:"banner/delete"}),(0,s.jsx)(o._8,{FORM_ID:"banner",isEditing:!!t,customTitle:Z(t?"general.editBanner":"general.addBanner"),onClose:w,children:(0,s.jsx)(g,{formStore:_,resetForm:w,editingBannerId:t})})]})}}}]);
//# sourceMappingURL=73.09aa3b6b.chunk.js.map