{"version":3,"file":"static/js/310.b60ccfd8.chunk.js","mappings":"6LAEaA,E,SAAoBC,QAAAA,IAAU,y9C,qHCgF3C,EAvEoB,WAAO,IAAD,IAClBC,ECN6B,WAClC,IAAQC,GAAMC,EAAAA,EAAAA,MAAND,EAER,MAAO,CAOJ,CACGE,MAAOF,EAAE,eACTG,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OACG,iBACGC,MAAO,CACJC,MAAoB,WAAbF,EAAIG,KAAoB,UAAY,WAC5C,SAEY,WAAbH,EAAIG,KAAiB,YAAOC,EAAAA,EAAAA,GAAaJ,EAAIK,SAAO,YAASD,EAAAA,EAAAA,GAAaJ,EAAIK,UAGxF,GAEH,CACGP,MAAOF,EAAE,eACTG,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OAAOA,EAAIM,WAAaC,IAAMP,EAAIM,WAAWE,OAAO,mBACvD,GAEH,CACGV,MAAOF,EAAE,kBACTG,WAAU,YAAW,IAARC,EAAG,EAAHA,IACV,OAAO,SAACS,EAAA,EAAO,CAACC,MAAOV,EAAIW,QAASC,UAAU,MAAK,UAAC,iBAAMC,UAAU,UAAS,SAAEb,EAAIW,WACtF,GAGT,CD/BkBG,GACRlB,GAAMC,EAAAA,EAAAA,MAAND,EAGSmB,GACbC,EAAAA,EAAAA,KADFC,MAASC,KAGLC,GACJ,SAACC,EAAA,GAAI,CAACC,WAAS,EAACC,MAAO,IAAKC,QAAS,EAAGV,UAAU,OAAM,UACtD,SAACO,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,SAAC,KAAe,QAMtB,GAAgCC,EAAAA,EAAAA,IAAe,gBAAiB,OAAQ,CACtEC,UAAS,WACP,IAFIC,EAAM,EAANA,OAAQV,EAAI,EAAJA,KAAW,EAALW,MAatB,OALAC,EAAAA,EAAAA,YAAU,WACRF,EAAOV,EACT,GAAG,CAACU,KAIF,UAACnC,EAAiB,YAChB,UAAC2B,EAAA,GAAI,CAACP,UAAU,4BAA2B,WACzC,SAACO,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,iBAAKZ,UAAU,gBAAe,WAC5B,kBAAMA,UAAU,SAAQ,WACrBT,EAAAA,EAAAA,GAAiB,OAAJc,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYa,cAAe,KACxCC,EAAAA,EAAAA,KAAIjB,EAAc,WAAY,WAEjC,iBAAMF,UAAU,OAAM,SAAEjB,EAAE,qCAG9B,SAACwB,EAAA,GAAI,CAACI,MAAI,EAACC,GAAI,EAAE,UACf,gBAAKZ,UAAU,UAAS,UACtB,iBAAKA,UAAU,iBAAgB,WAC7B,kBAAMA,UAAU,QAAO,UAAEjB,EAAE,mCAAmC,QAC9D,kBAAMiB,UAAU,SAAQ,WACrBT,EAAAA,EAAAA,GAAiB,OAAJc,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYe,QAAS,KAClCD,EAAAA,EAAAA,KAAIjB,EAAc,WAAY,qBAazC,SAAC,KAAK,CACJpB,QAASA,EACTuC,QAAQ,iBACRC,eAAgBhB,EAChBiB,cAAe,CAAC,MAIxB,EE1EA,EAJc,WACX,OAAO,SAAC,EAAW,GACtB,C,wDCJO,IAAMhC,EAAe,SAACiC,GAC3B,OAAIA,GAAqB,IAAXA,GAEIC,KAAKC,MAAkC,KAA3BF,EAASG,OAAOC,UAAkB,KAG3DC,eAAe,QAAS,CACvBC,sBAAuB,EACvBC,sBAAuB,IAExBC,WAAW,IAAK,KAEd,EACT,C","sources":["pages/transaction/container/Transaction.styled.ts","pages/transaction/container/Transaction.tsx","pages/transaction/container/transaction.columns.tsx","pages/transaction/index.tsx","utils/numberFormat.ts"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const TransactionStyled = styled.div`\n  padding: 20px;\n  border-radius: 12px;\n  background: #fff;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.07);\n  margin-top: 10px;\n  .total-balance {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100px;\n    border-radius: 12px;\n    background: #f3f3f8;\n    .amount {\n      font-size: 24px;\n      font-weight: 500;\n    }\n    .text {\n      color: #888a99;\n      font-size: 14px;\n      font-weight: 500;\n    }\n  }\n  .balance {\n    height: 100px;\n    border-radius: 12px;\n    background: #f3f3f8;\n    padding: 14px;\n    .amount-wrapper {\n      display: flex;\n      justify-content: space-between;\n      border-radius: 6px;\n      background: #e2e2eb;\n      padding: 9px 16px;\n      border-radius: 6px;\n      &:first-of-type {\n        margin-bottom: 7px;\n        border-left: 5px solid #17c657;\n      }\n      &:last-of-type {\n        border-left: 5px solid #eb5757;\n      }\n      .title {\n        font-size: 13px;\n        color: #333;\n      }\n      .amount {\n        font-size: 13px;\n        font-weight: 600;\n      }\n    }\n  }\n  .buttons {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100px;\n    .income {\n      background-color: #17c657 !important;\n    }\n    .outcome {\n      background-color: #eb5757 !important;\n    }\n  }\n  .comment {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n","import { Grid } from \"@mui/material\";\nimport { TransactionStyled } from \"./Transaction.styled\";\nimport { RangeDatePicker, Table } from \"components\";\nimport { useTransactionColumns } from \"./transaction.columns\";\nimport { useApi, useApiMutation } from \"hooks/useApi/useApiHooks\";\nimport { numberFormat } from \"utils/numberFormat\";\nimport useCommonContext from \"context/useCommon\";\nimport { get } from \"lodash\";\nimport { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Transaction = () => {\n  const columns = useTransactionColumns();\n  const { t } = useTranslation();\n\n  const {\n    state: { data: settingsData },\n  } = useCommonContext();\n\n  const renderHeader = (\n    <Grid container width={235} spacing={2} className=\"pb-2\">\n      <Grid item sm={6}>\n        <RangeDatePicker />\n      </Grid>\n    </Grid>\n  );\n\n\n  const { mutate, data, reset } = useApiMutation(\"balance/total\", \"post\", {\n    onSuccess() {\n      // toast.success(t(\"general.success\"));\n    },\n  });\n\n\n\n  useEffect(() => {\n    mutate(data);\n  }, [mutate]);\n\n\n  return (\n    <TransactionStyled>\n      <Grid className=\"grid md:grid-cols-2 gap-2\">\n        <Grid item sm={6}>\n          <div className=\"total-balance\">\n            <span className=\"amount\">\n              {numberFormat(data?.data?.storeBalance)}{\" \"}\n              {get(settingsData, \"currency\", \"uzs\")}\n            </span>\n            <span className=\"text\">{t('transaction.total_balance')}</span>\n          </div>\n        </Grid>\n        <Grid item sm={6}>\n          <div className=\"balance\">\n            <div className=\"amount-wrapper\">\n              <span className=\"title\">{t('transaction.total_filled_amount')}:</span>\n              <span className=\"amount\">\n                {numberFormat(data?.data?.income)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div>\n            {/* <div className=\"amount-wrapper\">\n              <span className=\"title\">Umumiy chiqarilgan miqdor:</span>\n              <span className=\"amount\">\n                {numberFormat(data?.data?.expense)}{\" \"}\n                {get(settingsData, \"currency\", \"uzs\")}\n              </span>\n            </div> */}\n          </div>\n        </Grid>\n      </Grid>\n      <Table\n        columns={columns}\n        dataUrl=\"balance/paging\"\n        headerChildren={renderHeader}\n        exQueryParams={{}}\n      />\n    </TransactionStyled>\n  );\n};\n\nexport default Transaction;\n","import { Tooltip } from \"@mui/material\";\nimport { GridColumns } from \"@mui/x-data-grid\";\nimport dayjs from \"dayjs\";\nimport { useTranslation } from \"react-i18next\";\nimport { numberFormat } from \"utils/numberFormat\";\n\nexport const useTransactionColumns = (): GridColumns => {\n   const { t } = useTranslation();\n\n   return [\n      // {\n      //    field: \"Do'kon nomi\",\n      //    renderCell({ row }) {\n      //       return row.store?.name;\n      //    },\n      // },\n      {\n         field: t('enum.amount'),\n         renderCell({ row }) {\n            return (\n               <span\n                  style={{\n                     color: row.type === 'income' ? \"#17C657\" : \"#EB5757\"\n                  }}\n               >\n                  {row.type === 'income' ? `+${numberFormat(row.amount)}` : `-${numberFormat(row.amount)}`}\n               </span>\n            )\n         },\n      },\n      {\n         field: t('common.date'),\n         renderCell({ row }) {\n            return row.createdAt && dayjs(row.createdAt).format('DD.MM.YYYY HH:mm');\n         },\n      },\n      {\n         field: t('common.comment'),\n         renderCell({ row }) {\n            return <Tooltip title={row.comment} placement=\"top\"><span className=\"comment\">{row.comment}</span></Tooltip>\n         },\n      },\n   ];\n};\n","import Transaction from './container/Transaction'\n\nconst index = () => {\n   return <Transaction />\n}\n\nexport default index\n","export const numberFormat = (number: any) => {\n  if (number || number === 0) {\n    // Floating-point xatoliklarni oldini olish\n    const rounded = Math.round((number + Number.EPSILON) * 100) / 100;\n\n    return rounded\n      .toLocaleString(\"en-US\", {\n        minimumFractionDigits: 0, // Har doim 2 kasr\n        maximumFractionDigits: 0, // Kasr 2 dan oshmaydi\n      })\n      .replaceAll(\",\", \" \"); // Minglik ajratgich\n  }\n  return \"\";\n};\n"],"names":["TransactionStyled","styled","columns","t","useTranslation","field","renderCell","row","style","color","type","numberFormat","amount","createdAt","dayjs","format","Tooltip","title","comment","placement","className","useTransactionColumns","settingsData","useCommonContext","state","data","renderHeader","Grid","container","width","spacing","item","sm","useApiMutation","onSuccess","mutate","reset","useEffect","storeBalance","get","income","dataUrl","headerChildren","exQueryParams","number","Math","round","Number","EPSILON","toLocaleString","minimumFractionDigits","maximumFractionDigits","replaceAll"],"sourceRoot":""}